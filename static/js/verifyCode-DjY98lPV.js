import{V as r,p as e}from"./@pureadmin-f9nW_l6N.js";import{t as o,$ as a,B as l}from"./index-CQT2hjpo.js";import{S as i,r as n}from"./@vue-CFXrvzpc.js";const t=/^\d{6}$/,u=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,g=i({password:[{validator:(r,e,l)=>{""===e?l(new Error(o(a("login.purePassWordReg")))):u.test(e)?l():l(new Error(o(a("login.purePassWordRuleReg"))))},trigger:"blur"}],verifyCode:[{validator:(r,e,i)=>{""===e?i(new Error(o(a("login.pureVerifyCodeReg")))):l().verifyCode!==e?i(new Error(o(a("login.pureVerifyCodeCorrectReg")))):i()},trigger:"blur"}]}),s=i({phone:[{validator:(e,l,i)=>{""===l?i(new Error(o(a("login.purePhoneReg")))):r(l)?i():i(new Error(o(a("login.purePhoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(r,e,l)=>{""===e?l(new Error(o(a("login.pureVerifyCodeReg")))):t.test(e)?l():l(new Error(o(a("login.pureVerifyCodeSixReg"))))},trigger:"blur"}]}),v=i({phone:[{validator:(e,l,i)=>{""===l?i(new Error(o(a("login.purePhoneReg")))):r(l)?i():i(new Error(o(a("login.purePhoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(r,e,l)=>{""===e?l(new Error(o(a("login.pureVerifyCodeReg")))):t.test(e)?l():l(new Error(o(a("login.pureVerifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(r,e,l)=>{""===e?l(new Error(o(a("login.purePassWordReg")))):u.test(e)?l():l(new Error(o(a("login.purePassWordRuleReg"))))},trigger:"blur"}]}),d=n(!1),p=n(null),w=n(""),R=()=>({isDisabled:d,timer:p,text:w,start:(r,o,a=60)=>{return l=void 0,i=null,n=function*(){if(!r)return;const l=e(a,!0);yield r.validateField(o,(r=>{r&&(clearInterval(p.value),d.value=!0,w.value=`${a}`,p.value=setInterval((()=>{a>0?(a-=1,w.value=`${a}`):(w.value="",d.value=!1,clearInterval(p.value),a=l)}),1e3))}))},new Promise(((r,e)=>{var o=r=>{try{t(n.next(r))}catch(o){e(o)}},a=r=>{try{t(n.throw(r))}catch(o){e(o)}},t=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);t((n=n.apply(l,i)).next())}));var l,i,n},end:()=>{w.value="",d.value=!1,clearInterval(p.value)}});export{v as a,g as l,s as p,R as u};
