var le=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var P=Math.pow,U=(n,l,t)=>l in n?le(n,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[l]=t,A=(n,l)=>{for(var t in l||(l={}))re.call(l,t)&&U(n,t,l[t]);if(Y)for(var t of Y(l))ne.call(l,t)&&U(n,t,l[t]);return n},V=(n,l)=>oe(n,se(l));import{u as M,a as ie,b as ce}from"./index-BsMrbun3.js";import{k as D,d as R,J as Q,p as Z,q as u,t as L,Y as ue,a5 as X,o as C,g as O,h as ee,w as ve,e as W,B as N,u as S,y as $,$ as fe,T as me,b7 as de,c as te,b as q,a0 as pe,n as he,m as k,x as I,I as be,S as ye,b9 as Se,D as ge,a4 as G,V as we,A as ze,z as _e,G as Ee,a3 as Te,C as He}from"./index-Ds-GAlGo.js";import{_ as j}from"./use-form-item-D3gq8yvl.js";import{t as Le}from"./event-BE20p1dL.js";import{a as F}from"./base-DAhYy3Bg.js";const H=4,ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ce=({move:n,size:l,bar:t})=>({[t.size]:l,transform:`translate${t.axis}(${n}%)`}),K=Symbol("scrollbarContextKey"),Ne=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Pe="Thumb",Re=R({__name:"thumb",props:Ne,setup(n){const l=n,t=Q(K),s=Z("scrollbar");t||Le(Pe,"can not inject scrollbar context");const c=u(),v=u(),d=u({}),p=u(!1);let m=!1,h=!1,o=de?document.onselectstart:null;const a=L(()=>ke[l.vertical?"vertical":"horizontal"]),r=L(()=>Ce({size:l.size,move:l.move,bar:a.value})),f=L(()=>P(c.value[a.value.offset],2)/t.wrapElement[a.value.scrollSize]/l.ratio/v.value[a.value.offset]),b=i=>{var _;if(i.stopPropagation(),i.ctrlKey||[1,2].includes(i.button))return;(_=window.getSelection())==null||_.removeAllRanges(),w(i);const T=i.currentTarget;T&&(d.value[a.value.axis]=T[a.value.offset]-(i[a.value.client]-T.getBoundingClientRect()[a.value.direction]))},E=i=>{if(!v.value||!c.value||!t.wrapElement)return;const _=Math.abs(i.target.getBoundingClientRect()[a.value.direction]-i[a.value.client]),T=v.value[a.value.offset]/2,x=(_-T)*100*f.value/c.value[a.value.offset];t.wrapElement[a.value.scroll]=x*t.wrapElement[a.value.scrollSize]/100},w=i=>{i.stopImmediatePropagation(),m=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),o=document.onselectstart,document.onselectstart=()=>!1},g=i=>{if(!c.value||!v.value||m===!1)return;const _=d.value[a.value.axis];if(!_)return;const T=(c.value.getBoundingClientRect()[a.value.direction]-i[a.value.client])*-1,x=v.value[a.value.offset]-_,ae=(T-x)*100*f.value/c.value[a.value.offset];t.wrapElement[a.value.scroll]=ae*t.wrapElement[a.value.scrollSize]/100},y=()=>{m=!1,d.value[a.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),e(),h&&(p.value=!1)},B=()=>{h=!1,p.value=!!l.size},z=()=>{h=!0,p.value=m};ue(()=>{e(),document.removeEventListener("mouseup",y)});const e=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return M(X(t,"scrollbarElement"),"mousemove",B),M(X(t,"scrollbarElement"),"mouseleave",z),(i,_)=>(C(),O(me,{name:S(s).b("fade"),persisted:""},{default:ee(()=>[ve(W("div",{ref_key:"instance",ref:c,class:N([S(s).e("bar"),S(s).is(S(a).key)]),onMousedown:E},[W("div",{ref_key:"thumb",ref:v,class:N(S(s).e("thumb")),style:$(S(r)),onMousedown:b},null,38)],34),[[fe,i.always||p.value]])]),_:1},8,["name"]))}});var J=j(Re,[["__file","thumb.vue"]]);const Be=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),xe=R({__name:"bar",props:Be,setup(n,{expose:l}){const t=n,s=Q(K),c=u(0),v=u(0),d=u(""),p=u(""),m=u(1),h=u(1);return l({handleScroll:r=>{if(r){const f=r.offsetHeight-H,b=r.offsetWidth-H;v.value=r.scrollTop*100/f*m.value,c.value=r.scrollLeft*100/b*h.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const f=r.offsetHeight-H,b=r.offsetWidth-H,E=P(f,2)/r.scrollHeight,w=P(b,2)/r.scrollWidth,g=Math.max(E,t.minSize),y=Math.max(w,t.minSize);m.value=E/(f-E)/(g/(f-g)),h.value=w/(b-w)/(y/(b-y)),p.value=g+H<f?`${g}px`:"",d.value=y+H<b?`${y}px`:""}}),(r,f)=>(C(),te(pe,null,[q(J,{move:c.value,ratio:h.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),q(J,{move:v.value,ratio:m.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Ae=j(xe,[["__file","bar.vue"]]);const Me=D(A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:he([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},ie(["ariaLabel","ariaOrientation"]))),Oe={scroll:({scrollTop:n,scrollLeft:l})=>[n,l].every(k)},We="ElScrollbar",$e=R({name:We}),De=R(V(A({},$e),{props:Me,emits:Oe,setup(n,{expose:l,emit:t}){const s=n,c=Z("scrollbar");let v,d,p=0,m=0;const h=u(),o=u(),a=u(),r=u(),f=L(()=>{const e={};return s.height&&(e.height=F(s.height)),s.maxHeight&&(e.maxHeight=F(s.maxHeight)),[s.wrapStyle,e]}),b=L(()=>[s.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!s.native}]),E=L(()=>[c.e("view"),s.viewClass]),w=()=>{var e;o.value&&((e=r.value)==null||e.handleScroll(o.value),p=o.value.scrollTop,m=o.value.scrollLeft,t("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function g(e,i){Te(e)?o.value.scrollTo(e):k(e)&&k(i)&&o.value.scrollTo(e,i)}const y=e=>{k(e)&&(o.value.scrollTop=e)},B=e=>{k(e)&&(o.value.scrollLeft=e)},z=()=>{var e;(e=r.value)==null||e.update()};return I(()=>s.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=ce(a,z),d=M("resize",z))},{immediate:!0}),I(()=>[s.maxHeight,s.height],()=>{s.native||G(()=>{var e;z(),o.value&&((e=r.value)==null||e.handleScroll(o.value))})}),be(K,ye({scrollbarElement:h,wrapElement:o})),Se(()=>{o.value&&(o.value.scrollTop=p,o.value.scrollLeft=m)}),ge(()=>{s.native||G(()=>{z()})}),we(()=>z()),l({wrapRef:o,update:z,scrollTo:g,setScrollTop:y,setScrollLeft:B,handleScroll:w}),(e,i)=>(C(),te("div",{ref_key:"scrollbarRef",ref:h,class:N(S(c).b())},[W("div",{ref_key:"wrapRef",ref:o,class:N(S(b)),style:$(S(f)),tabindex:e.tabindex,onScroll:w},[(C(),O(_e(e.tag),{id:e.id,ref_key:"resizeRef",ref:a,class:N(S(E)),style:$(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[ze(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Ee("v-if",!0):(C(),O(Ae,{key:0,ref_key:"barRef",ref:r,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var je=j(De,[["__file","scrollbar.vue"]]);const Ie=He(je);export{Ie as E};
