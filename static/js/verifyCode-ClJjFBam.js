import{z as r,Q as e,k as a}from"./ajmer.utils-BPzkq30X.js";import{J as o}from"./element-plus-MYdaSVk9.js";import{k as t}from"./index-CDxT1Fie.js";import{J as s,r as n}from"./@vue-uYjjPr_8.js";const l=(e,a)=>{if(a){const{icon:t,type:s="info",dangerouslyUseHTMLString:n=!1,customClass:l="antd",duration:i=2e3,showClose:u=!1,center:v=!1,offset:d=20,appendTo:g=document.body,grouping:p=!1,onClose:m}=a;return o({message:e,type:s,icon:t,dangerouslyUseHTMLString:n,duration:i,showClose:u,center:v,offset:d,appendTo:g,grouping:p,customClass:"antd"===l?"pure-message":"",onClose:()=>r(m)?m():null})}return o({message:e,customClass:"pure-message"})},i=/^\d{6}$/,u=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,v=s({password:[{validator:(r,e,a)=>{""===e?a(new Error("请输入密码")):u.test(e)?a():a(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:"blur"}],verifyCode:[{validator:(r,e,a)=>{""===e?a(new Error("请输入验证码")):t().verifyCode!==e?a(new Error("请输入正确的验证码")):a()},trigger:"blur"}]}),d=s({phone:[{validator:(r,a,o)=>{""===a?o(new Error("请输入手机号码")):e(a)?o():o(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],verifyCode:[{validator:(r,e,a)=>{""===e?a(new Error("请输入验证码")):i.test(e)?a():a(new Error("请输入6位数字验证码"))},trigger:"blur"}]}),g=s({phone:[{validator:(r,a,o)=>{""===a?o(new Error("请输入手机号码")):e(a)?o():o(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],verifyCode:[{validator:(r,e,a)=>{""===e?a(new Error("请输入验证码")):i.test(e)?a():a(new Error("请输入6位数字验证码"))},trigger:"blur"}],password:[{validator:(r,e,a)=>{""===e?a(new Error("请输入密码")):u.test(e)?a():a(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:"blur"}]}),p=n(!1),m=n(null),w=n(""),c=()=>({isDisabled:p,timer:m,text:w,start:(r,e,o=60)=>{return t=void 0,s=null,n=function*(){if(!r)return;const t=a(o,!0);yield r.validateField(e,(r=>{r&&(clearInterval(m.value),p.value=!0,w.value=`${o}`,m.value=setInterval((()=>{o>0?(o-=1,w.value=`${o}`):(w.value="",p.value=!1,clearInterval(m.value),o=t)}),1e3))}))},new Promise(((r,e)=>{var a=r=>{try{l(n.next(r))}catch(a){e(a)}},o=r=>{try{l(n.throw(r))}catch(a){e(a)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);l((n=n.apply(t,s)).next())}));var t,s,n},end:()=>{w.value="",p.value=!1,clearInterval(m.value)}});export{g as a,v as l,l as m,d as p,c as u};
