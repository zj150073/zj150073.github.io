var e=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a;import{useRole as i}from"./hook-4enjheR4.js";import{P as n}from"./index-CfinVTxr.js";import{u as p}from"./hooks-DylvqpOU.js";import{y as m,_ as c,x as u,n as d}from"./@pureadmin-f9nW_l6N.js";import{as as f,ah as h,am as j,al as v,m as y,S as g,f as b}from"./@iconify-icons-CxRB8ffa.js";import{d as x,b as w,r as k,J as _,n as C,a1 as V,P as S,o as z,c as P,s as O,B as R,D as I,E as U,a as D,j as q,i as B,p as E,V as L,l as T}from"./@vue-CFXrvzpc.js";import{_ as $}from"./index-CQT2hjpo.js";import"./dayjs-BWHVJBZs.js";import"./@amap-Bx2D3lnM.js";import"./form.vue_vue_type_script_setup_true_lang-C6Fhrr17.js";import"./hooks-1lxAD9ho.js";import"./system-efgH8gGi.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";import"./sortablejs-DhhifNSC.js";import"./epTheme-D_wi1fCV.js";import"./pinia-DzAV29mk.js";import"./vue-demi-Dq6ymT-8.js";import"./js-cookie-BXEMiIsG.js";import"./collapse-CfOj5F7d.js";import"./vue-DWYrQbHy.js";import"./vite-plugin-fake-server-CytHVkXj.js";import"./@faker-js-CRy60TLX.js";import"./version-rocket-chvOQqaV.js";import"./@vueuse-tP1Y4vdd.js";import"./defu-iUM7Auia.js";import"./framesync-CUhBu5sQ.js";import"./style-value-types-UCYNu-x1.js";import"./popmotion-DRTv1-mp.js";import"./hey-listen-DkH12NBk.js";import"./plus-pro-components-CYEVFP0q.js";import"./axios-B1L2Kzed.js";import"./vue-i18n-DB-7wkrF.js";import"./@intlify-DfwD9yJy.js";import"./vue-router-CGx-uoKe.js";import"./axs-request-CnYniYE7.js";import"./nprogress-L6f6pfEY.js";import"./echarts-D2b6xzX-.js";import"./zrender-CUz1GrA9.js";import"./tslib-ZseNXxlj.js";import"./vxe-table-CPtn8uUL.js";import"./xe-utils-CdBoVBzI.js";import"./dom-zindex-Ckn4mXSH.js";import"./responsive-storage-5vfjqqcs.js";import"./@iconify-BUzAfhQo.js";/* empty css                 */import"./vue-tippy-DPYCMIfw.js";const A={class:"main"},F={key:0,class:"!min-w-[calc(100vw-60vw-268px)] w-full mt-2 px-2 pb-2 bg-bg_color ml-2 overflow-auto"},J={class:"flex justify-between w-full px-3 pt-5 pb-4"},M={class:"flex"},H={class:"font-bold truncate"},K={class:"flex flex-wrap"},N=x((Q=((e,l)=>{for(var o in l||(l={}))t.call(l,o)&&s(e,o,l[o]);if(a)for(var o of a(l))r.call(l,o)&&s(e,o,l[o]);return e})({},{name:"SystemRole"}),l(Q,o({__name:"index",setup(e){const l=w((()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-none","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"])),o=k(),a=k(),t=k(),r=k(),s=k(),{form:x,isShow:$,curRow:N,loading:Q,columns:W,rowStyle:Y,dataList:G,treeData:X,treeProps:Z,isLinkage:ee,pagination:le,isExpandAll:oe,isSelectAll:ae,treeSearchValue:te,onSearch:re,resetForm:se,openDialog:ie,handleMenu:ne,handleSave:pe,handleDelete:me,filterMethod:ce,transformI18n:ue,onQueryChanged:de,handleSizeChange:fe,handleCurrentChange:he,handleSelectionChange:je}=i(o);return _((()=>{m(r,(()=>{return e=this,l=null,o=function*(){yield C(),c(60).then((()=>{s.value=parseFloat(u(t.value.getTableDoms().tableWrapper.style.height,"px"))}))},new Promise(((a,t)=>{var r=e=>{try{i(o.next(e))}catch(l){t(l)}},s=e=>{try{i(o.throw(e))}catch(l){t(l)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,s);i((o=o.apply(e,l)).next())}));var e,l,o}))})),(e,i)=>{var m;const c=V("el-input"),u=V("el-form-item"),w=V("el-option"),k=V("el-select"),_=V("el-button"),C=V("el-form"),ve=V("el-popconfirm"),ye=V("pure-table"),ge=V("IconifyIconOffline"),be=V("el-checkbox"),xe=V("el-tree-v2"),we=S("tippy");return z(),P("div",A,[O(C,{ref_key:"formRef",ref:a,inline:!0,model:I(x),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:R((()=>[O(u,{label:"角色名称：",prop:"name"},{default:R((()=>[O(c,{modelValue:I(x).name,"onUpdate:modelValue":i[0]||(i[0]=e=>I(x).name=e),placeholder:"请输入角色名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),O(u,{label:"角色标识：",prop:"code"},{default:R((()=>[O(c,{modelValue:I(x).code,"onUpdate:modelValue":i[1]||(i[1]=e=>I(x).code=e),placeholder:"请输入角色标识",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),O(u,{label:"状态：",prop:"status"},{default:R((()=>[O(k,{modelValue:I(x).status,"onUpdate:modelValue":i[2]||(i[2]=e=>I(x).status=e),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:R((()=>[O(w,{label:"已启用",value:"1"}),O(w,{label:"已停用",value:"0"})])),_:1},8,["modelValue"])])),_:1}),O(u,null,{default:R((()=>[O(_,{type:"primary",icon:I(p)("ri:search-line"),loading:I(Q),onClick:I(re)},{default:R((()=>[U(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),O(_,{icon:I(p)(I(f)),onClick:i[3]||(i[3]=e=>I(se)(a.value))},{default:R((()=>[U(" 重置 ")])),_:1},8,["icon"])])),_:1})])),_:1},8,["model"]),D("div",{ref_key:"contentRef",ref:r,class:q(["flex",I(d)()?"flex-wrap":""])},[O(I(n),{class:q([I($)&&!I(d)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"角色管理（仅演示，操作后不生效）",columns:I(W),onRefresh:I(re)},{buttons:R((()=>[O(_,{type:"primary",icon:I(p)(I(h)),onClick:i[4]||(i[4]=e=>I(ie)())},{default:R((()=>[U(" 新增角色 ")])),_:1},8,["icon"])])),default:R((({size:e,dynamicColumns:l})=>[O(ye,{ref_key:"tableRef",ref:t,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:I(Q),size:e,adaptive:"","row-style":I(Y),adaptiveConfig:{offsetBottom:108},data:I(G),columns:l,pagination:I(le),paginationSmall:"small"===e,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:I(je),onPageSizeChange:I(fe),onPageCurrentChange:I(he)},{operation:R((({row:l})=>[O(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:I(p)(I(j)),onClick:e=>I(ie)("修改",l)},{default:R((()=>[U(" 修改 ")])),_:2},1032,["size","icon","onClick"]),O(ve,{title:`是否确认删除角色名称为${l.name}的这条数据`,onConfirm:e=>I(me)(l)},{reference:R((()=>[O(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:I(p)(I(v))},{default:R((()=>[U(" 删除 ")])),_:2},1032,["size","icon"])])),_:2},1032,["title","onConfirm"]),O(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:I(p)(I(y)),onClick:e=>I(ne)(l)},{default:R((()=>[U(" 权限 ")])),_:2},1032,["size","icon","onClick"])])),_:2},1032,["loading","size","row-style","data","columns","pagination","paginationSmall","onSelectionChange","onPageSizeChange","onPageCurrentChange"])])),_:1},8,["class","columns","onRefresh"]),I($)?(z(),P("div",F,[D("div",J,[D("div",M,[D("span",{class:q(l.value)},[B(O(ge,{class:"dark:text-white",width:"18px",height:"18px",icon:I(g),onClick:I(ne)},null,8,["icon","onClick"]),[[we,{content:"关闭"}]])],2),D("span",{class:q([l.value,"ml-2"])},[B(O(ge,{class:"dark:text-white",width:"18px",height:"18px",icon:I(b),onClick:I(pe)},null,8,["icon","onClick"]),[[we,{content:"保存菜单权限"}]])],2)]),D("p",H," 菜单权限 "+E((null==(m=I(N))?void 0:m.name)?`（${I(N).name}）`:""),1)]),O(c,{modelValue:I(te),"onUpdate:modelValue":i[5]||(i[5]=e=>L(te)?te.value=e:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:I(de)},null,8,["modelValue","onInput"]),D("div",K,[O(be,{modelValue:I(oe),"onUpdate:modelValue":i[6]||(i[6]=e=>L(oe)?oe.value=e:null),label:"展开/折叠"},null,8,["modelValue"]),O(be,{modelValue:I(ae),"onUpdate:modelValue":i[7]||(i[7]=e=>L(ae)?ae.value=e:null),label:"全选/全不选"},null,8,["modelValue"]),O(be,{modelValue:I(ee),"onUpdate:modelValue":i[8]||(i[8]=e=>L(ee)?ee.value=e:null),label:"父子联动"},null,8,["modelValue"])]),O(xe,{ref_key:"treeRef",ref:o,"show-checkbox":"",data:I(X),props:I(Z),height:s.value,"check-strictly":!I(ee),"filter-method":I(ce)},{default:R((({node:e})=>[D("span",null,E(I(ue)(e.label)),1)])),_:1},8,["data","props","height","check-strictly","filter-method"])])):T("",!0)],2)])}}}))));var Q;const W=$(N,[["__scopeId","data-v-d6daf155"]]);export{W as default};
