var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,n=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,s=(e,s)=>{for(var o in s||(s={}))a.call(s,o)&&n(e,o,s[o]);if(l)for(var o of l(s))t.call(s,o)&&n(e,o,s[o]);return e};import{u as o}from"./hooks-DylvqpOU.js";import{B as i,X as u,y as d,z as r,M as p}from"./@pureadmin-f9nW_l6N.js";import{d as m,r as v,M as b,Y as c,w as f,s as g,n as y,i as x,P as k,x as h}from"./@vue-CFXrvzpc.js";const j=p(m({name:"ReSegmented",props:{options:{type:Array,default:()=>[]},modelValue:{type:void 0,require:!1,default:"0"},block:{type:Boolean,default:!1},size:{type:String},disabled:{type:Boolean,default:!1},resize:{type:Boolean,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:l}){const a=v(0),t=v(0),{isDark:n}=i(),p=v(!1),m=v(-1),j=v(""),z=b(),V=u(e.modelValue)?c(e,"modelValue"):v(0);function O(e=V.value){y((()=>{var l;const n=null==(l=null==z?void 0:z.proxy)?void 0:l.$refs[`labelRef${e}`];n&&(a.value=n.clientWidth,t.value=n.offsetLeft,p.value=!0)}))}function w(){d(".pure-segmented",(()=>{y((()=>{O(V.value)}))}))}(e.block||e.resize)&&w(),f((()=>V.value),(e=>{y((()=>{O(e)}))}),{immediate:!0}),f((()=>e.size),w,{immediate:!0});const R=()=>e.options.map(((a,t)=>g("label",{ref:`labelRef${t}`,class:["pure-segmented-item",(e.disabled||(null==a?void 0:a.disabled))&&"pure-segmented-item-disabled"],style:{background:m.value===t?j.value:"",color:e.disabled?null:a.disabled||V.value!==t&&m.value!==t?"":n.value?"rgba(255, 255, 255, 0.85)":"rgba(0,0,0,.88)"},onMouseenter:l=>function({option:l,index:a},t){e.disabled||(t.preventDefault(),m.value=a,l.disabled||V.value===a?j.value="":j.value=n.value?"#1f1f1f":"rgba(0, 0, 0, 0.06)")}({option:a,index:t},l),onMouseleave:l=>function(l,a){e.disabled||(a.preventDefault(),m.value=-1)}(0,l),onClick:n=>function({option:a,index:t},n){e.disabled||a.disabled||(n.preventDefault(),u(e.modelValue)?l("update:modelValue",t):V.value=t,j.value="",l("change",{index:t,option:a}))}({option:a,index:t},n)},[g("input",{type:"radio",name:"segmented"},null),x(g("div",{class:"pure-segmented-item-label"},[a.icon&&!r(a.label)?g("span",{class:"pure-segmented-item-icon",style:{marginRight:a.label?"6px":0}},[h(o(a.icon,s({},null==a?void 0:a.iconAttrs)))]):null,a.label?r(a.label)?h(a.label):g("span",null,[a.label]):null]),[[k("tippy"),{content:null==a?void 0:a.tip,zIndex:41e3}]])])));return()=>g("div",{class:{"pure-segmented":!0,"pure-segmented-block":e.block,"pure-segmented--large":"large"===e.size,"pure-segmented--small":"small"===e.size}},[g("div",{class:"pure-segmented-group"},[g("div",{class:"pure-segmented-item-selected",style:{width:`${a.value}px`,transform:`translateX(${t.value}px)`,display:p.value?"block":"none"}},null),R()])])}}));export{j as R};
