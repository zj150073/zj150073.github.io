import{a as q,g as R,h as z}from"./tree-Cd5MTarI.js";import{d as S,h as u,p as V,ac as j,L as A,r as a,A as P,o as B,w as l,b as r,u as d,e as N,t as D,g as E}from"./index-qmMm4T_A.js";const Q={class:"each-item"},I=S({name:"user",__name:"index",setup(U){let y=u({}),c=u([]),k=u([{label:"用户名称",prop:"username",type:"input",width:"550px"},{label:"状态",prop:"status",type:"select",placeholder:"请选择状态",width:"550px",options:[{value:0,label:"停用"},{value:1,label:"启用"}]}]),_=V({pagination:{pageSize:5,pageSizes:[5,100,150,200],paginationLayout:"total, sizes, prev, pager, next"},requestConfig:{pagingBackEnd:["page","size","list"],request:q,queryParam:y.value,checkRequestSuccess:e=>e.success,onPageLoadSuccess:()=>{}},tableOptions:{columns:[{label:"用户头像",prop:"avatar",width:"70"},{label:"用户名称",prop:"username",width:"150px"},{label:"用户昵称",prop:"nickname",width:""},{label:"性别",prop:"sex",width:""},{label:"部门",prop:"dept",width:""},{label:"手机号",prop:"phone",width:""},{label:"状态",prop:"status",width:""},{label:"创建时间",prop:"createTime",width:""}],rowkey:"id",height:"",size:"small",border:!0,stripe:!0,serialNumber:!0,highlightCurrentRow:!0,hidePagination:!0,hideSetting:!0,lazy:!1,treeProps:{children:"children",hasChildren:"hasChildren",checkStrictly:!1},showSummary:!1,sumText:"求和",tableLayout:"auto",headerDragend:(e,t,i,o)=>{},sortChange:e=>{},load:(e,t,i)=>{setTimeout(()=>{i([{date:"2016-05-11",name:"81",state:"California",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036"}])},1e3)},summaryMethod:e=>{const{columns:t,data:i}=e,o=[];return t.forEach((g,s)=>{if(s===0){o[s]=j("div",{},["求和"]);return}const h=i.map(n=>Number(n[g.property]));o[s]="N/A",h.every(n=>Number.isNaN(n))?o[s]="N/A":o[s]=`${h.reduce((n,f)=>{const b=Number(f);return Number.isNaN(b)?n:n+f},0)}`}),o}}}),v=u([]),w=u(null),m=u(null);const C=e=>{_.requestConfig.queryParam.dept=e.id,m.value.reloadTable()};R().then(e=>{v.value=z(e.data),_.requestConfig.queryParam.dept=e.data[0].id,A(()=>{w.value.setCurrentKey(e.data[0].id),m.value.reloadTable()})});let T=()=>{m.value.reloadTable()};return(e,t)=>{const i=a("el-tree"),o=a("el-button"),g=a("el-date-picker"),s=a("ajmerQuery"),h=a("el-header"),n=a("el-avatar"),f=a("ajmerTable"),b=a("el-main"),x=a("el-container"),L=a("ajmerLeftRight");return B(),P(L,{class:"bg-bg_color"},{left:l(()=>[r(i,{ref_key:"treeRefs",ref:w,"node-key":"id",class:"elTreeplatform",data:d(v),"default-expand-all":"","expand-on-click-node":!1,props:{children:"children",label:"name"},onNodeClick:C},null,8,["data"])]),right:l(()=>[r(x,null,{default:l(()=>[r(h,null,{default:l(()=>[r(s,{config:d(k),search:d(y)},{outBtns:l(()=>[r(o,{class:"theme-two",onClick:t[0]||(t[0]=p=>d(T)())},{default:l(()=>t[2]||(t[2]=[E(" 搜索 ")])),_:1})]),queryItems:l(()=>[N("div",Q,[t[3]||(t[3]=N("label",null,"时间范围",-1)),r(g,{modelValue:d(c),"onUpdate:modelValue":t[1]||(t[1]=p=>D(c)?c.value=p:c=p),style:{width:"350px"},type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])]),_:1},8,["config","search"])]),_:1}),r(b,null,{default:l(()=>[r(f,{ref_key:"tableRefs",ref:m,config:d(_)},{avatar:l(p=>[r(n,{size:30,src:p.row.avatar},null,8,["src"])]),_:1},8,["config"])]),_:1})]),_:1})]),_:1})}}});export{I as default};
