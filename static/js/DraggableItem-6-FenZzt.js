import{_ as B,h as S,i as o,r as i,t as r,o as s,w as d,e as y,Z as c,q as u,u as a,p as b,b as K,B as L}from"./index-Bu8mS-9N.js";import{w as z}from"./vuedraggable.umd-DUQ1OvDX.js";const F={__name:"DraggableItem",props:{element:Object,index:Number,drawingList:Array,activeId:{type:[String,Number]},formConf:Object},emits:["activeItem","copyItem","deleteItem"],setup(e,{emit:x}){const t=e,C=S(null),g=x;function f(m){g("activeItem",m)}function w(m,n){g("copyItem",m,n!=null?n:t.drawingList)}function I(m,n){g("deleteItem",m,n!=null?n:t.drawingList)}function v(){return{gutter:t.element.gutter,justify:t.element.justify,align:t.element.align}}const k=o(()=>t.element.layout==="rowFormItem"?"":t.activeId===t.element.renderKey?"drawing-item  active-from-item":"drawing-item"),p=o(()=>t.activeId===t.element.renderKey?"drawing-row-item active-from-item":"drawing-row-item"),V=o(()=>({right:t.formConf.gutter?`${t.formConf.gutter/2+56}px`:"56px"})),$=o(()=>({left:t.element.gutter?`${t.element.gutter/2}px`:"0px"})),N=o(()=>({right:t.formConf.gutter?`${t.formConf.gutter/2+24}px`:"24px"})),R=o(()=>({"--row-inset":`0px ${t.element.gutter?`${t.element.gutter/2}px`:"0px"}`}));return(m,n)=>{const j=i("AjmerRender"),D=i("el-form-item"),h=i("draggable-item",!0),q=i("el-row"),A=i("el-col");return s(),r(A,{span:e.element.span,class:b(a(k))},{default:d(()=>[e.element.layout==="colFormItem"?(s(),r(D,{key:0,class:"unfocus-bordered",label:e.element.label,"label-width":e.element.labelWidth?e.element.labelWidth+"px":null,required:e.element.required,onClick:n[1]||(n[1]=c(l=>f(e.element),["stop"]))},{default:d(()=>[(s(),r(j,{key:e.element.tag,modelValue:e.element.defaultValue,"onUpdate:modelValue":n[0]||(n[0]=l=>e.element.defaultValue=l),config:e.element},null,8,["modelValue","config"]))]),_:1},8,["label","label-width","required"])):(s(),r(q,{key:1,gutter:e.element.gutter,class:b(a(p)),style:u(a(R)),onClick:n[2]||(n[2]=c(l=>f(e.element),["stop"]))},{default:d(()=>[y("span",{class:"component-name",style:u(a($))},L(e.element.componentName),5),K(a(z),{ref_key:"draggableItemRef",ref:C,group:"componentsGroup",animation:340,list:e.element.children,class:"drag-wrapper","item-key":"label","component-data":v()},{item:d(l=>[(s(),r(h,{key:l.element.renderKey,"drawing-list":e.element.children,element:l.element,index:l.index,"active-id":e.activeId,"form-conf":e.formConf,onActiveItem:f,onCopyItem:w,onDeleteItem:I},null,8,["drawing-list","element","index","active-id","form-conf"]))]),_:1},8,["list","component-data"])]),_:1},8,["gutter","class","style"])),y("span",{class:"drawing-item-copy",style:u(a(V)),title:"复制",onClick:n[3]||(n[3]=c(l=>w(e.element),["stop"]))}," 复 ",4),y("span",{class:"drawing-item-delete",title:"删除",style:u(a(N)),onClick:n[4]||(n[4]=c(l=>I(e.index),["stop"]))}," 删 ",4)]),_:1},8,["span","class"])}}},G=B(F,[["__scopeId","data-v-f3fb446c"]]);export{G as default};
