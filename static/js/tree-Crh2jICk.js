var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,a=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&s(e,r,t[r]);return e},n=(e,o)=>t(e,r(o));import{o as p,c as u,a as d,d as c,r as m,M as v,b as j,w as h,a1 as f,P as g,i as y,s as x,B as b,v as w,j as k,D as _,E as O,p as z,q as P}from"./@vue-CFXrvzpc.js";import{u as V}from"./hooks-DEksGQ11.js";import{ai as H,ay as I,az as L,y as q}from"./@iconify-icons-CxRB8ffa.js";import{_ as B}from"./index-B2iGRBN9.js";import"./vite-plugin-fake-server-CytHVkXj.js";import"./@faker-js-CRy60TLX.js";import"./version-rocket-chvOQqaV.js";import"./@pureadmin-f9nW_l6N.js";import"./vue-DWYrQbHy.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BWHVJBZs.js";import"./@amap-Bx2D3lnM.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";import"./@vueuse-tP1Y4vdd.js";import"./defu-iUM7Auia.js";import"./framesync-CUhBu5sQ.js";import"./style-value-types-UCYNu-x1.js";import"./popmotion-DRTv1-mp.js";import"./hey-listen-DkH12NBk.js";import"./plus-pro-components-CYEVFP0q.js";import"./sortablejs-DhhifNSC.js";import"./axios-B1L2Kzed.js";import"./vue-i18n-DB-7wkrF.js";import"./@intlify-DfwD9yJy.js";import"./js-cookie-BXEMiIsG.js";import"./pinia-DzAV29mk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CGx-uoKe.js";import"./axs-request-CnYniYE7.js";import"./nprogress-L6f6pfEY.js";import"./echarts-D2b6xzX-.js";import"./zrender-CUz1GrA9.js";import"./tslib-ZseNXxlj.js";import"./vxe-table-CPtn8uUL.js";import"./xe-utils-CdBoVBzI.js";import"./dom-zindex-Ckn4mXSH.js";import"./responsive-storage-5vfjqqcs.js";import"./@iconify-BUzAfhQo.js";/* empty css                 */import"./vue-tippy-DPYCMIfw.js";const C={width:"32",height:"32",viewBox:"0 0 24 24"},D=[d("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1)];const N={render:function(e,t){return p(),u("svg",C,[...D])}},E={width:"32",height:"32",viewBox:"0 0 24 24"},M=[d("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1)];const R={render:function(e,t){return p(),u("svg",E,[...M])}},$={class:"h-full bg-bg_color overflow-auto",style:{minHeight:"calc(100vh - 141px)"}},A={class:"flex items-center h-[34px]"},S=B(c({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select"],setup(e,{expose:t,emit:r}){const o=r,i=m(),l=m(!0),s=m(""),c=m({}),{proxy:B}=v(),C={children:"children",label:"name"},D=j((()=>["!h-[20px]","!text-sm","reset-margin","!text-[var(--el-text-color-regular)]","dark:!text-white","dark:hover:!text-primary"])),E=(e,t)=>!e||t.name.includes(e);function M(e){var t,r;const i=e.$treeNodeId;c.value[i]=(null==(t=c.value[i])?void 0:t.highlight)?Object.assign({id:i},c.value[i],{highlight:!1}):Object.assign({id:i},c.value[i],{highlight:!0}),Object.values(c.value).forEach((e=>{e.id!==i&&(e.highlight=!1)})),o("tree-select",(null==(r=c.value[i])?void 0:r.highlight)?Object.assign(n(a({},e),{selected:!0})):Object.assign(n(a({},e),{selected:!1})))}function S(e){l.value=e;const t=B.$refs.treeRef.store._getAllNodes();for(let r=0;r<t.length;r++)t[r].expanded=e}return h(s,(e=>{i.value.filter(e)})),t({onTreeReset:function(){c.value={},s.value="",S(!0)}}),(t,r)=>{const o=f("IconifyIconOffline"),a=f("el-icon"),n=f("el-input"),m=f("el-button"),v=f("el-dropdown-item"),j=f("el-dropdown-menu"),h=f("el-dropdown"),B=f("el-divider"),J=f("el-tree"),K=g("loading");return y((p(),u("div",$,[d("div",A,[x(n,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=e=>s.value=e),class:"ml-2",size:"small",placeholder:"请输入部门名称",clearable:""},{suffix:b((()=>[x(a,{class:"el-input__icon"},{default:b((()=>[y(x(o,{icon:"ri:search-line"},null,512),[[w,0===s.value.length]])])),_:1})])),_:1},8,["modelValue"]),x(h,{"hide-on-click":!1},{dropdown:b((()=>[x(j,null,{default:b((()=>[x(v,null,{default:b((()=>[x(m,{class:k(D.value),link:"",type:"primary",icon:_(V)(l.value?_(N):_(R)),onClick:r[1]||(r[1]=e=>S(!l.value))},{default:b((()=>[O(z(l.value?"折叠全部":"展开全部"),1)])),_:1},8,["class","icon"])])),_:1})])),_:1})])),default:b((()=>[x(o,{class:"w-[28px] cursor-pointer",width:"18px",icon:_(H)},null,8,["icon"])])),_:1})]),x(B),x(J,{ref_key:"treeRef",ref:i,data:e.treeData,"node-key":"id",size:"small",props:C,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":E,onNodeClick:M},{default:b((({node:e,data:t})=>{var r,i,l;return[d("span",{class:k(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",s.value.trim().length>0&&e.label.includes(s.value)&&"text-red-500",(null==(r=c.value[e.id])?void 0:r.highlight)?"dark:text-primary":""]),style:P({color:(null==(i=c.value[e.id])?void 0:i.highlight)?"var(--el-color-primary)":"",background:(null==(l=c.value[e.id])?void 0:l.highlight)?"var(--el-color-primary-light-7)":"transparent"})},[x(o,{icon:1===t.type?_(I):2===t.type?_(L):_(q)},null,8,["icon"]),O(" "+z(e.label),1)],6)]})),_:1},8,["data"])])),[[K,e.treeLoading]])}}}),[["__scopeId","data-v-f63f1ecd"]]);export{S as default};
