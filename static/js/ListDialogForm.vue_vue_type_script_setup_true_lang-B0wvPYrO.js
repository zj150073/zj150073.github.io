import{m as e}from"./index-B2iGRBN9.js";import{d as l,r as a,w as t,f as u,B as o,a1 as d,o as r,s,E as p,c as i,g as m,p as v,F as n}from"./@vue-CFXrvzpc.js";const f=l({__name:"ListDialogForm",props:{visible:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},emits:["update:visible"],setup(l,{emit:f}){const b=[{label:"网关",value:1},{label:"人工智能",value:2},{label:"CVM",value:3},{label:"防火墙",value:4},{label:"未知",value:5}],c=l,y=a(),V=a(!1),_=a(c.data),h=a(""),x=l=>{return a=this,t=null,u=function*(){l&&(yield l.validate((a=>{a&&(e("提交成功",{type:"success"}),V.value=!1,g(l))})))},new Promise(((e,l)=>{var o=e=>{try{r(u.next(e))}catch(a){l(a)}},d=e=>{try{r(u.throw(e))}catch(a){l(a)}},r=l=>l.done?e(l.value):Promise.resolve(l.value).then(o,d);r((u=u.apply(a,t)).next())}));var a,t,u},g=e=>{e&&e.resetFields()},w=()=>{V.value=!1,g(y.value)},U=f;t((()=>V.value),(e=>{U("update:visible",e)})),t((()=>c.visible),(e=>{V.value=e})),t((()=>c.data),(e=>{_.value=e}));const k={name:[{required:!0,message:"请输入产品名称",trigger:"blur"}]};return(e,l)=>{const a=d("el-input"),t=d("el-form-item"),f=d("el-radio"),c=d("el-radio-group"),g=d("el-option"),U=d("el-select"),F=d("el-form"),j=d("el-button"),C=d("el-dialog");return r(),u(C,{modelValue:V.value,"onUpdate:modelValue":l[6]||(l[6]=e=>V.value=e),title:"新建产品",width:680,draggable:"","before-close":w},{footer:o((()=>[s(j,{onClick:w},{default:o((()=>[p("取消")])),_:1}),s(j,{type:"primary",onClick:l[5]||(l[5]=e=>x(y.value))},{default:o((()=>[p(" 确定 ")])),_:1})])),default:o((()=>[s(F,{ref_key:"ruleFormRef",ref:y,model:_.value,rules:k,"label-width":"100px"},{default:o((()=>[s(t,{label:"产品名称",prop:"name"},{default:o((()=>[s(a,{modelValue:_.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value.name=e),style:{width:"480px"},placeholder:"请输入产品名称"},null,8,["modelValue"])])),_:1}),s(t,{label:"产品状态",prop:"status"},{default:o((()=>[s(c,{modelValue:_.value.status,"onUpdate:modelValue":l[1]||(l[1]=e=>_.value.status=e)},{default:o((()=>[s(f,{value:"0"},{default:o((()=>[p("已停用")])),_:1}),s(f,{value:"1"},{default:o((()=>[p("已启用")])),_:1})])),_:1},8,["modelValue"])])),_:1}),s(t,{label:"产品描述",prop:"description"},{default:o((()=>[s(a,{modelValue:_.value.description,"onUpdate:modelValue":l[2]||(l[2]=e=>_.value.description=e),style:{width:"480px"},placeholder:"请输入产品描述"},null,8,["modelValue"])])),_:1}),s(t,{label:"产品类型",prop:"type"},{default:o((()=>[s(U,{modelValue:_.value.type,"onUpdate:modelValue":l[3]||(l[3]=e=>_.value.type=e),clearable:"",style:{width:"480px"}},{default:o((()=>[(r(),i(n,null,m(b,((e,l)=>s(g,{key:l,value:e.value,label:e.label},{default:o((()=>[p(v(e.label),1)])),_:2},1032,["value","label"]))),64))])),_:1},8,["modelValue"])])),_:1}),s(t,{label:"备注",prop:"mark"},{default:o((()=>[s(a,{modelValue:h.value,"onUpdate:modelValue":l[4]||(l[4]=e=>h.value=e),type:"textarea",style:{width:"480px"},placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}});export{f as _};
