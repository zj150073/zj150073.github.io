var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{d as u,a as i,R as o,p as v,n as d,k as p,i as c,s as f,u as g,b as y,w as b,j as h,F as m,fU as P,fV as x,y as O,f as j,g as w,C as q,D as S,h as _,_ as k}from"./index-Doj-dlYt.js";import{P as E,u as L,d as C,g as N,e as R,f as A}from"./vue-flow-core-BvMbxW8A.js";const F=[(e=>(q("data-v-2aba1cee"),e=e(),S(),e))((()=>w("span",{class:"truck"},[w("span",{class:"box"},"ðŸ“¦"),_(" ðŸšš ")],-1)))],I=k(u({__name:"animationEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:E.Right},targetPosition:{type:String,default:E.Left}},setup(e){const u=e,{findEdge:q}=L(),S=C([u.target,u.source]),_=i(0),k=i(),E=i({x:0,y:0}),I=i(0),D=o((()=>S.value[0].data)),T=o((()=>S.value[1].data)),X=o((()=>T.value.isFinished)),Y=o((()=>D.value.isCancelled)),$=i(!1),B=o((()=>D.value.hasError?"#f87171":D.value.isFinished?"#42B983":D.value.isCancelled||D.value.isSkipped?"#fbbf24":D.value.isRunning||$.value?"#2563eb":"#6b7280")),M=v((()=>N(u)));function U(){return e=this,a=null,t=function*(){var e;const a=null==(e=k.value)?void 0:e.pathEl;if(!a)return;const t=a.getTotalLength(),r=_.value||0;E.value=a.getPointAtLength(r),$.value=!0,I.value!==t&&(I.value=t),yield P(_,r,t,{transition:x.easeInOutCubic,duration:Math.max(1500,t/2),abort:()=>!$.value}),V()},new Promise(((r,s)=>{var n=e=>{try{u(t.next(e))}catch(a){s(a)}},l=e=>{try{u(t.throw(e))}catch(a){s(a)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,l);u((t=t.apply(e,a)).next())}));var e,a,t}function V(){O((()=>{_.value=0,I.value=0,E.value={x:0,y:0},$.value=!1}))}return d(Y,(e=>{e&&V()})),d($,(e=>{const i=q(u.id);var o;i&&(i.data=(o=((e,a)=>{for(var t in a||(a={}))s.call(a,t)&&l(e,t,a[t]);if(r)for(var t of r(a))n.call(a,t)&&l(e,t,a[t]);return e})({},i.data),a(o,t({isAnimating:e}))))})),d(_,(e=>{var a;const t=null==(a=k.value)?void 0:a.pathEl;if(!t||0===e||!$.value)return;const r=t.getTotalLength();I.value===r?E.value=t.getPointAtLength(e):U()})),d(X,(e=>{e&&U()})),(a,t)=>(j(),p(m,null,[c(g(R),{id:e.id,ref_key:"edgeRef",ref:k,path:M.value[0],style:f({stroke:B.value})},null,8,["id","path","style"]),$.value?(j(),y(g(A),{key:0},{default:b((()=>[w("div",{style:f({transform:`translate(-50%, -50%) translate(${E.value.x}px,${E.value.y}px)`}),class:"nodrag nopan animated-edge-label"},F,4)])),_:1})):h("",!0)],64))}}),[["__scopeId","data-v-2aba1cee"]]);export{I as default};
