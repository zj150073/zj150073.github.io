import{_ as D,h as f,p as R,r as a,y as i,o,w as d,e as g,a0 as s,s as y,u as w,b as $,C as q}from"./index-BPiJh_ac.js";import{w as F}from"./vuedraggable.umd-hOLgs-05.js";const L={class:"component-name"},h={__name:"draggableItem",props:{element:Object,index:Number,drawingList:Array,activeId:{type:[String,Number]},formConf:Object},emits:["activeItem","copyItem","deleteItem"],setup(e,{emit:C}){const n=e,r=f(""),I=f(""),k=f(null),c=C;function u(l){c("activeItem",l)}function b(l,t){c("copyItem",l,t!=null?t:n.drawingList)}function v(l,t){c("deleteItem",l,t!=null?t:n.drawingList)}function x(){return{gutter:n.element.gutter,justify:n.element.justify,align:n.element.align}}return R(()=>n.activeId,l=>{r.value=l===n.element.formId?"drawing-item active-from-item":"drawing-item",n.formConf.unFocusedComponentBorder&&(r.value+=" unfocus-bordered"),n.element.layout==="rowFormItem"&&(r.value=""),I.value=l===n.element.formId?"drawing-row-item active-from-item":"drawing-row-item"},{immediate:!0}),(l,t)=>{const N=a("AjmerRender"),V=a("el-form-item"),j=a("draggable-item",!0),A=a("el-row"),B=a("el-col");return o(),i(B,{span:e.element.span,class:y(w(r))},{default:d(()=>[e.element.layout==="colFormItem"?(o(),i(V,{key:0,label:e.element.label,"label-width":e.element.labelWidth?e.element.labelWidth+"px":null,required:e.element.required,onClick:t[1]||(t[1]=s(m=>u(e.element),["stop"]))},{default:d(()=>[(o(),i(N,{key:e.element.tag,modelValue:e.element.defaultValue,"onUpdate:modelValue":t[0]||(t[0]=m=>e.element.defaultValue=m),config:e.element},null,8,["modelValue","config"]))]),_:1},8,["label","label-width","required"])):(o(),i(A,{key:1,gutter:e.element.gutter,class:y(w(I)),onClick:t[2]||(t[2]=s(m=>u(e.element),["stop"]))},{default:d(()=>[g("span",L,q(e.element.componentName),1),$(w(F),{ref_key:"draggableItemRef",ref:k,group:"componentsGroup",animation:340,list:e.element.children,class:"drag-wrapper","item-key":"label","component-data":x()},{item:d(m=>[(o(),i(j,{key:m.element.renderKey,"drawing-list":e.element.children,element:m.element,index:m.index,"active-id":e.activeId,"form-conf":e.formConf,onActiveItem:u,onCopyItem:b,onDeleteItem:v},null,8,["drawing-list","element","index","active-id","form-conf"]))]),_:1},8,["list","component-data"])]),_:1},8,["gutter","class"])),g("span",{class:"drawing-item-copy",title:"复制",onClick:t[3]||(t[3]=s(m=>b(e.element),["stop"]))}," 复 "),g("span",{class:"drawing-item-delete",title:"删除",onClick:t[4]||(t[4]=s(m=>v(e.index),["stop"]))}," 删 ")]),_:1},8,["span","class"])}}},W=D(h,[["__scopeId","data-v-b8a8a6be"]]);export{W as default};
