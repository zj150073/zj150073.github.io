var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{d as r,r as p,b as n,f as m,B as c,a1 as u,P as d,o as v,a as j,i as f,E as g,s as y,v as x,p as h,c as b,D as _,j as k,h as w,l as z,T as O,aC as I,aD as C}from"./@vue-CFXrvzpc.js";import{a as P}from"./axios-B1L2Kzed.js";import{S as $}from"./sortablejs-DhhifNSC.js";import{_ as M}from"./form.vue_vue_type_script_setup_true_lang-B5d9cRQc.js";import{d as S}from"./vue-router-CGx-uoKe.js";import{m as U,_ as L}from"./index-CQT2hjpo.js";import{g as N,r as q,k as E}from"./@pureadmin-f9nW_l6N.js";import{g as J,h as B,i as D}from"./@iconify-icons-CxRB8ffa.js";import"./mock-DoK9H7vT.js";import"./vite-plugin-fake-server-CytHVkXj.js";import"./@faker-js-CRy60TLX.js";import"./version-rocket-chvOQqaV.js";import"./@vueuse-tP1Y4vdd.js";import"./defu-iUM7Auia.js";import"./framesync-CUhBu5sQ.js";import"./style-value-types-UCYNu-x1.js";import"./popmotion-DRTv1-mp.js";import"./hey-listen-DkH12NBk.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BWHVJBZs.js";import"./@amap-Bx2D3lnM.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";import"./plus-pro-components-CYEVFP0q.js";import"./vue-i18n-DB-7wkrF.js";import"./@intlify-DfwD9yJy.js";import"./js-cookie-BXEMiIsG.js";import"./pinia-DzAV29mk.js";import"./vue-demi-Dq6ymT-8.js";import"./axs-request-CnYniYE7.js";import"./nprogress-L6f6pfEY.js";import"./echarts-D2b6xzX-.js";import"./zrender-CUz1GrA9.js";import"./tslib-ZseNXxlj.js";import"./vxe-table-CPtn8uUL.js";import"./xe-utils-CdBoVBzI.js";import"./dom-zindex-Ckn4mXSH.js";import"./responsive-storage-5vfjqqcs.js";import"./vue-DWYrQbHy.js";import"./@iconify-BUzAfhQo.js";/* empty css                 */import"./vue-tippy-DPYCMIfw.js";const A=e=>(I("data-v-04dda22c"),e=e(),C(),e),H={class:"card-header"},R=A((()=>j("p",{class:"mb-4"},[g(" 综合示例"),j("span",{class:"text-[14px]"},[g(" （ "),j("span",{class:"text-[red]"},"自动上传"),g(" 、拖拽上传、拖拽排序、设置请求头、上传进度、大图预览、多选文件、最大文件数量、文件类型限制、文件大小限制、删除文件） ")])],-1))),T={key:0,class:"mt-[35%] m-auto"},V=A((()=>j("p",{class:"font-medium"},"文件上传中",-1))),Y=["onMouseenter"],F=["src"],G=["onClick"],K=["onClick"],Q={title:"移除",class:"hover:text-[var(--el-color-danger)]"},W={key:0,effect:"dark",round:"",size:"large",type:"info",class:"img-name"},X={class:"text-[#fff] dark:text-black"},Z=A((()=>j("p",{class:"el-upload__tip"}," 可拖拽上传最多3张单个不超过2MB且格式为jpeg/png/gif的图片 ",-1))),ee=A((()=>j("p",{class:"mb-4 mt-4"},[g(" 结合表单校验进行"),j("span",{class:"text-[red]"},"手动上传"),j("span",{class:"text-[14px]"}," （可先打开浏览器控制台找到Network，然后填写表单内容后点击点提交观察请求变化） ")],-1))),te={class:"flex justify-between"},se=A((()=>j("p",{class:"text-center"},"上传接口相关截图",-1))),ae={class:"flex flex-wrap"},ie={class:"text-[red] text-[12px] flex flex-auto items-center justify-end"},oe=A((()=>j("span",{class:"font-bold text-[18x]"}," 请不要上传重要信息 ",-1))),le=r((re=((e,t)=>{for(var s in t||(t={}))i.call(t,s)&&l(e,s,t[s]);if(a)for(var s of a(t))o.call(t,s)&&l(e,s,t[s]);return e})({},{name:"PureUpload"}),t(re,s({__name:"index",setup(e){const t=p([]),s=S(),a=p(0),i=p(!1),o=n((()=>N(t.value,"url"))),l=n((()=>q(t.value,"name","size"))),r=Array.from({length:3}).map(((e,t)=>{return s=t+1,new URL(Object.assign({"./imgs/1.jpg":"/static/jpg/1-CNu9tHLV.jpg","./imgs/2.jpg":"/static/jpg/2-Dn7NyzRJ.jpg","./imgs/3.jpg":"/static/jpg/3-BNVYzMvF.jpg"})[`./imgs/${s}.jpg`],import.meta.url).href;var s})),I=e=>["image/jpeg","image/png","image/gif"].includes(e.type)?e.size/1024/1024>2?(U("单个图片大小不能超过2MB"),!1):void 0:(U("只能上传图片"),!1),C=()=>{U("最多上传3张图片，请先删除在上传")},L=()=>document.querySelectorAll("#pure-upload-item"),A=()=>{[{name:"巴旦木.jpeg",type:"img"},{name:"恭喜发财.png",type:"img"},{name:"可爱动物.gif",type:"gif"},{name:"pure-upload.csv",type:"other"},{name:"pure-upload.txt",type:"other"}].forEach((e=>{P.get(`https://xiaoxian521.github.io/hyperlink/${e.type}/${e.name}`,{responseType:"blob"}).then((({data:t})=>{E(t,e.name)}))}))};return(e,p)=>{const n=u("el-link"),P=u("el-button"),S=u("IconifyIconOffline"),U=u("el-progress"),N=u("el-upload"),q=u("el-image-viewer"),E=u("el-divider"),le=u("el-image"),re=u("el-card"),pe=d("tippy");return v(),m(re,{shadow:"never"},{header:c((()=>[j("div",H,[f((v(),m(n,{href:"https://element-plus.org/zh-CN/component/upload.html",target:"_blank",style:{"font-size":"16px","font-weight":"800"}},{default:c((()=>[g(" 文件上传 ")])),_:1})),[[pe,{content:"点击查看详细文档"}]])]),y(n,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/upload",target:"_blank"},{default:c((()=>[g(" 代码位置 src/views/components/upload ")])),_:1})])),default:c((()=>[y(P,{class:"mb-4",text:"",bg:"",onClick:A},{default:c((()=>[g(" 点击下载安全文件进行上传测试 ")])),_:1}),R,f(j("p",{class:"mb-4"},h(l.value),513),[[x,t.value.length>0]]),y(N,{"file-list":t.value,"onUpdate:fileList":p[0]||(p[0]=e=>t.value=e),drag:"",multiple:"",class:"pure-upload","list-type":"picture-card",accept:"image/jpeg,image/png,image/gif",action:"https://run.mocky.io/v3/3aa761d7-b0b3-4a03-96b3-6168d4f7467b",limit:3,headers:{Authorization:"eyJhbGciOiJIUzUxMiJ9.admin"},"on-exceed":C,"before-upload":I},{file:c((({file:e})=>["ready"==e.status||"uploading"==e.status?(v(),b("div",T,[V,y(U,{class:"mt-2","stroke-width":2,"text-inside":!0,"show-text":!1,percentage:e.percentage},null,8,["percentage"])])):(v(),b("div",{key:1,onMouseenter:w((s=>(e=>{var s,a,i;const o="el-upload-list",l=t.value.findIndex((t=>t.uid===e));null==(i=null==(a=null==(s=L())?void 0:s[l])?void 0:a.classList)||i.add(`${o}__item-actions`);const r=document.querySelector(`.${o}`);$.create(r,{handle:`.${o}__item`,onEnd:({newIndex:e,oldIndex:s})=>{const a=t.value[s];t.value.splice(s,1),t.value.splice(e,0,a),L().forEach((e=>{e.classList.remove(`${o}__item-actions`)}))}})})(e.uid)),["stop"])},[j("img",{class:"el-upload-list__item-thumbnail select-none",src:e.url},null,8,F),j("span",{id:"pure-upload-item",class:k(["el-upload-list__item-actions",t.value.length>1&&"!cursor-move"])},[j("span",{title:"查看",class:"hover:text-primary",onClick:s=>(e=>{a.value=t.value.findIndex((t=>t.uid===e.uid)),i.value=!0})(e)},[y(S,{icon:_(J),class:"hover:scale-125 duration-100"},null,8,["icon"])],8,G),j("span",{class:"el-upload-list__item-delete",onClick:s=>(e=>{t.value.splice(t.value.indexOf(e),1)})(e)},[j("span",Q,[y(S,{icon:_(B),class:"hover:scale-125 duration-100"},null,8,["icon"])])],8,K)],2)],40,Y))])),default:c((()=>[y(S,{icon:_(D),class:"m-auto mt-4",width:"30"},null,8,["icon"])])),_:1},8,["file-list"]),i.value?(v(),m(q,{key:0,initialIndex:a.value,"url-list":o.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,onClose:p[1]||(p[1]=e=>i.value=!1),onSwitch:p[2]||(p[2]=e=>a.value=e)},null,8,["initialIndex","url-list"])):z("",!0),(v(),m(O,{to:"body"},[t.value[a.value]&&i.value?(v(),b("div",W,[j("p",X,h(t.value[a.value].name),1)])):z("",!0)])),Z,y(E),ee,j("div",te,[y(M),j("div",null,[se,y(le,{class:"w-[200px] rounded-md",src:_(r)[0],"preview-src-list":_(r),fit:"cover"},null,8,["src","preview-src-list"])])]),y(E),j("div",ae,[j("p",null,[g(" 裁剪、上传头像请参考 "),j("span",{class:"font-bold text-[18x] cursor-pointer hover:text-[red]",onClick:p[3]||(p[3]=e=>_(s).push({name:"SystemUser"}))}," 系统管理-用户管理 "),g(" 表格操作栏中的上传头像功能 ")]),j("p",ie,[g(" 免责声明：上传接口使用免费开源的 "),y(n,{href:"https://designer.mocky.io/",target:"_blank",style:{"font-size":"16px","font-weight":"800"}},{default:c((()=>[g("  Mocky  ")])),_:1}),oe,g("，如果造成任何损失，我们概不负责 ")])])])),_:1})}}}))));var re;const pe=L(le,[["__scopeId","data-v-04dda22c"]]);export{pe as default};
