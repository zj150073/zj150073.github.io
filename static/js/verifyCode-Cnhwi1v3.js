var E=(i,r,e)=>new Promise((d,n)=>{var u=o=>{try{$(e.next(o))}catch(a){n(a)}},l=o=>{try{$(e.throw(o))}catch(a){n(a)}},$=o=>o.done?d(o.value):Promise.resolve(o.value).then(u,l);$((e=e.apply(i,r)).next())});import{v as f,as as A,aJ as g,l as v,aK as C}from"./index-BqkmjK8c.js";const p=/^\d{6}$/,y=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,z=f({username:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入账号"))):e()},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入密码"))):y.test(r)?e():e(new Error(window.$i18n("密码格式应为8-18位数字、字母、符号的任意两种组合")))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):A().verifyCode!==r?e(new Error(window.$i18n("请输入正确的验证码"))):e()},trigger:"blur"}]}),Z=f({phone:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入手机号码"))):g(r)?e():e(new Error(window.$i18n("请输入正确的手机号码格式")))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):p.test(r)?e():e(new Error(window.$i18n("请输入6位数字验证码")))},trigger:"blur"}]}),h=f({username:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入账号"))):e()},trigger:"blur"}],phone:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入手机号码"))):g(r)?e():e(new Error(window.$i18n("请输入正确的手机号码格式")))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):p.test(r)?e():e(new Error(window.$i18n("请输入6位数字验证码")))},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(window.$i18n("请输入密码"))):y.test(r)?e():e(new Error(window.$i18n("密码格式应为8-18位数字、字母、符号的任意两种组合")))},trigger:"blur"}]}),t=v(!1),s=v(null),w=v(window.$i18n("获取验证码")),P=()=>({isDisabled:t,timer:s,text:w,start:(e,d,n=60)=>E(void 0,null,function*(){if(!e)return;const u=C(n,!0);yield e.validateField(d,l=>{l&&(clearInterval(s.value),t.value=!0,w.value=`${n}${window.$i18n("秒后重新获取")}`,s.value=setInterval(()=>{n>0?(n-=1,w.value=`${n}${window.$i18n("秒后重新获取")}`):(w.value=window.$i18n("获取验证码"),t.value=!1,clearInterval(s.value),n=u)},1e3))})}),end:()=>{w.value=window.$i18n("获取验证码"),t.value=!1,clearInterval(s.value)}});export{h as a,z as l,Z as p,P as u};
