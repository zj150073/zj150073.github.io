var x=(U,f,r)=>new Promise((s,i)=>{var g=d=>{try{m(r.next(d))}catch(_){i(_)}},b=d=>{try{m(r.throw(d))}catch(_){i(_)}},m=d=>d.done?s(d.value):Promise.resolve(d.value).then(g,b);m((r=r.apply(U,f)).next())});import{M as p}from"./motion-CpL-DSQ2.js";import{m as R}from"./message-C6_UuRYJ.js";import{u as C,a as B}from"./verifyCode-D2qtWGAM.js";import{d as E,k,s as N,r as w,o as T,g as z,h as a,b as o,u as l,e as F,f as y,t as S,W as D,ap as M}from"./index-Bqjb9AWx.js";const $={class:"w-full flex justify-between"},L=E({__name:"LoginRegist",setup(U){const f=k(!1),r=k(!1),s=N({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),i=k(),{isDisabled:g,text:b}=C(),m=[{validator:(V,e,u)=>{e===""?u(new Error("请输入确认密码")):s.password!==e?u(new Error("两次密码不一致!")):u()},trigger:"blur"}],d=V=>x(this,null,function*(){r.value=!0,V&&(yield V.validate(e=>{e?f.value?setTimeout(()=>{R("注册成功",{type:"success"}),r.value=!1},2e3):(r.value=!1,R("请勾选隐私政策",{type:"warning"})):r.value=!1}))});function _(){C().end(),M().SET_CURRENTPAGE(0)}return(V,e)=>{const u=w("el-input"),n=w("el-form-item"),v=w("el-button"),c=w("el-checkbox"),P=w("el-form");return T(),z(P,{ref_key:"ruleFormRef",ref:i,model:l(s),rules:l(B),size:"large"},{default:a(()=>[o(l(p),null,{default:a(()=>[o(n,{rules:[{required:!0,message:"请输入账号",trigger:"blur"}],prop:"username"},{default:a(()=>[o(u,{modelValue:l(s).username,"onUpdate:modelValue":e[0]||(e[0]=t=>l(s).username=t),clearable:"",placeholder:"账号"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:100},{default:a(()=>[o(n,{prop:"phone"},{default:a(()=>[o(u,{modelValue:l(s).phone,"onUpdate:modelValue":e[1]||(e[1]=t=>l(s).phone=t),clearable:"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:150},{default:a(()=>[o(n,{prop:"verifyCode"},{default:a(()=>[F("div",$,[o(u,{modelValue:l(s).verifyCode,"onUpdate:modelValue":e[2]||(e[2]=t=>l(s).verifyCode=t),clearable:"",placeholder:"手机号码"},null,8,["modelValue"]),o(v,{disabled:l(g),class:"ml-2",onClick:e[3]||(e[3]=t=>l(C)().start(l(i),"phone"))},{default:a(()=>[y(S(l(b)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(l(p),{delay:200},{default:a(()=>[o(n,{prop:"password"},{default:a(()=>[o(u,{modelValue:l(s).password,"onUpdate:modelValue":e[4]||(e[4]=t=>l(s).password=t),clearable:"","show-password":"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:250},{default:a(()=>[o(n,{rules:m,prop:"repeatPassword"},{default:a(()=>[o(u,{modelValue:l(s).repeatPassword,"onUpdate:modelValue":e[5]||(e[5]=t=>l(s).repeatPassword=t),clearable:"","show-password":"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:300},{default:a(()=>[o(n,null,{default:a(()=>[o(c,{modelValue:l(f),"onUpdate:modelValue":e[6]||(e[6]=t=>D(f)?f.value=t:null)},{default:a(()=>e[8]||(e[8]=[y(" 我已仔细阅读并接受 ")])),_:1},8,["modelValue"]),o(v,{link:"",type:"primary"},{default:a(()=>e[9]||(e[9]=[y(" 《隐私政策》 ")])),_:1})]),_:1})]),_:1}),o(l(p),{delay:350},{default:a(()=>[o(n,null,{default:a(()=>[o(v,{class:"w-full",size:"default",type:"primary",loading:l(r),onClick:e[7]||(e[7]=t=>d(l(i)))},{default:a(()=>e[10]||(e[10]=[y(" 确定 ")])),_:1},8,["loading"])]),_:1})]),_:1}),o(l(p),{delay:400},{default:a(()=>[o(n,null,{default:a(()=>[o(v,{class:"w-full",size:"default",onClick:_},{default:a(()=>e[11]||(e[11]=[y(" 返回 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{L as _};
