var E=(n,r,e)=>new Promise((o,s)=>{var t=i=>{try{a(e.next(i))}catch(d){s(d)}},w=i=>{try{a(e.throw(i))}catch(d){s(d)}},a=i=>i.done?o(i.value):Promise.resolve(i.value).then(t,w);a((e=e.apply(n,r)).next())});import{aH as p,aa as z,n as $,am as A,aI as C,h as g,aJ as R}from"./index-Bib8-SXE.js";const P=(n,r)=>{if(r){const{icon:e,type:o="info",dangerouslyUseHTMLString:s=!1,customClass:t="antd",duration:w=2e3,showClose:a=!1,center:i=!1,offset:d=20,appendTo:I=document.body,grouping:h=!1,onClose:v}=r;return p({message:n,type:o,icon:e,dangerouslyUseHTMLString:s,duration:w,showClose:a,center:i,offset:d,appendTo:I,grouping:h,customClass:t==="antd"?"pure-message":"",onClose:()=>z(v)?v():null})}else return p({message:n,customClass:"pure-message"})},m=/^\d{6}$/,y=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,S=$({username:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入账号"))):e()},trigger:"blur"}],password:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入密码"))):y.test(r)?e():e(new Error(window.$i18n("密码格式应为8-18位数字、字母、符号的任意两种组合")))},trigger:"blur"}],verifyCode:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):A().verifyCode!==r?e(new Error(window.$i18n("请输入正确的验证码"))):e()},trigger:"blur"}]}),T=$({phone:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入手机号码"))):C(r)?e():e(new Error(window.$i18n("请输入正确的手机号码格式")))},trigger:"blur"}],verifyCode:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):m.test(r)?e():e(new Error(window.$i18n("请输入6位数字验证码")))},trigger:"blur"}]}),X=$({username:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入账号"))):e()},trigger:"blur"}],phone:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入手机号码"))):C(r)?e():e(new Error(window.$i18n("请输入正确的手机号码格式")))},trigger:"blur"}],verifyCode:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入验证码"))):m.test(r)?e():e(new Error(window.$i18n("请输入6位数字验证码")))},trigger:"blur"}],password:[{validator:(n,r,e)=>{r===""?e(new Error(window.$i18n("请输入密码"))):y.test(r)?e():e(new Error(window.$i18n("密码格式应为8-18位数字、字母、符号的任意两种组合")))},trigger:"blur"}]}),f=g(!1),l=g(null),u=g(window.$i18n("获取验证码")),x=()=>({isDisabled:f,timer:l,text:u,start:(e,o,s=60)=>E(void 0,null,function*(){if(!e)return;const t=R(s,!0);yield e.validateField(o,w=>{w&&(clearInterval(l.value),f.value=!0,u.value=`${s}${window.$i18n("秒后重新获取")}`,l.value=setInterval(()=>{s>0?(s-=1,u.value=`${s}${window.$i18n("秒后重新获取")}`):(u.value=window.$i18n("获取验证码"),f.value=!1,clearInterval(l.value),s=t)},1e3))})}),end:()=>{u.value=window.$i18n("获取验证码"),f.value=!1,clearInterval(l.value)}});export{X as a,S as l,P as m,T as p,x as u};
