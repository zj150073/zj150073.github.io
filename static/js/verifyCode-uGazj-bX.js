var p=(s,r,e)=>new Promise((n,o)=>{var i=t=>{try{l(e.next(t))}catch(u){o(u)}},a=t=>{try{l(e.throw(t))}catch(u){o(u)}},l=t=>t.done?n(t.value):Promise.resolve(t.value).then(i,a);l((e=e.apply(s,r)).next())});import{ab as A,k as v,aq as I,aC as C,l as E,aD as R}from"./index-j1Hvf1Yt.js";const D=(s,r)=>{if(r){const{icon:e,type:n="info",dangerouslyUseHTMLString:o=!1,customClass:i="antd",duration:a=2e3,showClose:l=!1,center:t=!1,offset:u=20,appendTo:m=document.body,grouping:z=!1,onClose:w}=r;return ElMessage({message:s,type:n,icon:e,dangerouslyUseHTMLString:o,duration:a,showClose:l,center:t,offset:u,appendTo:m,grouping:z,customClass:i==="antd"?"pure-message":"",onClose:()=>A(w)?w():null})}else return ElMessage({message:s,customClass:"pure-message"})},y=/^\d{6}$/,$=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,M=v({password:[{validator:(s,r,e)=>{r===""?e(new Error("请输入密码")):$.test(r)?e():e(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error("请输入验证码")):I().verifyCode!==r?e(new Error("请输入正确的验证码")):e()},trigger:"blur"}]}),P=v({phone:[{validator:(s,r,e)=>{r===""?e(new Error("请输入手机号码")):C(r)?e():e(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error("请输入验证码")):y.test(r)?e():e(new Error("请输入6位数字验证码"))},trigger:"blur"}]}),S=v({phone:[{validator:(s,r,e)=>{r===""?e(new Error("请输入手机号码")):C(r)?e():e(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error("请输入验证码")):y.test(r)?e():e(new Error("请输入6位数字验证码"))},trigger:"blur"}],password:[{validator:(s,r,e)=>{r===""?e(new Error("请输入密码")):$.test(r)?e():e(new Error("密码格式应为8-18位数字、字母、符号的任意两种组合"))},trigger:"blur"}]}),g=E(!1),f=E(null),d=E(""),T=()=>({isDisabled:g,timer:f,text:d,start:(e,n,o=60)=>p(void 0,null,function*(){if(!e)return;const i=R(o,!0);yield e.validateField(n,a=>{a&&(clearInterval(f.value),g.value=!0,d.value=`${o}`,f.value=setInterval(()=>{o>0?(o-=1,d.value=`${o}`):(d.value="",g.value=!1,clearInterval(f.value),o=i)},1e3))})}),end:()=>{d.value="",g.value=!1,clearInterval(f.value)}});export{S as a,M as l,D as m,P as p,T as u};
