var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,n=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,s=(e,s)=>{for(var o in s||(s={}))a.call(s,o)&&n(e,o,s[o]);if(l)for(var o of l(s))t.call(s,o)&&n(e,o,s[o]);return e};import{u as o}from"./hooks-COqr6-qF.js";import{d as i,a as u,ar as d,Z as r,aU as p,R as m,n as v,i as b,aM as c,y as f,B as g,A as y,ad as x,N as k,Y as h}from"./index-CgRj-jQH.js";const z=h(i({name:"ReSegmented",props:{options:{type:Array,default:()=>[]},modelValue:{type:void 0,require:!1,default:"0"},block:{type:Boolean,default:!1},size:{type:String},disabled:{type:Boolean,default:!1},resize:{type:Boolean,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:l}){const a=u(0),t=u(0),{isDark:n}=d(),i=u(!1),h=u(-1),z=u(""),j=r(),O=p(e.modelValue)?m(e,"modelValue"):u(0);function R(e=O.value){f((()=>{var l;const n=null==(l=null==j?void 0:j.proxy)?void 0:l.$refs[`labelRef${e}`];n&&(a.value=n.clientWidth,t.value=n.offsetLeft,i.value=!0)}))}function V(){c(".pure-segmented",(()=>{f((()=>{R(O.value)}))}))}(e.block||e.resize)&&V(),v((()=>O.value),(e=>{f((()=>{R(e)}))}),{immediate:!0}),v((()=>e.size),V,{immediate:!0});const $=()=>e.options.map(((a,t)=>b("label",{ref:`labelRef${t}`,class:["pure-segmented-item",(e.disabled||(null==a?void 0:a.disabled))&&"pure-segmented-item-disabled"],style:{background:h.value===t?z.value:"",color:e.disabled?null:a.disabled||O.value!==t&&h.value!==t?"":n.value?"rgba(255, 255, 255, 0.85)":"rgba(0,0,0,.88)"},onMouseenter:l=>function({option:l,index:a},t){e.disabled||(t.preventDefault(),h.value=a,l.disabled||O.value===a?z.value="":z.value=n.value?"#1f1f1f":"rgba(0, 0, 0, 0.06)")}({option:a,index:t},l),onMouseleave:l=>function(l,a){e.disabled||(a.preventDefault(),h.value=-1)}(0,l),onClick:n=>function({option:a,index:t},n){e.disabled||a.disabled||(n.preventDefault(),p(e.modelValue)?l("update:modelValue",t):O.value=t,z.value="",l("change",{index:t,option:a}))}({option:a,index:t},n)},[b("input",{type:"radio",name:"segmented"},null),g(b("div",{class:"pure-segmented-item-label"},[a.icon&&!x(a.label)?b("span",{class:"pure-segmented-item-icon",style:{marginRight:a.label?"6px":0}},[k(o(a.icon,s({},null==a?void 0:a.iconAttrs)))]):null,a.label?x(a.label)?k(a.label):b("span",null,[a.label]):null]),[[y("tippy"),{content:null==a?void 0:a.tip,zIndex:41e3}]])])));return()=>b("div",{class:{"pure-segmented":!0,"pure-segmented-block":e.block,"pure-segmented--large":"large"===e.size,"pure-segmented--small":"small"===e.size}},[b("div",{class:"pure-segmented-group"},[b("div",{class:"pure-segmented-item-selected",style:{width:`${a.value}px`,transform:`translateX(${t.value}px)`,display:i.value?"block":"none"}},null),$()])])}}));export{z as R};
