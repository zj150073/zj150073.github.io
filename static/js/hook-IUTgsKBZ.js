import{d as e}from"./dayjs-BWHVJBZs.js";import{m as i}from"./index-CQT2hjpo.js";import{d as t}from"./system-efgH8gGi.js";import{S as o,r,J as s,a6 as p}from"./@vue-CFXrvzpc.js";import"./@amap-Bx2D3lnM.js";import"./vite-plugin-fake-server-CytHVkXj.js";import"./@faker-js-CRy60TLX.js";import"./version-rocket-chvOQqaV.js";import"./@pureadmin-f9nW_l6N.js";import"./vue-DWYrQbHy.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";import"./@iconify-icons-CxRB8ffa.js";import"./@vueuse-tP1Y4vdd.js";import"./defu-iUM7Auia.js";import"./framesync-CUhBu5sQ.js";import"./style-value-types-UCYNu-x1.js";import"./popmotion-DRTv1-mp.js";import"./hey-listen-DkH12NBk.js";import"./plus-pro-components-CYEVFP0q.js";import"./sortablejs-DhhifNSC.js";import"./axios-B1L2Kzed.js";import"./vue-i18n-DB-7wkrF.js";import"./@intlify-DfwD9yJy.js";import"./js-cookie-BXEMiIsG.js";import"./pinia-DzAV29mk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CGx-uoKe.js";import"./axs-request-CnYniYE7.js";import"./nprogress-L6f6pfEY.js";import"./echarts-D2b6xzX-.js";import"./zrender-CUz1GrA9.js";import"./tslib-ZseNXxlj.js";import"./vxe-table-CPtn8uUL.js";import"./xe-utils-CdBoVBzI.js";import"./dom-zindex-Ckn4mXSH.js";import"./responsive-storage-5vfjqqcs.js";import"./@iconify-BUzAfhQo.js";/* empty css                 */import"./vue-tippy-DPYCMIfw.js";function m(){const m=o({username:""}),n=r([]),a=r(!0),l=o({total:0,pageSize:10,currentPage:1,background:!0}),j=[{label:"序号",prop:"id",minWidth:60},{label:"用户名",prop:"username",minWidth:100},{label:"登录 IP",prop:"ip",minWidth:140},{label:"登录地点",prop:"address",minWidth:140},{label:"操作系统",prop:"system",minWidth:100},{label:"浏览器类型",prop:"browser",minWidth:100},{label:"登录时间",prop:"loginTime",minWidth:180,formatter:({loginTime:i})=>e(i).format("YYYY-MM-DD HH:mm:ss")},{label:"操作",fixed:"right",slot:"operation"}];function u(){return e=this,i=null,o=function*(){a.value=!0;const{data:e}=yield t(p(m));n.value=e.list,l.total=e.total,l.pageSize=e.pageSize,l.currentPage=e.currentPage,setTimeout((()=>{a.value=!1}),500)},new Promise(((t,r)=>{var s=e=>{try{m(o.next(e))}catch(i){r(i)}},p=e=>{try{m(o.throw(e))}catch(i){r(i)}},m=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,p);m((o=o.apply(e,i)).next())}));var e,i,o}return s((()=>{u()})),{form:m,loading:a,columns:j,dataList:n,pagination:l,onSearch:u,resetForm:e=>{e&&(e.resetFields(),u())},handleOffline:function(e){i(`${e.username}已被强制下线`,{type:"success"}),u()},handleSizeChange:function(e){},handleCurrentChange:function(e){},handleSelectionChange:function(e){}}}export{m as useRole};
