var e=Object.defineProperty,t=Object.defineProperties,u=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,u,n)=>u in t?e(t,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[u]=n,a=(e,t)=>{for(var u in t||(t={}))r.call(t,u)&&l(e,u,t[u]);if(n)for(var u of n(t))o.call(t,u)&&l(e,u,t[u]);return e},i=(e,n)=>t(e,u(n));import{a4 as s,a5 as c,a6 as V,a7 as f,M as m,_ as d}from"./index-DK9WUj9J.js";const p=Object.freeze(Object.defineProperty({__proto__:null,animationFrame:()=>{window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}},arrayEqual:(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;for(let u=0;u<e.length;++u)if(e[u]!==t[u])return!1;return!0},copyObj:function e(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});let t,u,n,r,o,l,a=1,i=arguments[0]||{},s=!1,c=arguments.length;if("boolean"==typeof i&&(s=i,i=arguments[1]||{},a++),"object"!=typeof i&&"function"!=typeof i&&(i={}),a===c)return i;for(;a<c;a++)if(null!=(u=arguments[a]))for(t in u)n=i[t],r=u[t],o=Array.isArray(r),s&&r&&("object"==typeof r||o)?(o?(o=!1,l=n&&Array.isArray(n)?n:[]):l=n&&"object"==typeof n?n:{},i[t]=e(s,l,r)):void 0!==r&&(i[t]=r);return i}},Symbol.toStringTag,{value:"Module"})),v=["innerHTML"],y=m(Vue.defineComponent(i(a({},{name:"ReSeamlessScroll"}),{__name:"index",props:{data:{type:Array},classOption:{type:Object}},emits:["scrollEnd"],setup(e,{expose:t,emit:u}){const{animationFrame:n,copyObj:r}=p;n();const o=e,l=u,a=Vue.ref(0),i=Vue.ref(0),m=Vue.ref(0),d=Vue.ref(0),y=Vue.ref(0),h=Vue.ref(0),w=Vue.ref(0),b=Vue.ref("");let g=null,k=null,S=null,C=null,x=null,T=!1,O="ease-in";void 0===o.classOption.key&&(o.classOption.key=0);const A=s(`wrap${o.classOption.key}`,null),E=s(`slotList${o.classOption.key}`,null),N=s(`realBox${o.classOption.key}`,null),_=Vue.computed((()=>Vue.unref(a)<0)),M=Vue.computed((()=>Math.abs(Vue.unref(a))<Vue.unref(h)-Vue.unref(y))),j=Vue.computed((()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:"top",openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}))),F=Vue.computed((()=>r({},Vue.unref(j),o.classOption))),z=Vue.computed((()=>Vue.unref(_)?"":Vue.unref(F).switchDisabledClass)),B=Vue.computed((()=>Vue.unref(M)?"":Vue.unref(F).switchDisabledClass)),$=Vue.computed((()=>({position:"absolute",margin:`${Vue.unref(d)/2}px 0 0 -${Vue.unref(F).switchOffset}px`,transform:"translate(-100%,-50%)"}))),P=Vue.computed((()=>({position:"absolute",margin:`${Vue.unref(d)/2}px 0 0 ${Vue.unref(y)+Vue.unref(F).switchOffset}px`,transform:"translateY(-50%)"}))),q=Vue.computed((()=>"bottom"!==Vue.unref(F).direction&&"top"!==Vue.unref(F).direction)),D=Vue.computed((()=>Vue.unref(q)?{float:"left",overflow:"hidden"}:{overflow:"hidden"})),H=Vue.computed((()=>({transform:`translate(${Vue.unref(a)}px,${Vue.unref(i)}px)`,transition:`all ${O} ${Vue.unref(m)}ms`,overflow:"hidden"}))),R=Vue.computed((()=>Vue.unref(F).navigation)),L=Vue.computed((()=>!Vue.unref(R)&&Vue.unref(F).autoPlay)),I=Vue.computed((()=>o.data.length>=Vue.unref(F).limitMoveNum)),W=Vue.computed((()=>Vue.unref(F).hoverStop&&Vue.unref(L)&&Vue.unref(I))),Y=Vue.computed((()=>Vue.unref(F).openTouch)),U=Vue.computed((()=>Vue.unref(F).isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1)),X=Vue.computed((()=>Vue.unref(F).singleWidth*Vue.unref(U))),G=Vue.computed((()=>Vue.unref(F).singleHeight*Vue.unref(U))),J=Vue.computed((()=>{let e;const t=Vue.unref(F).step;if(e=Vue.unref(q)?Vue.unref(X):Vue.unref(G),e>0&&e%t>0)throw"如果设置了单步滚动，step需是单步大小的约数，否则无法保证单步滚动结束的位置是否准确";return t}));function K(){Vue.unref(_)&&(Math.abs(Vue.unref(a))<Vue.unref(F).switchSingleStep?a.value=0:a.value+=Vue.unref(F).switchSingleStep)}function Q(){Vue.unref(M)&&(Vue.unref(h)-Vue.unref(y)+Vue.unref(a)<Vue.unref(F).switchSingleStep?a.value=Vue.unref(y)-Vue.unref(h):a.value-=Vue.unref(F).switchSingleStep)}function Z(){cancelAnimationFrame(k||"")}function ee(e){if(!Vue.unref(Y))return;let t;const u=e.targetTouches[0],{waitTime:n,singleHeight:r,singleWidth:o}=Vue.unref(F);S={x:u.pageX,y:u.pageY},C=Vue.unref(i),x=Vue.unref(a),r&&o?(t&&clearTimeout(t),t=setTimeout((()=>{Z()}),n+20)):Z()}function te(e){if(!Vue.unref(Y)||e.targetTouches.length>1||e.scale&&1!==e.scale)return;const t=e.targetTouches[0],{direction:u}=Vue.unref(F),n={x:t.pageX-S.x,y:t.pageY-S.y};e.preventDefault();const r=Math.abs(n.x)<Math.abs(n.y)?1:0;1===r&&"bottom"===u||1===r&&"top"===u?i.value=C+n.y:(0===r&&"left"===u||0===r&&"right"===u)&&(a.value=x+n.x)}function ue(){if(!Vue.unref(Y))return;let e;const t=Vue.unref(F).direction;if(m.value=50,"top"===t)Vue.unref(i)>0&&(i.value=0);else if("bottom"===t){const e=Vue.unref(w)/2*-1;Vue.unref(i)<e&&(i.value=e)}else if("left"===t)Vue.unref(a)>0&&(a.value=0);else if("right"===t){const e=-1*Vue.unref(h);Vue.unref(a)<e&&(a.value=e)}e&&clearTimeout(e),e=setTimeout((()=>{m.value=0,oe()}),Vue.unref(m))}function ne(){Vue.unref(W)&&function(){T=!0,g&&clearTimeout(g);Z()}()}function re(){Vue.unref(W)&&(T=!1,oe())}function oe(){T||(k=requestAnimationFrame((function(){const e=Vue.unref(w)/2,t=Vue.unref(h)/2,{direction:u,waitTime:n}=Vue.unref(F);"top"===u?(Math.abs(Vue.unref(i))>=e&&(l("scrollEnd"),i.value=0),i.value-=J.value):"bottom"===u?(Vue.unref(i)>=0&&(l("scrollEnd"),i.value=-1*e),i.value+=J.value):"left"===u?(Math.abs(Vue.unref(a))>=t&&(l("scrollEnd"),a.value=0),a.value-=J.value):"right"===u&&(Vue.unref(a)>=0&&(l("scrollEnd"),a.value=-1*t),a.value+=J.value),g&&clearTimeout(g),Vue.unref(G)?Math.abs(Vue.unref(i))%Vue.unref(G)<Vue.unref(J)?g=setTimeout((()=>{oe()}),n):oe():Vue.unref(X)&&Math.abs(Vue.unref(a))%Vue.unref(X)<Vue.unref(J)?g=setTimeout((()=>{oe()}),n):oe()})))}function le(){Vue.nextTick((()=>{const{switchDelay:e}=Vue.unref(F);if(b.value="",Vue.unref(q)){d.value=Vue.unref(A).offsetHeight,y.value=Vue.unref(A).offsetWidth;let e=Vue.unref(E).offsetWidth;Vue.unref(L)&&(e=2*e+1),Vue.unref(N).style.width=e+"px",h.value=e}if(!Vue.unref(L))return O="linear",void(m.value=e);O="ease-in",m.value=0,Vue.unref(I)?(b.value=Vue.unref(E).innerHTML,setTimeout((()=>{var e;w.value=null==(e=Vue.unref(N))?void 0:e.offsetHeight,oe()}),0)):(Z(),i.value=a.value=0)}))}function ae(e){"left"!==Vue.unref(F).direction&&"right"!==Vue.unref(F).direction&&f((()=>{e.deltaY>0?i.value-=J.value:i.value+=J.value}),50)()}return c((()=>{le()})),V((()=>{Z(),clearTimeout(g)})),t({reset:function(){a.value=0,i.value=0,Z(),le()}}),(t,u)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref:"wrap"+e.classOption.key},[R.value?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,style:Vue.normalizeStyle($.value),class:Vue.normalizeClass(z.value),onClick:K},[Vue.renderSlot(t.$slots,"left-switch")],6)):Vue.createCommentVNode("",!0),R.value?(Vue.openBlock(),Vue.createElementBlock("div",{key:1,style:Vue.normalizeStyle(P.value),class:Vue.normalizeClass(B.value),onClick:Q},[Vue.renderSlot(t.$slots,"right-switch")],6)):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",{ref:"realBox"+e.classOption.key,style:Vue.normalizeStyle(H.value),onMouseenter:ne,onMouseleave:re,onTouchstartPassive:ee,onTouchmovePassive:te,onTouchend:ue,onMousewheelPassive:ae},[Vue.createElementVNode("div",{ref:"slotList"+e.classOption.key,style:Vue.normalizeStyle(D.value)},[Vue.renderSlot(t.$slots,"default")],4),Vue.createElementVNode("div",{style:Vue.normalizeStyle(D.value),innerHTML:b.value},null,12,v)],36)],512))}}))),h={class:"card-header"},w=(e=>(Vue.pushScopeId("data-v-ff2abade"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("span",{class:"font-medium"},"无缝滚动",-1))),b={class:"item"},g=["textContent"],k=d(Vue.defineComponent(i(a({},{name:"SeamlessScroll"}),{__name:"seamless-scroll",setup(e){const t=Vue.ref(),u=Vue.ref([{title:"无缝滚动第一行无缝滚动第一行！！！！！！！！！！"},{title:"无缝滚动第二行无缝滚动第二行！！！！！！！！！！"},{title:"无缝滚动第三行无缝滚动第三行！！！！！！！！！！"},{title:"无缝滚动第四行无缝滚动第四行！！！！！！！！！！"},{title:"无缝滚动第五行无缝滚动第五行！！！！！！！！！！"},{title:"无缝滚动第六行无缝滚动第六行！！！！！！！！！！"},{title:"无缝滚动第七行无缝滚动第七行！！！！！！！！！！"},{title:"无缝滚动第八行无缝滚动第八行！！！！！！！！！！"},{title:"无缝滚动第九行无缝滚动第九行！！！！！！！！！！"}]),n=Vue.reactive({direction:"top"});function r(e){Vue.unref(t).reset(),Vue.unref(n).direction=e}return(e,o)=>{const l=Vue.resolveComponent("el-button"),a=Vue.resolveComponent("el-link"),i=Vue.resolveComponent("el-card"),s=Vue.resolveComponent("el-space");return Vue.openBlock(),Vue.createBlock(s,{wrap:""},{default:Vue.withCtx((()=>[Vue.createVNode(i,{class:"box-card",shadow:"never"},{header:Vue.withCtx((()=>[Vue.createElementVNode("div",h,[w,Vue.createVNode(l,{class:"button",link:"",type:"primary",onClick:o[0]||(o[0]=e=>r("top"))},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{style:Vue.normalizeStyle({color:"top"===n.direction?"red":""})}," 向上滚动 ",4)])),_:1}),Vue.createVNode(l,{class:"button",link:"",type:"primary",onClick:o[1]||(o[1]=e=>r("bottom"))},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{style:Vue.normalizeStyle({color:"bottom"===n.direction?"red":""})}," 向下滚动 ",4)])),_:1}),Vue.createVNode(l,{class:"button",link:"",type:"primary",onClick:o[2]||(o[2]=e=>r("left"))},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{style:Vue.normalizeStyle({color:"left"===n.direction?"red":""})}," 向左滚动 ",4)])),_:1}),Vue.createVNode(l,{class:"button",link:"",type:"primary",onClick:o[3]||(o[3]=e=>r("right"))},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{style:Vue.normalizeStyle({color:"right"===n.direction?"red":""})}," 向右滚动 ",4)])),_:1})]),Vue.createVNode(a,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/seamless-scroll.vue",target:"_blank"},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 代码位置 src/views/components/seamless-scroll.vue ")])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(y),{ref_key:"scroll",ref:t,data:u.value,"class-option":n,class:"warp"},{default:Vue.withCtx((()=>[Vue.createElementVNode("ul",b,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.value,((e,t)=>(Vue.openBlock(),Vue.createElementBlock("li",{key:t},[Vue.createElementVNode("span",{class:"title",textContent:Vue.toDisplayString(e.title)},null,8,g)])))),128))])])),_:1},8,["data","class-option"])])),_:1})])),_:1})}}})),[["__scopeId","data-v-ff2abade"]]);export{k as default};
