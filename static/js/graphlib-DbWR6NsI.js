import{c as t}from"./dagre-ByuBQOTl.js";import{A as e,a as n,c as r,d as i,i as s,B as o,C as u,D as a,j as h,E as c,l as d,v as f,F as p,G as _,H as l,y as v}from"./lodash-Cqbeouo3.js";var y,g,m,w,E,k,N,b,C,I,D,L,j,F,O,M,P,U,S,G,T,z,x,A,V,Y,B,W,H,K,Q,q,J,R,X,Z,$,tt,et,nt;function rt(){if(g)return y;var m;if(g=1,"function"==typeof t)try{m={clone:e(),constant:n(),each:r(),filter:i(),has:s(),isArray:o(),isEmpty:u(),isFunction:a(),isUndefined:h(),keys:c(),map:d(),reduce:f(),size:p(),transform:_(),union:l(),values:v()}}catch(w){}return m||(m=window._),y=m}function it(){if(w)return m;w=1;var t=rt();m=i;var e="\0",n="\0",r="";function i(e){this._isDirected=!t.has(e,"directed")||e.directed,this._isMultigraph=!!t.has(e,"multigraph")&&e.multigraph,this._isCompound=!!t.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function s(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function u(n,i,s,o){var u=""+i,a=""+s;if(!n&&u>a){var h=u;u=a,a=h}return u+r+a+r+(t.isUndefined(o)?e:o)}function a(t,e){return u(t,e.v,e.w,e.name)}return i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return t.isFunction(e)||(e=t.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var e=this;return t.filter(this.nodes(),(function(n){return t.isEmpty(e._in[n])}))},i.prototype.sinks=function(){var e=this;return t.filter(this.nodes(),(function(n){return t.isEmpty(e._out[n])}))},i.prototype.setNodes=function(e,n){var r=arguments,i=this;return t.each(e,(function(t){r.length>1?i.setNode(t,n):i.setNode(t)})),this},i.prototype.setNode=function(e,r){return t.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=n,this._children[e]={},this._children[n][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(e){return t.has(this._nodes,e)},i.prototype.removeNode=function(e){var n=this;if(t.has(this._nodes,e)){var r=function(t){n.removeEdge(n._edgeObjs[t])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],t.each(this.children(e),(function(t){n.setParent(t)})),delete this._children[e]),t.each(t.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],t.each(t.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(r))r=n;else{for(var i=r+="";!t.isUndefined(i);i=this.parent(i))if(i===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==n)return e}},i.prototype.children=function(e){if(t.isUndefined(e)&&(e=n),this._isCompound){var r=this._children[e];if(r)return t.keys(r)}else{if(e===n)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var n=this._preds[e];if(n)return t.keys(n)},i.prototype.successors=function(e){var n=this._sucs[e];if(n)return t.keys(n)},i.prototype.neighbors=function(e){var n=this.predecessors(e);if(n)return t.union(n,this.successors(e))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;t.each(this._nodes,(function(t,r){e(r)&&n.setNode(r,t)})),t.each(this._edgeObjs,(function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,r.edge(t))}));var i={};function s(t){var e=r.parent(t);return void 0===e||n.hasNode(e)?(i[t]=e,e):e in i?i[e]:s(e)}return this._isCompound&&t.each(n.nodes(),(function(t){n.setParent(t,s(t))})),n},i.prototype.setDefaultEdgeLabel=function(e){return t.isFunction(e)||(e=t.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(e,n){var r=this,i=arguments;return t.reduce(e,(function(t,e){return i.length>1?r.setEdge(t,e,n):r.setEdge(t,e),e})),this},i.prototype.setEdge=function(){var e,n,r,i,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,n=a.w,r=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=a,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,t.isUndefined(r)||(r=""+r);var h=u(this._isDirected,e,n,r);if(t.has(this._edgeLabels,h))return o&&(this._edgeLabels[h]=i),this;if(!t.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[h]=o?i:this._defaultEdgeLabelFn(e,n,r);var c=function(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var o=i;i=s,s=o}var u={v:i,w:s};r&&(u.name=r);return u}(this._isDirected,e,n,r);return e=c.v,n=c.w,Object.freeze(c),this._edgeObjs[h]=c,s(this._preds[n],e),s(this._sucs[e],n),this._in[n][h]=c,this._out[e][h]=c,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,n,r){var i=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,e,n,r);return t.has(this._edgeLabels,i)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(e,n){var r=this._in[e];if(r){var i=t.values(r);return n?t.filter(i,(function(t){return t.v===n})):i}},i.prototype.outEdges=function(e,n){var r=this._out[e];if(r){var i=t.values(r);return n?t.filter(i,(function(t){return t.w===n})):i}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))},m}function st(){if(I)return C;I=1;var t=rt(),e=it();function n(e){return t.map(e.nodes(),(function(n){var r=e.node(n),i=e.parent(n),s={v:n};return t.isUndefined(r)||(s.value=r),t.isUndefined(i)||(s.parent=i),s}))}function r(e){return t.map(e.edges(),(function(n){var r=e.edge(n),i={v:n.v,w:n.w};return t.isUndefined(n.name)||(i.name=n.name),t.isUndefined(r)||(i.value=r),i}))}return C={write:function(e){var i={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:n(e),edges:r(e)};t.isUndefined(e.graph())||(i.value=t.clone(e.graph()));return i},read:function(n){var r=new e(n.options).setGraph(n.value);return t.each(n.nodes,(function(t){r.setNode(t.v,t.value),t.parent&&r.setParent(t.v,t.parent)})),t.each(n.edges,(function(t){r.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),r}}}function ot(){if(L)return D;L=1;var t=rt();return D=function(e){var n,r={},i=[];function s(i){t.has(r,i)||(r[i]=!0,n.push(i),t.each(e.successors(i),s),t.each(e.predecessors(i),s))}return t.each(e.nodes(),(function(t){n=[],s(t),n.length&&i.push(n)})),i}}function ut(){if(F)return j;F=1;var t=rt();function e(){this._arr=[],this._keyIndices={}}return j=e,e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},e.prototype.has=function(e){return t.has(this._keyIndices,e)},e.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},e.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(e,n){var r=this._keyIndices;if(e=String(e),!t.has(r,e)){var i=this._arr,s=i.length;return r[e]=s,i.push({key:e,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},e.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},e.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},e.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},e.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],s=n[e];n[t]=s,n[e]=i,r[s.key]=t,r[i.key]=e},j}function at(){if(M)return O;M=1;var t=rt(),e=ut();O=function(t,r,i,s){return function(t,n,r,i){var s,o,u={},a=new e,h=function(t){var e=t.v!==s?t.v:t.w,n=u[e],i=r(t),h=o.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);h<n.distance&&(n.distance=h,n.predecessor=s,a.decrease(e,h))};t.nodes().forEach((function(t){var e=t===n?0:Number.POSITIVE_INFINITY;u[t]={distance:e},a.add(t,e)}));for(;a.size()>0&&(s=a.removeMin(),(o=u[s]).distance!==Number.POSITIVE_INFINITY);)i(s).forEach(h);return u}(t,String(r),i||n,s||function(e){return t.outEdges(e)})};var n=t.constant(1);return O}function ht(){if(U)return P;U=1;var t=at(),e=rt();return P=function(n,r,i){return e.transform(n.nodes(),(function(e,s){e[s]=t(n,s,r,i)}),{})}}function ct(){if(G)return S;G=1;var t=rt();return S=function(e){var n=0,r=[],i={},s=[];function o(u){var a=i[u]={onStack:!0,lowlink:n,index:n++};if(r.push(u),e.successors(u).forEach((function(e){t.has(i,e)?i[e].onStack&&(a.lowlink=Math.min(a.lowlink,i[e].index)):(o(e),a.lowlink=Math.min(a.lowlink,i[e].lowlink))})),a.lowlink===a.index){var h,c=[];do{h=r.pop(),i[h].onStack=!1,c.push(h)}while(u!==h);s.push(c)}}return e.nodes().forEach((function(e){t.has(i,e)||o(e)})),s}}function dt(){if(z)return T;z=1;var t=rt(),e=ct();return T=function(n){return t.filter(e(n),(function(t){return t.length>1||1===t.length&&n.hasEdge(t[0],t[0])}))}}function ft(){if(A)return x;A=1;var t=rt();x=function(t,n,r){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,s=e(n);r[t][i]={distance:s,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var s=r[n];i.forEach((function(n){var r=s[t],i=e[n],o=s[n],u=r.distance+i.distance;u<o.distance&&(o.distance=u,o.predecessor=i.predecessor)}))}))})),r}(t,n||e,r||function(e){return t.outEdges(e)})};var e=t.constant(1);return x}function pt(){if(Y)return V;Y=1;var t=rt();function e(e){var r={},i={},s=[];if(t.each(e.sinks(),(function o(u){if(t.has(i,u))throw new n;t.has(r,u)||(i[u]=!0,r[u]=!0,t.each(e.predecessors(u),o),delete i[u],s.push(u))})),t.size(r)!==e.nodeCount())throw new n;return s}function n(){}return V=e,e.CycleException=n,n.prototype=new Error,V}function _t(){if(W)return B;W=1;var t=pt();return B=function(e){try{t(e)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}}function lt(){if(K)return H;K=1;var t=rt();function e(n,r,i,s,o,u){t.has(s,r)||(s[r]=!0,i||u.push(r),t.each(o(r),(function(t){e(n,t,i,s,o,u)})),i&&u.push(r))}return H=function(n,r,i){t.isArray(r)||(r=[r]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],u={};return t.each(r,(function(t){if(!n.hasNode(t))throw new Error("Graph does not have node: "+t);e(n,t,"post"===i,u,s,o)})),o}}function vt(){if(q)return Q;q=1;var t=lt();return Q=function(e,n){return t(e,n,"post")}}function yt(){if(R)return J;R=1;var t=lt();return J=function(e,n){return t(e,n,"pre")}}function gt(){if(Z)return X;Z=1;var t=rt(),e=it(),n=ut();return X=function(r,i){var s,o=new e,u={},a=new n;function h(t){var e=t.v===s?t.w:t.v,n=a.priority(e);if(void 0!==n){var r=i(t);r<n&&(u[e]=s,a.decrease(e,r))}}if(0===r.nodeCount())return o;t.each(r.nodes(),(function(t){a.add(t,Number.POSITIVE_INFINITY),o.setNode(t)})),a.decrease(r.nodes()[0],0);var c=!1;for(;a.size()>0;){if(s=a.removeMin(),t.has(u,s))o.setEdge(s,u[s]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(s).forEach(h)}return o}}function mt(){if(nt)return et;nt=1;var t=b?N:(b=1,N={Graph:it(),version:k?E:(k=1,E="2.1.8")});return et={Graph:t.Graph,json:st(),alg:tt?$:(tt=1,$={components:ot(),dijkstra:at(),dijkstraAll:ht(),findCycles:dt(),floydWarshall:ft(),isAcyclic:_t(),postorder:vt(),preorder:yt(),prim:gt(),tarjan:ct(),topsort:pt()}),version:t.version}}export{mt as r};
