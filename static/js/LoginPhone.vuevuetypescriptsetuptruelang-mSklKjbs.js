var k=(b,s,n)=>new Promise((r,f)=>{var _=e=>{try{u(n.next(e))}catch(l){f(l)}},c=e=>{try{u(n.throw(e))}catch(l){f(l)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(_,c);u((n=n.apply(b,s)).next())});import{p as $,u as v,m as R}from"./verifyCode-CwQewhIE.js";import{d as A,h,p as B,r as i,A as F,o as N,u as a,w as t,b as o,e as T,g as C,F as V,l as U}from"./index-BYgSgvzh.js";const j={class:"w-full flex justify-between"},D=A({__name:"LoginPhone",setup(b){const s=h(!1),n=B({phone:"",verifyCode:""}),r=h(),{isDisabled:f,text:_}=v(),c=e=>k(this,null,function*(){s.value=!0,e&&(yield e.validate(l=>{l?setTimeout(()=>{R("登录成功",{type:"success"}),s.value=!1},2e3):s.value=!1}))});function u(){v().end(),U().SET_CURRENTPAGE(0)}return(e,l)=>{const g=i("el-input"),p=i("el-form-item"),m=i("AjmerMotion"),y=i("el-button"),w=i("el-form");return N(),F(w,{ref_key:"ruleFormRef",ref:r,model:a(n),rules:a($),size:"large"},{default:t(()=>[o(m,null,{default:t(()=>[o(p,{prop:"phone"},{default:t(()=>[o(g,{modelValue:a(n).phone,"onUpdate:modelValue":l[0]||(l[0]=d=>a(n).phone=d),placeholder:e.$i18n("手机号"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),o(m,{delay:100},{default:t(()=>[o(p,{prop:"verifyCode"},{default:t(()=>[T("div",j,[o(g,{modelValue:a(n).verifyCode,"onUpdate:modelValue":l[1]||(l[1]=d=>a(n).verifyCode=d),placeholder:e.$i18n("验证码"),clearable:""},null,8,["modelValue","placeholder"]),o(y,{disabled:a(f),class:"ml-2",onClick:l[2]||(l[2]=d=>a(v)().start(a(r),"phone"))},{default:t(()=>[C(V(a(_)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(m,{delay:150},{default:t(()=>[o(p,null,{default:t(()=>[o(y,{class:"w-full",size:"default",type:"primary",loading:a(s),onClick:l[3]||(l[3]=d=>c(a(r)))},{default:t(()=>[C(V(e.$i18n("登录")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),o(m,{delay:200},{default:t(()=>[o(p,null,{default:t(()=>[o(y,{class:"w-full",size:"default",onClick:u},{default:t(()=>[C(V(e.$i18n("返回")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{D as _};
