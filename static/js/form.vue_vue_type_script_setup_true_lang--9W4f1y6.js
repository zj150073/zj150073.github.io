import{f as e}from"./mock-BfijETem.js";import{K as t,m as l}from"./index-DK9WUj9J.js";const o={width:24,height:24,body:'<path fill="currentColor" d="M4 19h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7Zm9-10v7h-2V9H6l6-6l6 6h-5Z"/>'},a={class:"el-upload__text"},u=Vue.defineComponent({__name:"form",setup(u){const r=Vue.ref(),d=Vue.ref(),i=Vue.reactive({fileList:[],date:""});return(u,s)=>{const V=Vue.resolveComponent("IconifyIconOffline"),n=Vue.resolveComponent("el-upload"),c=Vue.resolveComponent("el-form-item"),f=Vue.resolveComponent("el-date-picker"),m=Vue.resolveComponent("el-button"),p=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createBlock(p,{ref_key:"formRef",ref:r,model:i,"label-width":"82px"},{default:Vue.withCtx((()=>[Vue.createVNode(c,{label:"附件",prop:"fileList",rules:[{required:!0,message:"附件不能为空"}]},{default:Vue.withCtx((()=>[Vue.createVNode(n,{ref_key:"uploadRef",ref:d,"file-list":i.fileList,"onUpdate:fileList":s[0]||(s[0]=e=>i.fileList=e),drag:"",multiple:"",action:"#",class:"!w-[200px]","auto-upload":!1},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",a,[Vue.createVNode(V,{icon:Vue.unref(o),width:"26",class:"m-auto mb-2"},null,8,["icon"]),Vue.createTextVNode(" 可点击或拖拽上传 ")])])),_:1},8,["file-list"])])),_:1}),Vue.createVNode(c,{label:"日期",prop:"date",rules:[{required:!0,message:"日期不能为空"}]},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:i.date,"onUpdate:modelValue":s[1]||(s[1]=e=>i.date=e),type:"datetime",class:"!w-[200px]",placeholder:"请选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,null,{default:Vue.withCtx((()=>[Vue.createVNode(m,{type:"primary",text:"",bg:"",onClick:s[2]||(s[2]=o=>{var a;(a=r.value)&&a.validate((o=>{if(!o)return!1;{const o=t({files:i.fileList.map((e=>({raw:e.raw}))),date:i.date});e(o).then((({success:e})=>{e?l("提交成功",{type:"success"}):l("提交失败")})).catch((e=>{l(`提交异常 ${e}`,{type:"error"})}))}}))})},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 提交 ")])),_:1}),Vue.createVNode(m,{text:"",bg:"",onClick:s[3]||(s[3]=e=>{var t;(t=r.value)&&t.resetFields()})},{default:Vue.withCtx((()=>[Vue.createTextVNode("重置")])),_:1})])),_:1})])),_:1},8,["model"])}}});export{u as _};
