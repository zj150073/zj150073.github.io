var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,i=(e,t,r)=>s(e,"symbol"!=typeof t?t+"":t,r);class u{constructor(e,t=0){i(this,"depth",0),i(this,"key"),i(this,"word",!1),i(this,"children",{}),i(this,"fail"),i(this,"count",0),this.key=e,this.depth=t}}const a=class{constructor(e,t){i(this,"root",new u("root")),i(this,"customCharacter");const r=e.length;this.customCharacter=(null==t?void 0:t.customCharacter)||"*";for(let o=0;o<r;o++)this.add(e[o],!1);this.build()}build(){const e=[];e.push(this.root);let t=0;for(;e.length>t;){const r=e[t],o=r.children;for(const t in r.children){const n=o[t];let l=r.fail;for(;l&&!l.children[t];)l=l.fail;n.fail=(null==l?void 0:l.children[t])||this.root,e.push(n)}t++}}search(e,t={replace:!0}){let r=this.root;const o=[],n=[],l=[],{replace:s=!0,verify:i=!1}=t,u=e.length;for(let a=0;a<u;a++){const t=e[a],u=t.toLowerCase();for(;r&&!(null==r?void 0:r.children[u]);)r=null==r?void 0:r.fail;if(r=(null==r?void 0:r.children[u])||this.root,o.push(t),n.push(t),r.word){let e=a+1-r.depth,t="";for(;e<=a;){t+=n[e],s&&(o[e]=this.customCharacter),e++}if(l.push(t),i)break}}return{words:l,text:o.join("")}}filter(e,t){return this.search(e,t)}verify(e){const{words:t}=this.search(e,{verify:!0});return!t.length}delete(e){const t=this.pop(e.toLowerCase(),e.length,this.root);return this.build(),t}pop(e,t,r,o="delete",n=0){if(!r)return"delete";if(n===t){r.word=!1,r.count--;let e=!0;for(const t in r.children)if(t){e=!1;break}return e?o:"update"}{const l=e[n],s=r.children[l],i=this.pop(e,t,s,r.word?"update":o,n+1);return r.count--,"delete"===i&&0===(null==s?void 0:s.count)&&delete r.children[l],i}}add(e,t=!0){const r=e.toLowerCase(),o=r.length;return this.put(r,o),t&&this.build(),!0}put(e,t){let r=this.root;const o=t-1;r.count++;for(let n=0;n<t;n++){const t=e[n],l=r.children[t];if(l)l.count++,r=l;else{const e=new u(t,n+1);e.count=1,r.children[t]=e,r=e}o===n&&r.depth&&(r.word=!0)}}},c={class:"card-header"},d=Vue.createElementVNode("p",{class:"font-medium"},"敏感词过滤",-1),h={class:"flex flex-wrap gap-2 my-2"},p=Vue.createElementVNode("span",null,"自定义敏感词",-1),f={class:"mt-2"},V=Vue.defineComponent((m=((e,t)=>{for(var r in t||(t={}))n.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&s(e,r,t[r]);return e})({},{name:"Sensitive"}),t(m,r({__name:"sensitive",setup(e){const t=["脑残","废物","白痴","三八","智障"],r=Vue.ref(),o=new a(t);function n(){r.value=o.filter(r.value).text}return(e,o)=>{const l=Vue.resolveComponent("el-link"),s=Vue.resolveComponent("el-tag"),i=Vue.resolveComponent("el-input"),u=Vue.resolveComponent("el-card");return Vue.openBlock(),Vue.createBlock(u,{shadow:"never"},{header:Vue.withCtx((()=>[Vue.createElementVNode("div",c,[d,Vue.createVNode(l,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/able/sensitive.vue",target:"_blank"},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 代码位置 src/views/able/sensitive.vue ")])),_:1})])])),default:Vue.withCtx((()=>[Vue.createElementVNode("div",h,[p,(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t,((e,t)=>Vue.createVNode(s,{key:t,type:"warning",class:"mx-1",effect:"dark",round:""},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e),1)])),_:2},1024))),64))]),Vue.createVNode(i,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),onInput:n},null,8,["modelValue"]),Vue.createElementVNode("p",f,Vue.toDisplayString(r.value),1)])),_:1})}}}))));var m;export{V as default};
