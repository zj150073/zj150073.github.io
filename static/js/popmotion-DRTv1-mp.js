import{h as t,r as e,g as n,e as r,c as o}from"./style-value-types-UCYNu-x1.js";import{i as s}from"./hey-listen-DkH12NBk.js";import{s as a,c as i,g as u}from"./framesync-CUhBu5sQ.js";function c(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}const l=(t,e,n)=>Math.min(Math.max(n,t),e),p=.001,f=.01,d=10,m=.05,h=1;function y({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,s,a=1-e;a=l(m,h,a),t=l(f,d,t/1e3),a<1?(o=e=>{const r=e*a,o=r*t,s=r-n,i=g(e,a),u=Math.exp(-o);return p-s/i*u},s=e=>{const r=e*a*t,s=r*n+n,i=Math.pow(a,2)*Math.pow(e,2)*t,u=Math.exp(-r),c=g(Math.pow(e,2),a);return(-o(e)+p>0?-1:1)*((s-i)*u)/c}):(o=e=>Math.exp(-e*t)*((e-n)*t+1)-p,s=e=>Math.exp(-e*t)*(t*t*(n-e)));const i=function(t,e,n){let r=n;for(let o=1;o<v;o++)r-=t(r)/e(r);return r}(o,s,5/t);if(t*=1e3,isNaN(i))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(i,2)*r;return{stiffness:e,damping:2*a*Math.sqrt(r*e),duration:t}}}const v=12;function g(t,e){return t*Math.sqrt(1-e*e)}const M=["duration","bounce"],b=["stiffness","damping","mass"];function j(t,e){return e.some((e=>void 0!==t[e]))}function O(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:o}=t,s=c(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:e};let{stiffness:i,damping:u,mass:l,velocity:p,duration:f,isResolvedFromDuration:d}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!j(t,b)&&j(t,M)){const n=y(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(s),m=x,h=x;function v(){const t=p?-p/1e3:0,r=n-e,s=u/(2*Math.sqrt(i*l)),a=Math.sqrt(i/l)/1e3;if(void 0===o&&(o=Math.min(Math.abs(n-e)/100,.4)),s<1){const e=g(a,s);m=o=>{const i=Math.exp(-s*a*o);return n-i*((t+s*a*r)/e*Math.sin(e*o)+r*Math.cos(e*o))},h=n=>{const o=Math.exp(-s*a*n);return s*a*o*(Math.sin(e*n)*(t+s*a*r)/e+r*Math.cos(e*n))-o*(Math.cos(e*n)*(t+s*a*r)-e*r*Math.sin(e*n))}}else if(1===s)m=e=>n-Math.exp(-a*e)*(r+(t+a*r)*e);else{const e=a*Math.sqrt(s*s-1);m=o=>{const i=Math.exp(-s*a*o),u=Math.min(e*o,300);return n-i*((t+s*a*r)*Math.sinh(u)+e*r*Math.cosh(u))/e}}}return v(),{next:t=>{const e=m(t);if(d)a.done=t>=f;else{const s=1e3*h(t),i=Math.abs(s)<=r,u=Math.abs(n-e)<=o;a.done=i&&u}return a.value=a.done?n:e,a},flipTarget:()=>{p=-p,[e,n]=[n,e],v()}}}O.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const x=t=>0,w=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},S=(t,e,n)=>-n*t+n*e+t;function A(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function D({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let o=0,s=0,a=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r;o=A(i,r,t+1/3),s=A(i,r,t),a=A(i,r,t-1/3)}else o=s=a=n;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}const R=(t,e,n)=>{const r=t*t,o=e*e;return Math.sqrt(Math.max(0,n*(o-r)+r))},T=[n,e,t],q=t=>T.find((e=>e.test(t))),C=(n,r)=>{let o=q(n),s=q(r),a=o.parse(n),i=s.parse(r);o===t&&(a=D(a),o=e),s===t&&(i=D(i),s=e);const u=Object.assign({},a);return t=>{for(const e in u)"alpha"!==e&&(u[e]=R(a[e],i[e],t));return u.alpha=S(a.alpha,i.alpha,t),o.transform(u)}},P=(t,e)=>n=>e(t(n)),U=(...t)=>t.reduce(P);function N(t,e){return"number"==typeof t?n=>S(t,e,n):o.test(t)?C(t,e):G(t,e)}const F=(t,e)=>{const n=[...t],r=n.length,o=t.map(((t,n)=>N(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=o[e](t);return n}},k=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const o in n)void 0!==t[o]&&void 0!==e[o]&&(r[o]=N(t[o],e[o]));return t=>{for(const e in r)n[e]=r[e](t);return n}};function B(t){const e=r.parse(t),n=e.length;let o=0,s=0,a=0;for(let r=0;r<n;r++)o||"number"==typeof e[r]?o++:void 0!==e[r].hue?a++:s++;return{parsed:e,numNumbers:o,numRGB:s,numHSL:a}}const G=(t,e)=>{const n=r.createTransformer(e),o=B(t),s=B(e);return o.numHSL===s.numHSL&&o.numRGB===s.numRGB&&o.numNumbers>=s.numNumbers?U(F(o.parsed,s.parsed),n):n=>`${n>0?e:t}`},H=(t,e)=>n=>S(t,e,n);function I(t,e,n){const r=[],s=n||("number"==typeof(a=t[0])?H:"string"==typeof a?o.test(a)?C:G:Array.isArray(a)?F:"object"==typeof a?k:void 0);var a;const i=t.length-1;for(let o=0;o<i;o++){let n=s(t[o],t[o+1]);if(e){const t=Array.isArray(e)?e[o]:e;n=U(t,n)}r.push(n)}return r}function L(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const a=t.length;s(a===e.length),s(!r||!Array.isArray(r)||r.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const i=I(e,r,o),u=2===a?function([t,e],[n]){return r=>n(w(t,e,r))}(t,i):function(t,e){const n=t.length,r=n-1;return o=>{let s=0,a=!1;if(o<=t[0]?a=!0:o>=t[r]&&(s=r-1,a=!0),!a){let e=1;for(;e<n&&!(t[e]>o||e===r);e++);s=e-1}const i=w(t[s],t[s+1],o);return e[s](i)}}(t,i);return n?e=>u(l(t[0],t[a-1],e)):u}const E=t=>e=>1-t(1-e),$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z=t=>e=>e*e*((t+1)*e-t),J=4/11,K=8/11,Q=t=>t,V=(W=2,t=>Math.pow(t,W));var W;const X=E(V),Y=$(V),Z=t=>1-Math.sin(Math.acos(t)),_=E(Z),tt=$(_),et=z(1.525),nt=E(et),rt=$(et),ot=(t=>{const e=z(t);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))})(1.525),st=4356/361,at=35442/1805,it=16061/1805,ut=t=>{if(1===t||0===t)return t;const e=t*t;return t<J?7.5625*e:t<K?9.075*e-9.9*t+3.4:t<.9?st*e-at*t+it:10.8*t*t-20.52*t+10.72},ct=E(ut),lt=t=>t<.5?.5*(1-ut(1-2*t)):.5*ut(2*t-1)+.5;function pt(t,e){return t.map((()=>e||Y)).splice(0,t.length-1)}function ft({from:t=0,to:e=1,ease:n,offset:r,duration:o=300}){const s={done:!1,value:t},a=Array.isArray(e)?e:[t,e],i=function(t,e){return t.map((t=>t*e))}(r&&r.length===a.length?r:function(t){const e=t.length;return t.map(((t,n)=>0!==n?n/(e-1):0))}(a),o);function u(){return L(i,a,{ease:Array.isArray(n)?n:pt(a,n)})}let c=u();return{next:t=>(s.value=c(t),s.done=t>=o,s),flipTarget:()=>{a.reverse(),c=u()}}}const dt={keyframes:ft,spring:O,decay:function({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:s}){const a={done:!1,value:e};let i=n*t;const u=e+i,c=void 0===s?u:s(u);return c!==u&&(i=c-e),{next:t=>{const e=-i*Math.exp(-t/r);return a.done=!(e>o||e<-o),a.value=a.done?c:c+e,a},flipTarget:()=>{}}}};function mt(t,e,n=0){return t-e-n}const ht=t=>{const e=({delta:e})=>t(e);return{start:()=>a.update(e,!0),stop:()=>i.update(e)}};function yt(t){var e,n,{from:r,autoplay:o=!0,driver:s=ht,elapsed:a=0,repeat:i=0,repeatType:u="loop",repeatDelay:l=0,onPlay:p,onStop:f,onComplete:d,onRepeat:m,onUpdate:h}=t,y=c(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,g,M,{to:b}=y,j=0,x=y.duration,w=!1,S=!0;const A=function(t){if(Array.isArray(t.to))return ft;if(dt[t.type])return dt[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?ft:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?O:ft}(y);(null===(n=(e=A).needsInterpolation)||void 0===n?void 0:n.call(e,r,b))&&(M=L([0,100],[r,b],{clamp:!1}),r=0,b=100);const D=A(Object.assign(Object.assign({},y),{from:r,to:b}));function R(){j++,"reverse"===u?(S=j%2==0,a=function(t,e,n=0,r=!0){return r?mt(e+-t,e,n):e-(t-e)+n}(a,x,l,S)):(a=mt(a,x,l),"mirror"===u&&D.flipTarget()),w=!1,m&&m()}function T(t){if(S||(t=-t),a+=t,!w){const t=D.next(Math.max(0,a));g=t.value,M&&(g=M(g)),w=S?t.done:a<=0}null==h||h(g),w&&(0===j&&(null!=x||(x=a)),j<i?function(t,e,n,r){return r?t>=e+n:t<=-n}(a,x,l,S)&&R():(v.stop(),d&&d()))}return o&&(null==p||p(),v=s(T),v.start()),{stop:()=>{null==f||f(),v.stop()}}}function vt(t,e){return e?t*(1e3/e):0}function gt({from:t=0,velocity:e=0,min:n,max:r,power:o=.8,timeConstant:s=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:c=1,modifyTarget:l,driver:p,onUpdate:f,onComplete:d,onStop:m}){let h;function y(t){return void 0!==n&&t<n||void 0!==r&&t>r}function v(t){return void 0===n?r:void 0===r||Math.abs(n-t)<Math.abs(r-t)?n:r}function g(t){null==h||h.stop(),h=yt(Object.assign(Object.assign({},t),{driver:p,onUpdate:e=>{var n;null==f||f(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:d,onStop:m}))}function M(t){g(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:c},t))}if(y(t))M({from:t,velocity:e,to:v(t)});else{let r=o*e+t;void 0!==l&&(r=l(r));const a=v(r),i=a===n?-1:1;let p,f;const d=t=>{p=f,f=t,e=vt(t-p,u().delta),(1===i&&t>a||-1===i&&t<a)&&M({from:t,to:a,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:s,power:o,restDelta:c,modifyTarget:l,onUpdate:y(r)?d:void 0})}return{stop:()=>null==h?void 0:h.stop()}}const Mt=(t,e)=>1-3*e+3*t,bt=(t,e)=>3*e-6*t,jt=t=>3*t,Ot=(t,e,n)=>((Mt(e,n)*t+bt(e,n))*t+jt(e))*t,xt=(t,e,n)=>3*Mt(e,n)*t*t+2*bt(e,n)*t+jt(e),wt=1e-7,St=10;const At=8;const Dt=.1;function Rt(t,e,n,r){if(t===e&&n===r)return Q;const o=new Float32Array(11);for(let a=0;a<11;++a)o[a]=Ot(a*Dt,t,n);function s(e){let r=0,s=1;for(;10!==s&&o[s]<=e;++s)r+=Dt;--s;const a=r+(e-o[s])/(o[s+1]-o[s])*Dt,i=xt(a,t,n);return i>=.001?function(t,e,n,r){for(let o=0;o<At;++o){const o=xt(e,n,r);if(0===o)return e;e-=(Ot(e,n,r)-t)/o}return e}(e,a,t,n):0===i?a:function(t,e,n,r,o){let s,a,i=0;do{a=e+(n-e)/2,s=Ot(a,r,o)-t,s>0?n=a:e=a}while(Math.abs(s)>wt&&++i<St);return a}(e,r,r+Dt,t,n)}return t=>0===t||1===t?t:Ot(s(t),e,r)}export{yt as a,Y as b,Rt as c,X as d,V as e,Z as f,tt as g,_ as h,gt as i,et as j,rt as k,Q as l,nt as m,ot as n,ct as o,lt as p,ut as q,vt as v};
