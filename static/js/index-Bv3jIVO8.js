var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r;import{useMenu as i}from"./hook-28oTMmd9.js";import{t as a,_ as V}from"./index-DK9WUj9J.js";import{R as s,P as c}from"./refresh-y5MKQrJJ.js";import{u as f}from"./hooks-D3PhPGWW.js";import{d}from"./delete-Ce0TSdK5.js";import{d as p}from"./edit-pen-Ci7W0xNM.js";import{A as m}from"./add-circle-line-CB2OoI90.js";import"./form.vue_vue_type_script_setup_true_lang-BbKNP50p.js";import"./index-C3WTS9yW.js";import"./index-Cal8pD8i.js";import"./index-Br4_uCXc.js";import"./system-CZHEA98f.js";import"./sortable.esm-DhhifNSC.js";import"./epTheme-7UiBGgiM.js";import"./collapse-Bf6A8-db.js";const h={class:"main"},C=Vue.defineComponent((v=((e,t)=>{for(var o in t||(t={}))n.call(t,o)&&l(e,o,t[o]);if(r)for(var o of r(t))u.call(t,o)&&l(e,o,t[o]);return e})({},{name:"SystemMenu"}),t(v,o({__name:"index",setup(e){const t=Vue.ref(),o=Vue.ref(),{form:r,loading:n,columns:u,dataList:l,onSearch:V,resetForm:C,openDialog:v,handleDelete:x,handleSelectionChange:y}=i();return(e,i)=>{var w;const b=Vue.resolveComponent("el-input"),g=Vue.resolveComponent("el-form-item"),_=Vue.resolveComponent("el-button"),j=Vue.resolveComponent("el-form"),k=Vue.resolveComponent("el-popconfirm"),N=Vue.resolveComponent("pure-table");return Vue.openBlock(),Vue.createElementBlock("div",h,[Vue.createVNode(j,{ref_key:"formRef",ref:t,inline:!0,model:Vue.unref(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:Vue.withCtx((()=>[Vue.createVNode(g,{label:"菜单名称：",prop:"title"},{default:Vue.withCtx((()=>[Vue.createVNode(b,{modelValue:Vue.unref(r).title,"onUpdate:modelValue":i[0]||(i[0]=e=>Vue.unref(r).title=e),placeholder:"请输入菜单名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),Vue.createVNode(g,null,{default:Vue.withCtx((()=>[Vue.createVNode(_,{type:"primary",icon:Vue.unref(f)("ri:search-line"),loading:Vue.unref(n),onClick:Vue.unref(V)},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),Vue.createVNode(_,{icon:Vue.unref(f)(Vue.unref(s)),onClick:i[1]||(i[1]=e=>Vue.unref(C)(t.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 重置 ")])),_:1},8,["icon"])])),_:1})])),_:1},8,["model"]),Vue.createVNode(Vue.unref(c),{title:"菜单管理（仅演示，操作后不生效）",columns:Vue.unref(u),isExpandAll:!1,tableRef:null==(w=o.value)?void 0:w.getTableRef(),onRefresh:Vue.unref(V)},{buttons:Vue.withCtx((()=>[Vue.createVNode(_,{type:"primary",icon:Vue.unref(f)(Vue.unref(m)),onClick:i[2]||(i[2]=e=>Vue.unref(v)())},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 新增菜单 ")])),_:1},8,["icon"])])),default:Vue.withCtx((({size:e,dynamicColumns:t})=>[Vue.createVNode(N,{ref_key:"tableRef",ref:o,adaptive:"",adaptiveConfig:{offsetBottom:45},"align-whole":"center","row-key":"id",showOverflowTooltip:"","table-layout":"auto",loading:Vue.unref(n),size:e,data:Vue.unref(l),columns:t,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:Vue.unref(y)},{operation:Vue.withCtx((({row:t})=>{var o;return[Vue.createVNode(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(f)(Vue.unref(p)),onClick:e=>Vue.unref(v)("修改",t)},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 修改 ")])),_:2},1032,["size","icon","onClick"]),Vue.withDirectives(Vue.createVNode(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(f)(Vue.unref(m)),onClick:e=>Vue.unref(v)("新增",{parentId:t.id})},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 新增 ")])),_:2},1032,["size","icon","onClick"]),[[Vue.vShow,3!==t.menuType]]),Vue.createVNode(k,{title:`是否确认删除菜单名称为${Vue.unref(a)(t.title)}的这条数据${(null==(o=null==t?void 0:t.children)?void 0:o.length)>0?"。注意下级菜单也会一并删除，请谨慎操作":""}`,onConfirm:e=>Vue.unref(x)(t)},{reference:Vue.withCtx((()=>[Vue.createVNode(_,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(f)(Vue.unref(d))},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 删除 ")])),_:2},1032,["size","icon"])])),_:2},1032,["title","onConfirm"])]})),_:2},1032,["loading","size","data","columns","onSelectionChange"])])),_:1},8,["columns","tableRef","onRefresh"])])}}}))));var v;const x=V(C,[["__scopeId","data-v-f33b4d5a"]]);export{x as default};
