var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,u=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,n)=>{for(var o in n||(n={}))a.call(n,o)&&u(e,o,n[o]);if(l)for(var o of l(n))t.call(n,o)&&u(e,o,n[o]);return e};import{u as o}from"./hooks-D3PhPGWW.js";import{B as i,Y as r,X as d,z as s,M as p}from"./index-DK9WUj9J.js";const c={options:{type:Array,default:()=>[]},modelValue:{type:void 0,require:!1,default:"0"},block:{type:Boolean,default:!1},size:{type:String},disabled:{type:Boolean,default:!1},resize:{type:Boolean,default:!1}},m=p(Vue.defineComponent({name:"ReSegmented",props:c,emits:["change","update:modelValue"],setup(e,{emit:l}){const a=Vue.ref(0),t=Vue.ref(0),{isDark:u}=i(),p=Vue.ref(!1),c=Vue.ref(-1),m=Vue.ref(""),v=Vue.getCurrentInstance(),f=r(e.modelValue)?Vue.toRef(e,"modelValue"):Vue.ref(0);function V(e=f.value){Vue.nextTick((()=>{var l;const u=null==(l=null==v?void 0:v.proxy)?void 0:l.$refs[`labelRef${e}`];u&&(a.value=u.clientWidth,t.value=u.offsetLeft,p.value=!0)}))}function b(){d(".pure-segmented",(()=>{Vue.nextTick((()=>{V(f.value)}))}))}(e.block||e.resize)&&b(),Vue.watch((()=>f.value),(e=>{Vue.nextTick((()=>{V(e)}))}),{immediate:!0}),Vue.watch((()=>e.size),b,{immediate:!0});const g=()=>e.options.map(((a,t)=>Vue.createVNode("label",{ref:`labelRef${t}`,class:["pure-segmented-item",(e.disabled||(null==a?void 0:a.disabled))&&"pure-segmented-item-disabled"],style:{background:c.value===t?m.value:"",color:e.disabled?null:a.disabled||f.value!==t&&c.value!==t?"":u.value?"rgba(255, 255, 255, 0.85)":"rgba(0,0,0,.88)"},onMouseenter:l=>function({option:l,index:a},t){e.disabled||(t.preventDefault(),c.value=a,l.disabled||f.value===a?m.value="":m.value=u.value?"#1f1f1f":"rgba(0, 0, 0, 0.06)")}({option:a,index:t},l),onMouseleave:l=>function(l,a){e.disabled||(a.preventDefault(),c.value=-1)}(0,l),onClick:u=>function({option:a,index:t},u){e.disabled||a.disabled||(u.preventDefault(),r(e.modelValue)?l("update:modelValue",t):f.value=t,m.value="",l("change",{index:t,option:a}))}({option:a,index:t},u)},[Vue.createVNode("input",{type:"radio",name:"segmented"},null),Vue.withDirectives(Vue.createVNode("div",{class:"pure-segmented-item-label"},[a.icon&&!s(a.label)?Vue.createVNode("span",{class:"pure-segmented-item-icon",style:{marginRight:a.label?"6px":0}},[Vue.h(o(a.icon,n({},null==a?void 0:a.iconAttrs)))]):null,a.label?s(a.label)?Vue.h(a.label):Vue.createVNode("span",null,[a.label]):null]),[[Vue.resolveDirective("tippy"),{content:null==a?void 0:a.tip,zIndex:41e3}]])])));return()=>Vue.createVNode("div",{class:{"pure-segmented":!0,"pure-segmented-block":e.block,"pure-segmented--large":"large"===e.size,"pure-segmented--small":"small"===e.size}},[Vue.createVNode("div",{class:"pure-segmented-group"},[Vue.createVNode("div",{class:"pure-segmented-item-selected",style:{width:`${a.value}px`,transform:`translateX(${t.value}px)`,display:p.value?"block":"none"}},null),g()])])}}));export{m as S};
