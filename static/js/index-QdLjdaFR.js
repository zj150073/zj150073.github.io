import{ap as Q,d as U,aO as N,h as G,I as K,aP as F,Z as X,r as O,c as tt,o as st,e as m,b as $,g as V,C as v,u as l,aQ as D,w as q,aR as z,aS as b}from"./index-BRSvTpE-.js";var w={exports:{}},et=w.exports,R;function nt(){return R||(R=1,function(P,H){(function(y,u){P.exports=u()})(et,function(){var y,u,o=1e3,c=6e4,g=36e5,M=864e5,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C=31536e6,_=2628e6,Z=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,k={years:C,months:_,days:M,hours:g,minutes:c,seconds:o,milliseconds:1,weeks:6048e5},S=function(e){return e instanceof B},x=function(e,s,t){return new B(e,t,s.$l)},Y=function(e){return u.p(e)+"s"},T=function(e){return e<0},f=function(e){return T(e)?Math.ceil(e):Math.floor(e)},A=function(e){return Math.abs(e)},p=function(e,s){return e?T(e)?{negative:!0,format:""+A(e)+s}:{negative:!1,format:""+e+s}:{negative:!1,format:""}},B=function(){function e(t,n,r){var i=this;if(this.$d={},this.$l=r,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),n)return x(t*k[Y(n)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(h){i.$d[Y(h)]=t[h]}),this.calMilliseconds(),this;if(typeof t=="string"){var a=t.match(Z);if(a){var d=a.slice(2).map(function(h){return h!=null?Number(h):0});return this.$d.years=d[0],this.$d.months=d[1],this.$d.weeks=d[2],this.$d.days=d[3],this.$d.hours=d[4],this.$d.minutes=d[5],this.$d.seconds=d[6],this.calMilliseconds(),this}}return this}var s=e.prototype;return s.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(n,r){return n+(t.$d[r]||0)*k[r]},0)},s.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=f(t/C),t%=C,this.$d.months=f(t/_),t%=_,this.$d.days=f(t/M),t%=M,this.$d.hours=f(t/g),t%=g,this.$d.minutes=f(t/c),t%=c,this.$d.seconds=f(t/o),t%=o,this.$d.milliseconds=t},s.toISOString=function(){var t=p(this.$d.years,"Y"),n=p(this.$d.months,"M"),r=+this.$d.days||0;this.$d.weeks&&(r+=7*this.$d.weeks);var i=p(r,"D"),a=p(this.$d.hours,"H"),d=p(this.$d.minutes,"M"),h=this.$d.seconds||0;this.$d.milliseconds&&(h+=this.$d.milliseconds/1e3,h=Math.round(1e3*h)/1e3);var j=p(h,"S"),J=t.negative||n.negative||i.negative||a.negative||d.negative||j.negative,L=a.format||d.format||j.format?"T":"",I=(J?"-":"")+"P"+t.format+n.format+i.format+L+a.format+d.format+j.format;return I==="P"||I==="-P"?"P0D":I},s.toJSON=function(){return this.toISOString()},s.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:u.s(this.$d.years,2,"0"),YYYY:u.s(this.$d.years,4,"0"),M:this.$d.months,MM:u.s(this.$d.months,2,"0"),D:this.$d.days,DD:u.s(this.$d.days,2,"0"),H:this.$d.hours,HH:u.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:u.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:u.s(this.$d.seconds,2,"0"),SSS:u.s(this.$d.milliseconds,3,"0")};return n.replace(W,function(i,a){return a||String(r[i])})},s.as=function(t){return this.$ms/k[Y(t)]},s.get=function(t){var n=this.$ms,r=Y(t);return r==="milliseconds"?n%=1e3:n=r==="weeks"?f(n/k[r]):this.$d[r],n||0},s.add=function(t,n,r){var i;return i=n?t*k[Y(n)]:S(t)?t.$ms:x(t,this).$ms,x(this.$ms+i*(r?-1:1),this)},s.subtract=function(t,n){return this.add(t,n,!0)},s.locale=function(t){var n=this.clone();return n.$l=t,n},s.clone=function(){return x(this.$ms,this)},s.humanize=function(t){return y().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},s.valueOf=function(){return this.asMilliseconds()},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},e}(),E=function(e,s,t){return e.add(s.years()*t,"y").add(s.months()*t,"M").add(s.days()*t,"d").add(s.hours()*t,"h").add(s.minutes()*t,"m").add(s.seconds()*t,"s").add(s.milliseconds()*t,"ms")};return function(e,s,t){y=t,u=t().$utils(),t.duration=function(i,a){var d=t.locale();return x(i,{$l:d},a)},t.isDuration=S;var n=s.prototype.add,r=s.prototype.subtract;s.prototype.add=function(i,a){return S(i)?E(this,i,1):n.bind(this)(i,a)},s.prototype.subtract=function(i,a){return S(i)?E(this,i,-1):r.bind(this)(i,a)}}})}(w)),w.exports}var it=nt();const rt=Q(it),at=U({__name:"index",setup(P){N.extend(rt);let H=G(null);const y=()=>{b.value===0?$ajmerMessage("token已经失效",{customClass:"el",type:"success"}):b.value===1?$ajmerMessage("token有效期已过半",{customClass:"el",type:"success"}):b.value===2&&$ajmerMessage("token有效期未过半",{customClass:"el",type:"success"})};return K(()=>{F(),H.value=setInterval(()=>{F()},1e3)}),X(()=>{clearInterval(H.value)}),(u,o)=>{const c=O("el-divider"),g=O("el-progress"),M=O("el-button");return st(),tt("div",null,[o[1]||(o[1]=m("h4",null,"系统已经续签的次数",-1)),m("span",null,v(l(D).renewal),1),$(c),o[2]||(o[2]=m("h4",null,"token有效时间:",-1)),m("span",null,v(l(D).expires)+"秒 ("+v(l(N).duration(l(D).expires,"seconds").asMinutes())+"分钟) ",1),$(c),o[3]||(o[3]=m("h4",null,"系统登录时间或者最近续签时间",-1)),m("span",null,v(l(N)(l(D).startNode).format("YYYY年MM月DD日HH:mm:ss")),1),$(c),o[4]||(o[4]=m("h4",null,"token过期进度条",-1)),$(g,{"text-inside":!0,"stroke-width":20,percentage:l(z)/l(D).expires*100,status:"exception"},{default:q(()=>[m("span",null,"已过:"+v(l(z))+"秒",1)]),_:1},8,["percentage"]),$(c),o[5]||(o[5]=m("h4",null,"token状态:",-1)),V(" "+v(l(b))+" (0:token已经失效、1:token有效期已过半、2:token有效期未过半) ",1),$(c),$(M,{type:"primary",onClick:y},{default:q(()=>o[0]||(o[0]=[V(" 手动点击检查 ")])),_:1,__:[0]})])}}});export{at as default};
