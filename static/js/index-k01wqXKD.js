var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(o,t,l)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l;import{useRole as n}from"./hook-Bg0XTwQ1.js";import{R as V,P as i}from"./refresh-y5MKQrJJ.js";import{u as s}from"./hooks-D3PhPGWW.js";import{X as c,Q as f,aJ as d,f as p,_ as m}from"./index-DK9WUj9J.js";import{d as h}from"./delete-Ce0TSdK5.js";import{d as C}from"./edit-pen-Ci7W0xNM.js";import{d as v,C as w}from"./close-C6JFSHFT.js";import{A as x}from"./add-circle-line-CB2OoI90.js";import{C as g}from"./check-bSE3wTVj.js";import"./form.vue_vue_type_script_setup_true_lang-BqyLoetM.js";import"./hooks-siYFZ-vN.js";import"./system-CZHEA98f.js";import"./sortable.esm-DhhifNSC.js";import"./epTheme-7UiBGgiM.js";import"./collapse-Bf6A8-db.js";const b={class:"main"},y={key:0,class:"!min-w-[calc(100vw-60vw-268px)] w-full mt-2 px-2 pb-2 bg-bg_color ml-2 overflow-auto"},N={class:"flex justify-between w-full px-3 pt-5 pb-4"},k={class:"flex"},_={class:"font-bold truncate"},j={class:"flex flex-wrap"},S=Vue.defineComponent((z=((e,o)=>{for(var t in o||(o={}))u.call(o,t)&&a(e,t,o[t]);if(l)for(var t of l(o))r.call(o,t)&&a(e,t,o[t]);return e})({},{name:"SystemRole"}),o(z,t({__name:"index",setup(e){const o=Vue.computed((()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-none","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"])),t=Vue.ref(),l=Vue.ref(),u=Vue.ref(),r=Vue.ref(),a=Vue.ref(),{form:m,isShow:S,curRow:z,loading:P,columns:R,rowStyle:E,dataList:O,treeData:T,treeProps:D,isLinkage:I,pagination:U,isExpandAll:B,isSelectAll:A,treeSearchValue:M,onSearch:F,resetForm:L,openDialog:Q,handleMenu:W,handleSave:$,handleDelete:J,filterMethod:X,transformI18n:Z,onQueryChanged:q,handleSizeChange:G,handleCurrentChange:H,handleSelectionChange:K}=n(t);return Vue.onMounted((()=>{c(r,(()=>{return e=this,o=null,t=function*(){yield Vue.nextTick(),f(60).then((()=>{a.value=parseFloat(d(u.value.getTableDoms().tableWrapper.style.height,"px"))}))},new Promise(((l,u)=>{var r=e=>{try{n(t.next(e))}catch(o){u(o)}},a=e=>{try{n(t.throw(e))}catch(o){u(o)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,a);n((t=t.apply(e,o)).next())}));var e,o,t}))})),(e,n)=>{var c;const f=Vue.resolveComponent("el-input"),d=Vue.resolveComponent("el-form-item"),Y=Vue.resolveComponent("el-option"),ee=Vue.resolveComponent("el-select"),oe=Vue.resolveComponent("el-button"),te=Vue.resolveComponent("el-form"),le=Vue.resolveComponent("el-popconfirm"),ue=Vue.resolveComponent("pure-table"),re=Vue.resolveComponent("IconifyIconOffline"),ae=Vue.resolveComponent("el-checkbox"),ne=Vue.resolveComponent("el-tree-v2"),Ve=Vue.resolveDirective("tippy");return Vue.openBlock(),Vue.createElementBlock("div",b,[Vue.createVNode(te,{ref_key:"formRef",ref:l,inline:!0,model:Vue.unref(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:Vue.withCtx((()=>[Vue.createVNode(d,{label:"角色名称：",prop:"name"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:Vue.unref(m).name,"onUpdate:modelValue":n[0]||(n[0]=e=>Vue.unref(m).name=e),placeholder:"请输入角色名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),Vue.createVNode(d,{label:"角色标识：",prop:"code"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:Vue.unref(m).code,"onUpdate:modelValue":n[1]||(n[1]=e=>Vue.unref(m).code=e),placeholder:"请输入角色标识",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])])),_:1}),Vue.createVNode(d,{label:"状态：",prop:"status"},{default:Vue.withCtx((()=>[Vue.createVNode(ee,{modelValue:Vue.unref(m).status,"onUpdate:modelValue":n[2]||(n[2]=e=>Vue.unref(m).status=e),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:Vue.withCtx((()=>[Vue.createVNode(Y,{label:"已启用",value:"1"}),Vue.createVNode(Y,{label:"已停用",value:"0"})])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createVNode(oe,{type:"primary",icon:Vue.unref(s)("ri:search-line"),loading:Vue.unref(P),onClick:Vue.unref(F)},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),Vue.createVNode(oe,{icon:Vue.unref(s)(Vue.unref(V)),onClick:n[3]||(n[3]=e=>Vue.unref(L)(l.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 重置 ")])),_:1},8,["icon"])])),_:1})])),_:1},8,["model"]),Vue.createElementVNode("div",{ref_key:"contentRef",ref:r,class:Vue.normalizeClass(["flex",Vue.unref(p)()?"flex-wrap":""])},[Vue.createVNode(Vue.unref(i),{class:Vue.normalizeClass([Vue.unref(S)&&!Vue.unref(p)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"角色管理（仅演示，操作后不生效）",columns:Vue.unref(R),onRefresh:Vue.unref(F)},{buttons:Vue.withCtx((()=>[Vue.createVNode(oe,{type:"primary",icon:Vue.unref(s)(Vue.unref(x)),onClick:n[4]||(n[4]=e=>Vue.unref(Q)())},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 新增角色 ")])),_:1},8,["icon"])])),default:Vue.withCtx((({size:e,dynamicColumns:o})=>[Vue.createVNode(ue,{ref_key:"tableRef",ref:u,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:Vue.unref(P),size:e,adaptive:"","row-style":Vue.unref(E),adaptiveConfig:{offsetBottom:108},data:Vue.unref(O),columns:o,pagination:Vue.unref(U),paginationSmall:"small"===e,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:Vue.unref(K),onPageSizeChange:Vue.unref(G),onPageCurrentChange:Vue.unref(H)},{operation:Vue.withCtx((({row:o})=>[Vue.createVNode(oe,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(s)(Vue.unref(C)),onClick:e=>Vue.unref(Q)("修改",o)},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 修改 ")])),_:2},1032,["size","icon","onClick"]),Vue.createVNode(le,{title:`是否确认删除角色名称为${o.name}的这条数据`,onConfirm:e=>Vue.unref(J)(o)},{reference:Vue.withCtx((()=>[Vue.createVNode(oe,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(s)(Vue.unref(h))},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 删除 ")])),_:2},1032,["size","icon"])])),_:2},1032,["title","onConfirm"]),Vue.createVNode(oe,{class:"reset-margin",link:"",type:"primary",size:e,icon:Vue.unref(s)(Vue.unref(v)),onClick:e=>Vue.unref(W)(o)},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 权限 ")])),_:2},1032,["size","icon","onClick"])])),_:2},1032,["loading","size","row-style","data","columns","pagination","paginationSmall","onSelectionChange","onPageSizeChange","onPageCurrentChange"])])),_:1},8,["class","columns","onRefresh"]),Vue.unref(S)?(Vue.openBlock(),Vue.createElementBlock("div",y,[Vue.createElementVNode("div",N,[Vue.createElementVNode("div",k,[Vue.createElementVNode("span",{class:Vue.normalizeClass(o.value)},[Vue.withDirectives(Vue.createVNode(re,{class:"dark:text-white",width:"18px",height:"18px",icon:Vue.unref(w),onClick:Vue.unref(W)},null,8,["icon","onClick"]),[[Ve,{content:"关闭"}]])],2),Vue.createElementVNode("span",{class:Vue.normalizeClass([o.value,"ml-2"])},[Vue.withDirectives(Vue.createVNode(re,{class:"dark:text-white",width:"18px",height:"18px",icon:Vue.unref(g),onClick:Vue.unref($)},null,8,["icon","onClick"]),[[Ve,{content:"保存菜单权限"}]])],2)]),Vue.createElementVNode("p",_," 菜单权限 "+Vue.toDisplayString((null==(c=Vue.unref(z))?void 0:c.name)?`（${Vue.unref(z).name}）`:""),1)]),Vue.createVNode(f,{modelValue:Vue.unref(M),"onUpdate:modelValue":n[5]||(n[5]=e=>Vue.isRef(M)?M.value=e:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:Vue.unref(q)},null,8,["modelValue","onInput"]),Vue.createElementVNode("div",j,[Vue.createVNode(ae,{modelValue:Vue.unref(B),"onUpdate:modelValue":n[6]||(n[6]=e=>Vue.isRef(B)?B.value=e:null),label:"展开/折叠"},null,8,["modelValue"]),Vue.createVNode(ae,{modelValue:Vue.unref(A),"onUpdate:modelValue":n[7]||(n[7]=e=>Vue.isRef(A)?A.value=e:null),label:"全选/全不选"},null,8,["modelValue"]),Vue.createVNode(ae,{modelValue:Vue.unref(I),"onUpdate:modelValue":n[8]||(n[8]=e=>Vue.isRef(I)?I.value=e:null),label:"父子联动"},null,8,["modelValue"])]),Vue.createVNode(ne,{ref_key:"treeRef",ref:t,"show-checkbox":"",data:Vue.unref(T),props:Vue.unref(D),height:a.value,"check-strictly":!Vue.unref(I),"filter-method":Vue.unref(X)},{default:Vue.withCtx((({node:e})=>[Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(Z)(e.label)),1)])),_:1},8,["data","props","height","check-strictly","filter-method"])])):Vue.createCommentVNode("",!0)],2)])}}}))));var z;const P=m(S,[["__scopeId","data-v-d6daf155"]]);export{P as default};
