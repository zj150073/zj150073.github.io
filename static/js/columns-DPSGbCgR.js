var D=Object.defineProperty,x=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var b=(e,a,u)=>a in e?D(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,s=(e,a)=>{for(var u in a||(a={}))F.call(a,u)&&b(e,u,a[u]);if(c)for(var u of c(a))M.call(a,u)&&b(e,u,a[u]);return e},m=(e,a)=>x(e,g(a));import{t as R,o as v}from"./data-Dd4sCrbk.js";import{a as f,a8 as j,i as t,e as d,F as p,fR as C,aD as E}from"./index-BdQqVUXy.js";function U(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!E(e)}function B(){const e=f({}),a=f(j(R,!0)),u=[{label:"姓名",prop:"name",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(d("el-input"),{modelValue:l.name,"onUpdate:modelValue":i=>l.name=i},null):t("p",null,[l.name])])}},{label:"性别",prop:"sex",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(d("el-switch"),{modelValue:l.sex,"onUpdate:modelValue":i=>l.sex=i,"inline-prompt":!0,"active-value":0,"inactive-value":1,"active-text":"男","inactive-text":"女"},null):t("p",null,[l.sex===0?"男":"女"])])}},{label:"爱好",prop:"hobby",cellRenderer:({row:l,index:o})=>{var i;let n;return t(p,null,[(i=e.value[o])!=null&&i.editable?t(d("el-select"),{modelValue:l.hobby,"onUpdate:modelValue":r=>l.hobby=r,clearable:!0,placeholder:"请选择爱好"},U(n=v.map(r=>t(d("el-option"),{key:r.value,label:r.label,value:r.value},null)))?n:{default:()=>[n]}):t(d("el-tag"),{type:"primary"},{default:()=>{var r;return[(r=v.filter(Y=>Y.value==l.hobby)[0])==null?void 0:r.label]}})])}},{label:"日期",prop:"date",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(d("el-date-picker"),{modelValue:l.date,"onUpdate:modelValue":i=>l.date=i,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null):t("p",null,[l.date])])},minWidth:110},{label:"操作",fixed:"right",slot:"operation"}];function y(l,o){e.value[o]=Object.assign(m(s({},l),{editable:!0}))}function V(l){e.value[l].editable=!1}function h(l){e.value[l].editable=!1,a.value[l]=C(e.value[l],"editable")}return{editMap:e,columns:u,dataList:a,onEdit:y,onSave:V,onCancel:h}}export{B as useColumns};
