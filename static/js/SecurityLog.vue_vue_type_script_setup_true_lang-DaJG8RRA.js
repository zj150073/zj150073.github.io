var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;import{d as s}from"./dayjs-BWHVJBZs.js";import{G as l}from"./index-B2iGRBN9.js";import{n as p}from"./@pureadmin-f9nW_l6N.js";import{d as m,r as u,S as c,J as d,a1 as b,o as y,c as g,s as v,j as f,D as h,a as j}from"./@vue-CFXrvzpc.js";const w=j("h3",{class:"my-8"},"安全日志",-1),P=m((O=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(r)for(var t of r(a))i.call(a,t)&&n(e,t,a[t]);return e})({},{name:"SecurityLog"}),a(O,t({__name:"SecurityLog",setup(e){const a=u(!0),t=u([]),r=c({total:0,pageSize:10,currentPage:1,background:!0,layout:"prev, pager, next"}),o=[{label:"详情",prop:"summary",minWidth:140},{label:"IP 地址",prop:"ip",minWidth:100},{label:"地点",prop:"address",minWidth:140},{label:"操作系统",prop:"system",minWidth:100},{label:"浏览器类型",prop:"browser",minWidth:100},{label:"时间",prop:"operatingTime",minWidth:180,formatter:({operatingTime:e})=>s(e).format("YYYY-MM-DD HH:mm:ss")}];function i(){return e=this,o=null,i=function*(){a.value=!0;const{data:e}=yield l();t.value=e.list,r.total=e.total,r.pageSize=e.pageSize,r.currentPage=e.currentPage,setTimeout((()=>{a.value=!1}),200)},new Promise(((a,t)=>{var r=e=>{try{s(i.next(e))}catch(a){t(a)}},n=e=>{try{s(i.throw(e))}catch(a){t(a)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,n);s((i=i.apply(e,o)).next())}));var e,o,i}return d((()=>{i()})),(e,i)=>{const n=b("pure-table");return y(),g("div",{class:f(["min-w-[180px]",h(p)()?"max-w-[100%]":"max-w-[70%]"])},[w,v(n,{"row-key":"id","table-layout":"auto",loading:a.value,data:t.value,columns:o,pagination:r},null,8,["loading","data","pagination"])],2)}}}))));var O;export{P as _};
