var k=(C,f,t)=>new Promise((s,m)=>{var g=d=>{try{i(t.next(d))}catch(_){m(_)}},v=d=>{try{i(t.throw(d))}catch(_){m(_)}},i=d=>d.done?s(d.value):Promise.resolve(d.value).then(g,v);i((t=t.apply(C,f)).next())});import"./base-DAhYy3Bg.js";import{a as P,E as c}from"./el-form-item-BXjIzv38.js";import{E as B}from"./el-checkbox-C7pcy63u.js";import{E as F}from"./el-button-BSq_ceOh.js";import{E as N}from"./el-input-D4oDFGCZ.js";import{M as p}from"./motion-ByNrDPcV.js";import{m as R}from"./message-DoLwrvMu.js";import{u as b,a as S}from"./verifyCode-03J648XR.js";import{d as T,q as E,S as z,o as q,g as D,h as a,b as o,u as l,e as I,f as w,K as M,aw as $,aR as j}from"./index-Ds-GAlGo.js";const A={class:"w-full flex justify-between"},Z=T({__name:"LoginRegist",setup(C){const f=E(!1),t=E(!1),s=z({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),m=E(),{isDisabled:g,text:v}=b(),i=[{validator:(y,e,u)=>{e===""?u(new Error("请输入确认密码")):s.password!==e?u(new Error("两次密码不一致!")):u()},trigger:"blur"}],d=y=>k(this,null,function*(){t.value=!0,y&&(yield y.validate(e=>{e?f.value?setTimeout(()=>{R("注册成功",{type:"success"}),t.value=!1},2e3):(t.value=!1,R("请勾选隐私政策",{type:"warning"})):t.value=!1}))});function _(){b().end(),j().SET_CURRENTPAGE(0)}return(y,e)=>{const u=N,n=P,V=F,U=B,x=c;return q(),D(x,{ref_key:"ruleFormRef",ref:m,model:l(s),rules:l(S),size:"large"},{default:a(()=>[o(l(p),null,{default:a(()=>[o(n,{rules:[{required:!0,message:"请输入账号",trigger:"blur"}],prop:"username"},{default:a(()=>[o(u,{modelValue:l(s).username,"onUpdate:modelValue":e[0]||(e[0]=r=>l(s).username=r),clearable:"",placeholder:"账号"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:100},{default:a(()=>[o(n,{prop:"phone"},{default:a(()=>[o(u,{modelValue:l(s).phone,"onUpdate:modelValue":e[1]||(e[1]=r=>l(s).phone=r),clearable:"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:150},{default:a(()=>[o(n,{prop:"verifyCode"},{default:a(()=>[I("div",A,[o(u,{modelValue:l(s).verifyCode,"onUpdate:modelValue":e[2]||(e[2]=r=>l(s).verifyCode=r),clearable:"",placeholder:"手机号码"},null,8,["modelValue"]),o(V,{disabled:l(g),class:"ml-2",onClick:e[3]||(e[3]=r=>l(b)().start(l(m),"phone"))},{default:a(()=>[w(M(l(v)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(l(p),{delay:200},{default:a(()=>[o(n,{prop:"password"},{default:a(()=>[o(u,{modelValue:l(s).password,"onUpdate:modelValue":e[4]||(e[4]=r=>l(s).password=r),clearable:"","show-password":"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:250},{default:a(()=>[o(n,{rules:i,prop:"repeatPassword"},{default:a(()=>[o(u,{modelValue:l(s).repeatPassword,"onUpdate:modelValue":e[5]||(e[5]=r=>l(s).repeatPassword=r),clearable:"","show-password":"",placeholder:"手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),o(l(p),{delay:300},{default:a(()=>[o(n,null,{default:a(()=>[o(U,{modelValue:l(f),"onUpdate:modelValue":e[6]||(e[6]=r=>$(f)?f.value=r:null)},{default:a(()=>e[8]||(e[8]=[w(" 我已仔细阅读并接受 ")])),_:1},8,["modelValue"]),o(V,{link:"",type:"primary"},{default:a(()=>e[9]||(e[9]=[w(" 《隐私政策》 ")])),_:1})]),_:1})]),_:1}),o(l(p),{delay:350},{default:a(()=>[o(n,null,{default:a(()=>[o(V,{class:"w-full",size:"default",type:"primary",loading:l(t),onClick:e[7]||(e[7]=r=>d(l(m)))},{default:a(()=>e[10]||(e[10]=[w(" 确定 ")])),_:1},8,["loading"])]),_:1})]),_:1}),o(l(p),{delay:400},{default:a(()=>[o(n,null,{default:a(()=>[o(V,{class:"w-full",size:"default",onClick:_},{default:a(()=>e[11]||(e[11]=[w(" 返回 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{Z as _};
