import{a as h}from"./vue-router-BmKTVaVc.js";import{r as i,f as o,w as V,o as g,p as x}from"./index-CSbxP2D4.js";import{_ as I}from"./plugin-vueexport-helper-DlAUqK2U.js";const k={class:"frame","element-loading-text":"加载中..."},E=["src"],R=Vue.defineComponent({name:"LayFrame",__name:"frame",props:{frameInfo:{}},setup(v){var u,l,d;const f=v,c=i(!0),r=h(),t=i(""),m=i(null);(u=o(r.meta))!=null&&u.frameSrc&&(t.value=(l=o(r.meta))==null?void 0:l.frameSrc),((d=o(r.meta))==null?void 0:d.frameLoading)===!1&&s();function s(){c.value=!1}function p(){x(()=>{const e=o(m);if(!e)return;const a=e;a.attachEvent?a.attachEvent("onload",()=>{s()}):e.onload=()=>{s()}})}return V(()=>r.fullPath,e=>{var a,n,_;r.name==="Redirect"&&e.includes((a=f.frameInfo)==null?void 0:a.fullPath)&&(t.value=e,c.value=!0),((n=f.frameInfo)==null?void 0:n.fullPath)===e&&(t.value=(_=f.frameInfo)==null?void 0:_.frameSrc)}),g(()=>{p()}),(e,a)=>{const n=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",k,[Vue.createElementVNode("iframe",{ref_key:"frameRef",ref:m,src:Vue.unref(t),class:"frame-iframe"},null,8,E)])),[[n,Vue.unref(c)]])}}}),P=I(R,[["__scopeId","data-v-880dcf75"]]);export{P as default};
