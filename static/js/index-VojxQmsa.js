import{a as L,g as R}from"./system-BAieWLS7.js";import{d as z,h as u,n as S,a7 as V,aM as P,Q as j,r as t,o as A,P as B,w as l,b as r,u as d,g as Q,e as N,V as D}from"./index-BWPJTteW.js";const E={class:"each-item"},G=z({name:"user",__name:"index",setup(M){let y=u({}),c=u([]),k=u([{label:"用户名称",prop:"username",type:"input",width:"550px"},{label:"状态",prop:"status",type:"select",placeholder:"请选择状态",width:"550px",options:[{value:0,label:"停用"},{value:1,label:"启用"}]}]),_=S({pagination:{pageSize:5,pageSizes:[5,100,150,200],paginationLayout:"total, sizes, prev, pager, next"},requestConfig:{pagingBackEnd:["page","size","list"],request:L,queryParam:y.value,checkRequestSuccess:e=>e.success,onPageLoadSuccess:()=>{}},tableOptions:{columns:[{label:"用户头像",prop:"avatar",width:"70"},{label:"用户名称",prop:"username",width:"150px"},{label:"用户昵称",prop:"nickname",width:""},{label:"性别",prop:"sex",width:""},{label:"部门",prop:"dept",width:""},{label:"手机号",prop:"phone",width:""},{label:"状态",prop:"status",width:""},{label:"创建时间",prop:"createTime",width:""}],rowkey:"id",height:"",size:"small",border:!0,stripe:!0,serialNumber:!0,highlightCurrentRow:!0,hidePagination:!0,hideSetting:!0,lazy:!1,treeProps:{children:"children",hasChildren:"hasChildren",checkStrictly:!1},showSummary:!1,sumText:"求和",tableLayout:"auto",headerDragend:(e,a,i,o)=>{},sortChange:e=>{},load:(e,a,i)=>{setTimeout(()=>{i([{date:"2016-05-11",name:"81",state:"California",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036"}])},1e3)},summaryMethod:e=>{const{columns:a,data:i}=e,o=[];return a.forEach((g,s)=>{if(s===0){o[s]=V("div",{},["求和"]);return}const h=i.map(n=>Number(n[g.property]));o[s]="N/A",h.every(n=>Number.isNaN(n))?o[s]="N/A":o[s]=`${h.reduce((n,f)=>{const b=Number(f);return Number.isNaN(b)?n:n+f},0)}`}),o}}}),v=u([]),w=u(null),m=u(null);const C=e=>{_.requestConfig.queryParam.dept=e.id,m.value.reloadTable()};R().then(e=>{v.value=P(e.data),_.requestConfig.queryParam.dept=e.data[0].id,j(()=>{w.value.setCurrentKey(e.data[0].id),m.value.reloadTable()})});let T=()=>{m.value.reloadTable()};return(e,a)=>{const i=t("el-tree"),o=t("el-button"),g=t("el-date-picker"),s=t("ajmerQuery"),h=t("el-header"),n=t("el-avatar"),f=t("ajmerTable"),b=t("el-main"),x=t("el-container"),q=t("ajmerLeftRight");return A(),B(q,{class:"bg-bg_color"},{left:l(()=>[r(i,{ref_key:"treeRefs",ref:w,"node-key":"id",class:"elTreeplatform",data:d(v),"default-expand-all":"","expand-on-click-node":!1,props:{children:"children",label:"name"},onNodeClick:C},null,8,["data"])]),right:l(()=>[r(x,null,{default:l(()=>[r(h,null,{default:l(()=>[r(s,{config:d(k),search:d(y)},{outBtns:l(()=>[r(o,{class:"theme-two",onClick:a[0]||(a[0]=p=>d(T)())},{default:l(()=>a[2]||(a[2]=[Q(" 搜索 ")])),_:1})]),queryItems:l(()=>[N("div",E,[a[3]||(a[3]=N("label",null,"时间范围",-1)),r(g,{modelValue:d(c),"onUpdate:modelValue":a[1]||(a[1]=p=>D(c)?c.value=p:c=p),style:{width:"350px"},type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])]),_:1},8,["config","search"])]),_:1}),r(b,null,{default:l(()=>[r(f,{ref_key:"tableRefs",ref:m,config:d(_)},{avatar:l(p=>[r(n,{size:30,src:p.row.avatar},null,8,["src"])]),_:1},8,["config"])]),_:1})]),_:1})]),_:1})}}});export{G as default};
