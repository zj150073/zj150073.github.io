var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,l,r)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r,u=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&n(e,l,t[l]);if(r)for(var l of r(t))a.call(t,l)&&n(e,l,t[l]);return e},i=(e,r)=>t(e,l(r));import{u as c}from"./hooks-D3PhPGWW.js";import{d}from"./git-branch-line-BhusJOme.js";import{M as s}from"./more-2-fill-C2na9nRd.js";import{_ as h}from"./index-DK9WUj9J.js";const V={width:1024,height:1024,body:'<path fill="currentColor" d="M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"/><path fill="currentColor" d="M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"/>'},v={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},p={width:"32",height:"32",viewBox:"0 0 24 24"},f=[Vue.createElementVNode("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1)];const m={render:function(e,t){return Vue.openBlock(),Vue.createElementBlock("svg",p,[...f])}},g={width:"32",height:"32",viewBox:"0 0 24 24"},x=[Vue.createElementVNode("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1)];const C={render:function(e,t){return Vue.openBlock(),Vue.createElementBlock("svg",g,[...x])}},w={class:"h-full bg-bg_color overflow-auto",style:{minHeight:"calc(100vh - 141px)"}},y={class:"flex items-center h-[34px]"},b=h(Vue.defineComponent({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select"],setup(e,{expose:t,emit:l}){const r=l,o=Vue.ref(),a=Vue.ref(!0),n=Vue.ref(""),h=Vue.ref({}),{proxy:p}=Vue.getCurrentInstance(),f={children:"children",label:"name"},g=Vue.computed((()=>["!h-[20px]","!text-sm","reset-margin","!text-[var(--el-text-color-regular)]","dark:!text-white","dark:hover:!text-primary"])),x=(e,t)=>!e||t.name.includes(e);function b(e){var t,l;const o=e.$treeNodeId;h.value[o]=(null==(t=h.value[o])?void 0:t.highlight)?Object.assign({id:o},h.value[o],{highlight:!1}):Object.assign({id:o},h.value[o],{highlight:!0}),Object.values(h.value).forEach((e=>{e.id!==o&&(e.highlight=!1)})),r("tree-select",(null==(l=h.value[o])?void 0:l.highlight)?Object.assign(i(u({},e),{selected:!0})):Object.assign(i(u({},e),{selected:!1})))}function z(e){a.value=e;const t=p.$refs.treeRef.store._getAllNodes();for(let l=0;l<t.length;l++)t[l].expanded=e}return Vue.watch(n,(e=>{o.value.filter(e)})),t({onTreeReset:function(){h.value={},n.value="",z(!0)}}),(t,l)=>{const r=Vue.resolveComponent("IconifyIconOffline"),u=Vue.resolveComponent("el-icon"),i=Vue.resolveComponent("el-input"),p=Vue.resolveComponent("el-button"),N=Vue.resolveComponent("el-dropdown-item"),k=Vue.resolveComponent("el-dropdown-menu"),_=Vue.resolveComponent("el-dropdown"),j=Vue.resolveComponent("el-divider"),H=Vue.resolveComponent("el-tree"),O=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",w,[Vue.createElementVNode("div",y,[Vue.createVNode(i,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),class:"ml-2",size:"small",placeholder:"请输入部门名称",clearable:""},{suffix:Vue.withCtx((()=>[Vue.createVNode(u,{class:"el-input__icon"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(r,{icon:"ri:search-line"},null,512),[[Vue.vShow,0===n.value.length]])])),_:1})])),_:1},8,["modelValue"]),Vue.createVNode(_,{"hide-on-click":!1},{dropdown:Vue.withCtx((()=>[Vue.createVNode(k,null,{default:Vue.withCtx((()=>[Vue.createVNode(N,null,{default:Vue.withCtx((()=>[Vue.createVNode(p,{class:Vue.normalizeClass(g.value),link:"",type:"primary",icon:Vue.unref(c)(a.value?Vue.unref(m):Vue.unref(C)),onClick:l[1]||(l[1]=e=>z(!a.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.value?"折叠全部":"展开全部"),1)])),_:1},8,["class","icon"])])),_:1})])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(r,{class:"w-[28px] cursor-pointer",width:"18px",icon:Vue.unref(s)},null,8,["icon"])])),_:1})]),Vue.createVNode(j),Vue.createVNode(H,{ref_key:"treeRef",ref:o,data:e.treeData,"node-key":"id",size:"small",props:f,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":x,onNodeClick:b},{default:Vue.withCtx((({node:e,data:t})=>{var l,o,a;return[Vue.createElementVNode("span",{class:Vue.normalizeClass(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",n.value.trim().length>0&&e.label.includes(n.value)&&"text-red-500",(null==(l=h.value[e.id])?void 0:l.highlight)?"dark:text-primary":""]),style:Vue.normalizeStyle({color:(null==(o=h.value[e.id])?void 0:o.highlight)?"var(--el-color-primary)":"",background:(null==(a=h.value[e.id])?void 0:a.highlight)?"var(--el-color-primary-light-7)":"transparent"})},[Vue.createVNode(r,{icon:1===t.type?Vue.unref(V):2===t.type?Vue.unref(v):Vue.unref(d)},null,8,["icon"]),Vue.createTextVNode(" "+Vue.toDisplayString(e.label),1)],6)]})),_:1},8,["data"])])),[[O,e.treeLoading]])}}}),[["__scopeId","data-v-f63f1ecd"]]);export{b as default};
