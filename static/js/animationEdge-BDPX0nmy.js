var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{i as p,T as n}from"./@vueuse-tP1Y4vdd.js";import{P as l,u,e as m,g as v,f as j,h as d}from"./@vue-flow-DUqaSUSV.js";import{d as c,r as f,Y as y,b as g,w as b,c as h,s as x,q as P,D as q,f as O,B as k,l as w,F as S,n as E,o as _,a as L,aC as N,aD as z,E as C}from"./@vue-CFXrvzpc.js";import{_ as Y}from"./index-B2iGRBN9.js";import"./defu-iUM7Auia.js";import"./framesync-CUhBu5sQ.js";import"./style-value-types-UCYNu-x1.js";import"./popmotion-DRTv1-mp.js";import"./hey-listen-DkH12NBk.js";import"./vite-plugin-fake-server-CytHVkXj.js";import"./@faker-js-CRy60TLX.js";import"./version-rocket-chvOQqaV.js";import"./@pureadmin-f9nW_l6N.js";import"./vue-DWYrQbHy.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BWHVJBZs.js";import"./@amap-Bx2D3lnM.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";import"./@iconify-icons-CxRB8ffa.js";import"./plus-pro-components-CYEVFP0q.js";import"./sortablejs-DhhifNSC.js";import"./axios-B1L2Kzed.js";import"./vue-i18n-DB-7wkrF.js";import"./@intlify-DfwD9yJy.js";import"./js-cookie-BXEMiIsG.js";import"./pinia-DzAV29mk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-CGx-uoKe.js";import"./axs-request-CnYniYE7.js";import"./nprogress-L6f6pfEY.js";import"./echarts-D2b6xzX-.js";import"./zrender-CUz1GrA9.js";import"./tslib-ZseNXxlj.js";import"./vxe-table-CPtn8uUL.js";import"./xe-utils-CdBoVBzI.js";import"./dom-zindex-Ckn4mXSH.js";import"./responsive-storage-5vfjqqcs.js";import"./@iconify-BUzAfhQo.js";/* empty css                 */import"./vue-tippy-DPYCMIfw.js";const A=[(e=>(N("data-v-2aba1cee"),e=e(),z(),e))((()=>L("span",{class:"truck"},[L("span",{class:"box"},"ðŸ“¦"),C(" ðŸšš ")],-1)))],D=Y(c({__name:"animationEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:l.Right},targetPosition:{type:String,default:l.Left}},setup(e){const l=e,{findEdge:c}=u(),N=m([l.target,l.source]),z=f(0),C=f(),Y=f({x:0,y:0}),D=f(0),F=y((()=>N.value[0].data)),I=y((()=>N.value[1].data)),R=y((()=>I.value.isFinished)),T=y((()=>F.value.isCancelled)),$=f(!1),B=y((()=>F.value.hasError?"#f87171":F.value.isFinished?"#42B983":F.value.isCancelled||F.value.isSkipped?"#fbbf24":F.value.isRunning||$.value?"#2563eb":"#6b7280")),X=g((()=>v(l)));function H(){return e=this,t=null,r=function*(){var e;const t=null==(e=C.value)?void 0:e.pathEl;if(!t)return;const r=t.getTotalLength(),s=z.value||0;Y.value=t.getPointAtLength(s),$.value=!0,D.value!==r&&(D.value=r),yield p(z,s,r,{transition:n.easeInOutCubic,duration:Math.max(1500,r/2),abort:()=>!$.value}),J()},new Promise(((s,a)=>{var i=e=>{try{p(r.next(e))}catch(t){a(t)}},o=e=>{try{p(r.throw(e))}catch(t){a(t)}},p=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,o);p((r=r.apply(e,t)).next())}));var e,t,r}function J(){E((()=>{z.value=0,D.value=0,Y.value={x:0,y:0},$.value=!1}))}return b(T,(e=>{e&&J()})),b($,(e=>{const p=c(l.id);var n;p&&(p.data=(n=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(s)for(var r of s(t))i.call(t,r)&&o(e,r,t[r]);return e})({},p.data),t(n,r({isAnimating:e}))))})),b(z,(e=>{var t;const r=null==(t=C.value)?void 0:t.pathEl;if(!r||0===e||!$.value)return;const s=r.getTotalLength();D.value===s?Y.value=r.getPointAtLength(e):H()})),b(R,(e=>{e&&H()})),(t,r)=>(_(),h(S,null,[x(q(j),{id:e.id,ref_key:"edgeRef",ref:C,path:X.value[0],style:P({stroke:B.value})},null,8,["id","path","style"]),$.value?(_(),O(q(d),{key:0},{default:k((()=>[L("div",{style:P({transform:`translate(-50%, -50%) translate(${Y.value.x}px,${Y.value.y}px)`}),class:"nodrag nopan animated-edge-label"},A,4)])),_:1})):w("",!0)],64))}}),[["__scopeId","data-v-2aba1cee"]]);export{D as default};
