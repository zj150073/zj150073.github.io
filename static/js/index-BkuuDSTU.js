var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;import{R as u}from"./index-BD_MC4kV.js";import{P as a,M as c}from"./index-DK9WUj9J.js";const s={"element-loading-background":"transparent"},p={class:"w-[18vw]"},V={class:"mt-1 text-center"},v={class:"flex flex-wrap justify-center items-center text-center"},f={key:1,class:"mt-1"},m=Vue.defineComponent((d=((e,r)=>{for(var t in r||(r={}))n.call(r,t)&&i(e,t,r[t]);if(o)for(var t of o(r))l.call(r,t)&&i(e,t,r[t]);return e})({},{name:"ReCropperPreview"}),r(d,t({__name:"index",props:{imgSrc:String},emits:["cropper"],setup(e,{expose:r,emit:t}){const o=t,n=Vue.ref(),l=Vue.ref(),i=Vue.ref(),c=Vue.ref(!1),m=Vue.ref("");function d({base64:e,blob:r,info:t}){n.value=t,m.value=e,o("cropper",{base64:e,blob:r,info:t})}return r({hidePopover:function(){l.value.hide()}}),(r,t)=>{const o=Vue.resolveComponent("el-image"),b=Vue.resolveComponent("el-popover"),w=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",s,[Vue.createVNode(b,{ref_key:"popoverRef",ref:l,visible:c.value,placement:"right",width:"18vw"},{reference:Vue.withCtx((()=>[Vue.createElementVNode("div",p,[Vue.createVNode(Vue.unref(u),{ref_key:"refCropper",ref:i,src:e.imgSrc,circled:"",onCropper:d,onReadied:t[0]||(t[0]=e=>c.value=!0)},null,8,["src"]),Vue.withDirectives(Vue.createElementVNode("p",V," 温馨提示：右键上方裁剪区可开启功能菜单 ",512),[[Vue.vShow,c.value]])])])),default:Vue.withCtx((()=>[Vue.createElementVNode("div",v,[m.value?(Vue.openBlock(),Vue.createBlock(o,{key:0,src:m.value,"preview-src-list":Array.of(m.value),fit:"cover"},null,8,["src","preview-src-list"])):Vue.createCommentVNode("",!0),n.value?(Vue.openBlock(),Vue.createElementBlock("div",f,[Vue.createElementVNode("p",null," 图像大小："+Vue.toDisplayString(parseInt(n.value.width))+" × "+Vue.toDisplayString(parseInt(n.value.height))+"像素 ",1),Vue.createElementVNode("p",null," 文件大小："+Vue.toDisplayString(Vue.unref(a)(n.value.size))+"（"+Vue.toDisplayString(n.value.size)+" 字节） ",1)])):Vue.createCommentVNode("",!0)])])),_:1},8,["visible"])])),[[w,!c.value]])}}}))));var d;const b=c(m);export{b as R};
