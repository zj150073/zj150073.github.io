var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;import{D as a,E as n,F as c,M as d}from"./@pureadmin-f9nW_l6N.js";import{d as u,M as m,b as h,_ as p,n as f,s as y,D as b,F as g,r as _,c as v,g as j,a1 as S,o as x,f as q,B as w,a as H,p as K,E as O,l as $}from"./@vue-CFXrvzpc.js";import"./vue-DWYrQbHy.js";import"./element-plus-DsFyl0Kk.js";import"./lodash-es-BgzC0s9P.js";import"./@element-plus-Bqpau_gV.js";import"./@popperjs-D3lHDW-0.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BWHVJBZs.js";import"./@amap-Bx2D3lnM.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-kghe82LF.js";const k="stay",M="hs-on",P="hs-off",E="hs-range",N="both-left-sides",A="both-right-sides";let D="right",V=[],z=[];const B=u({name:"ReSelector",props:{HsKey:{type:Number||String,default:0},disabled:{type:Boolean,default:!1},value:{type:Number,default:0},max:{type:Array,default:()=>[1,2,3,4,5,6,7,8,9,10]},echo:{type:Array,default:()=>[]}},emits:["selectedVal"],setup(e,{emit:t}){const s=m(),r=e.value,l=h((()=>e.disabled)),o=h((()=>{const t=[];let s=0,l=r;for(r!==Math.floor(r)&&l--;s<l;s++)t.push(M);for(;s<e.max.length;s++)t.push(P);return t}));return p((()=>{f((()=>{(t=>{if(0!==t.length){if(t.length>2||1===t.length)throw"传入的数组长度必须是2";for(t.sort(((e,t)=>e-t)),n(s.refs["hsdiv"+e.HsKey+t[0]],M,k),n(s.refs["hstd"+e.HsKey+t[0]],N),n(s.refs["hsdiv"+e.HsKey+t[1]],M,k),n(s.refs["hstd"+e.HsKey+t[1]],A);t[1]>=t[0];)n(s.refs["hstd"+e.HsKey+t[0]],E),t[0]++}})(e.echo)}))})),()=>y(g,null,[y("table",{cellspacing:"0",cellpadding:"0"},[y("tbody",null,[y("tr",null,[e.max.map(((s,r)=>y("td",{"data-index":e.HsKey,ref:`hstd${e.HsKey}${r}`,class:`hs-select__item${r}`,onMousemove:()=>(t=>{if(!e.disabled){if(1===z.length){V.length<1&&V.push({index:t});let e=V[0].index;if(t>e)for(D="right",a(!1,A,document.querySelector(".hs-select__item"+z[0].index));t>=e;)n(document.querySelector(".hs-select__item"+e),E),e++;else for(D="left",a(!0,A,document.querySelector(".hs-select__item"+z[0].index));t<=e;)n(document.querySelector(".hs-select__item"+e),E),e--}n(document.querySelector("."+P+t),M)}})(r),onMouseleave:()=>(t=>{if(e.disabled)return;const s=document.querySelector("."+P+t);if(s.className.includes(k))return!1;if(c(s,M),1===z.length){const e=V[0].index;if(t>=e)for(let s=0;s<=t;s++)c(document.querySelector(".hs-select__item"+s),E);else for(;t<=e;)c(document.querySelector(".hs-select__item"+t),E),t++}})(r),onClick:()=>((s,r)=>{if(e.disabled)return;const l=z.length;l<2?(z.push({item:r,index:s}),n(document.querySelector("."+P+s),k),n(document.querySelector(".hs-select__item"+z[0].index),N),z[1]&&n(document.querySelector(".hs-select__item"+z[1].index),"right"===D?A:N),1===l&&t("selectedVal","right"===D?{left:z[0].item,right:z[1].item,whole:z}:{left:z[1].item,right:z[0].item,whole:z})):f((()=>{z.forEach((e=>{c(document.querySelector("."+P+e.index),M,k),c(document.querySelector(".hs-select__item"+e.index),N,A)})),z=[],V=[];for(let t=0;t<=e.max.length;t++){const e=document.querySelector(".hs-select__item"+t);e&&c(e,E)}z.push({item:r,index:s}),n(document.querySelector("."+P+s),k),n(document.querySelector(".hs-select__item"+z[0].index),N)}))})(r,s),style:{cursor:b(l)?"auto":"pointer",textAlign:"center"},key:r},[y("div",{ref:`hsdiv${e.HsKey}${r}`,class:`hs-item ${[b(o)[r]+r]}`},[y("span",null,[s])])])))])])])])}}),F=d(B),C={class:"font-medium"},I={key:0,class:"mt-3"},R=u((G=((e,t)=>{for(var s in t||(t={}))l.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))o.call(t,s)&&i(e,s,t[s]);return e})({},{name:"Selector"}),t(G,s({__name:"selector",setup(e){const t=_(""),s=_([{title:"基础用法",echo:[],disabled:!1},{title:"回显模式",echo:[2,7],disabled:!0}]),r=({left:e,right:s})=>{t.value=`${e}-${s}`};return(e,l)=>{const o=S("el-link"),i=S("el-card");return x(),v("div",null,[(x(!0),v(g,null,j(s.value,((e,s)=>(x(),q(i,{key:s,class:"mb-2",shadow:"never"},{header:w((()=>[H("p",C,K(e.title),1),y(o,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/selector.vue",target:"_blank"},{default:w((()=>[O(" 代码位置 src/views/components/selector.vue ")])),_:1})])),default:w((()=>[y(b(F),{HsKey:s,echo:e.echo,disabled:e.disabled,onSelectedVal:r},null,8,["HsKey","echo","disabled"]),e.disabled?$("",!0):(x(),v("h4",I,"选中范围："+K(t.value),1))])),_:2},1024)))),128))])}}}))));var G;export{R as default};
