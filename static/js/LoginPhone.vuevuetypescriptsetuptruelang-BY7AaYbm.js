var k=(b,s,n)=>new Promise((r,f)=>{var _=e=>{try{u(n.next(e))}catch(l){f(l)}},c=e=>{try{u(n.throw(e))}catch(l){f(l)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(_,c);u((n=n.apply(b,s)).next())});import{u as v,p as $,m as R}from"./verifyCode-DOnErzHI.js";import{d as B,h,n as N,r as i,o as T,P as U,w as a,b as o,u as t,e as j,g as C,t as V,aq as z}from"./index-BWPJTteW.js";const A={class:"w-full flex justify-between"},x=B({__name:"LoginPhone",setup(b){const s=h(!1),n=N({phone:"",verifyCode:""}),r=h(),{isDisabled:f,text:_}=v(),c=e=>k(this,null,function*(){s.value=!0,e&&(yield e.validate(l=>{l?setTimeout(()=>{R("登录成功",{type:"success"}),s.value=!1},2e3):s.value=!1}))});function u(){v().end(),z().SET_CURRENTPAGE(0)}return(e,l)=>{const g=i("el-input"),p=i("el-form-item"),m=i("AjmerMotion"),y=i("el-button"),w=i("el-form");return T(),U(w,{ref_key:"ruleFormRef",ref:r,model:t(n),rules:t($),size:"large"},{default:a(()=>[o(m,null,{default:a(()=>[o(p,{prop:"phone"},{default:a(()=>[o(g,{modelValue:t(n).phone,"onUpdate:modelValue":l[0]||(l[0]=d=>t(n).phone=d),placeholder:e.$i18n("手机号"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),o(m,{delay:100},{default:a(()=>[o(p,{prop:"verifyCode"},{default:a(()=>[j("div",A,[o(g,{modelValue:t(n).verifyCode,"onUpdate:modelValue":l[1]||(l[1]=d=>t(n).verifyCode=d),placeholder:e.$i18n("验证码"),clearable:""},null,8,["modelValue","placeholder"]),o(y,{disabled:t(f),class:"ml-2",onClick:l[2]||(l[2]=d=>t(v)().start(t(r),"phone"))},{default:a(()=>[C(V(t(_)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(m,{delay:150},{default:a(()=>[o(p,null,{default:a(()=>[o(y,{class:"w-full",size:"default",type:"primary",loading:t(s),onClick:l[3]||(l[3]=d=>c(t(r)))},{default:a(()=>[C(V(e.$i18n("登录")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),o(m,{delay:200},{default:a(()=>[o(p,null,{default:a(()=>[o(y,{class:"w-full",size:"default",onClick:u},{default:a(()=>[C(V(e.$i18n("返回")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{x as _};
