import oe from"./tree-DzkeJIjU.js";import{useUser as te}from"./hook-CxlqDwMu.js";import{R as le,P as ne}from"./refresh-DIy7bJBL.js";import{u as s}from"./hooks-DmI0Ij89.js";import{d as ae}from"./upload-line-ClmDKJCy.js";import{d as re}from"./admin-line-CpqWPwjZ.js";import{d as ie}from"./delete-Ce0TSdK5.js";import{d as se}from"./edit-pen-Ci7W0xNM.js";import{A as ce}from"./add-circle-line-Cw_F_RXn.js";import{d as me,a as g,e as a,A as de,f as D,k as z,i as o,v as d,u as e,g as C,w as t,h as i,B as pe,t as ue,j as fe,_ as _e}from"./index-BdQqVUXy.js";import"./git-branch-line-BhusJOme.js";import"./more-2-fill-iTOisMwj.js";import"./role.vue_vue_type_script_setup_true_lang-52P7AkKS.js";import"./index-zlzm_3PZ.js";import"./index.vue_vue_type_script_setup_true_lang-BD12iXKT.js";import"./hooks-CdJqEggM.js";import"./user-DNtD0Fqa.js";import"./index-6JP_3VbR.js";import"./index-CInJTcLw.js";import"./system-BvNQmI6m.js";import"./sortable.esm-CkCitmyH.js";import"./epTheme-Dnhv8HVo.js";import"./collapse-x9Ji0cxk.js";const he={width:24,height:24,body:'<path fill="currentColor" d="M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1ZM5 10v10h14V10H5Zm6 4h2v2h-2v-2Zm-4 0h2v2H7v-2Zm8 0h2v2h-2v-2Zm1-6V7a4 4 0 0 0-8 0v1h8Z"/>'},ge=he,Ce={width:1024,height:1024,body:'<path fill="currentColor" d="M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z"/>'},ve=Ce,ye={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},be={class:"flex-auto"},ke={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},xe=me({name:"SystemUser",__name:"index",setup(we){const v=g(),y=g(),b=g(),{form:c,loading:k,columns:P,dataList:U,treeData:B,treeLoading:Z,selectedNum:x,pagination:N,buttonClass:f,deviceDetection:_,onSearch:w,resetForm:T,onbatchDel:L,openDialog:V,onTreeSelect:M,handleUpdate:A,handleDelete:H,handleUpload:j,handleReset:F,handleRole:I,handleSizeChange:E,onSelectionCancel:q,handleCurrentChange:G,handleSelectionChange:J}=te(b,v);return(Ve,r)=>{const S=a("el-input"),u=a("el-form-item"),$=a("el-option"),K=a("el-select"),n=a("el-button"),O=a("el-form"),R=a("el-popconfirm"),h=a("el-dropdown-item"),Q=a("el-dropdown-menu"),W=a("el-dropdown"),X=a("pure-table"),Y=de("motion-fade");return D(),z("div",{class:d(["flex","justify-between",e(_)()&&"flex-wrap"])},[o(oe,{ref_key:"treeRef",ref:v,class:d(["mr-2",e(_)()?"w-full":"min-w-[200px]"]),treeData:e(B),treeLoading:e(Z),onTreeSelect:e(M)},null,8,["class","treeData","treeLoading","onTreeSelect"]),C("div",{class:d([e(_)()?["w-full","mt-2"]:"w-[calc(100%-200px)]"])},[o(O,{ref_key:"formRef",ref:y,inline:!0,model:e(c),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:t(()=>[o(u,{label:"用户名称：",prop:"username"},{default:t(()=>[o(S,{modelValue:e(c).username,"onUpdate:modelValue":r[0]||(r[0]=l=>e(c).username=l),placeholder:"请输入用户名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),o(u,{label:"手机号码：",prop:"phone"},{default:t(()=>[o(S,{modelValue:e(c).phone,"onUpdate:modelValue":r[1]||(r[1]=l=>e(c).phone=l),placeholder:"请输入手机号码",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),o(u,{label:"状态：",prop:"status"},{default:t(()=>[o(K,{modelValue:e(c).status,"onUpdate:modelValue":r[2]||(r[2]=l=>e(c).status=l),placeholder:"请选择",clearable:"",class:"!w-[180px]"},{default:t(()=>[o($,{label:"已开启",value:"1"}),o($,{label:"已关闭",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(u,null,{default:t(()=>[o(n,{type:"primary",icon:e(s)("ri:search-line"),loading:e(k),onClick:e(w)},{default:t(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(n,{icon:e(s)(e(le)),onClick:r[3]||(r[3]=l=>e(T)(y.value))},{default:t(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(ne),{title:"用户管理（仅演示，操作后不生效）",columns:e(P),onRefresh:e(w)},{buttons:t(()=>[o(n,{type:"primary",icon:e(s)(e(ce)),onClick:r[4]||(r[4]=l=>e(V)())},{default:t(()=>[i(" 新增用户 ")]),_:1},8,["icon"])]),default:t(({size:l,dynamicColumns:ee})=>[e(x)>0?pe((D(),z("div",ye,[C("div",be,[C("span",ke," 已选 "+ue(e(x))+" 项 ",1),o(n,{type:"primary",text:"",onClick:e(q)},{default:t(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(R,{title:"是否确认删除?",onConfirm:e(L)},{reference:t(()=>[o(n,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[Y]]):fe("",!0),o(X,{ref_key:"tableRef",ref:b,"row-key":"id",adaptive:"",adaptiveConfig:{offsetBottom:108},"align-whole":"center","table-layout":"auto",loading:e(k),size:l,data:e(U),columns:ee,pagination:e(N),paginationSmall:l==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(J),onPageSizeChange:e(E),onPageCurrentChange:e(G)},{operation:t(({row:m})=>[o(n,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(s)(e(se)),onClick:p=>e(V)("修改",m)},{default:t(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(R,{title:`是否确认删除用户编号为${m.id}的这条数据`,onConfirm:p=>e(H)(m)},{reference:t(()=>[o(n,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(s)(e(ie))},{default:t(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(W,null,{dropdown:t(()=>[o(Q,null,{default:t(()=>[o(h,null,{default:t(()=>[o(n,{class:d(e(f)),link:"",type:"primary",size:l,icon:e(s)(e(ae)),onClick:p=>e(j)(m)},{default:t(()=>[i(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),o(h,null,{default:t(()=>[o(n,{class:d(e(f)),link:"",type:"primary",size:l,icon:e(s)(e(ge)),onClick:p=>e(F)(m)},{default:t(()=>[i(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),o(h,null,{default:t(()=>[o(n,{class:d(e(f)),link:"",type:"primary",size:l,icon:e(s)(e(re)),onClick:p=>e(I)(m)},{default:t(()=>[i(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:t(()=>[o(n,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:l,icon:e(s)(e(ve)),onClick:p=>e(A)(m)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])],2)],2)}}}),Oe=_e(xe,[["__scopeId","data-v-846a0bbf"]]);export{Oe as default};
