var k=(b,s,n)=>new Promise((r,f)=>{var _=e=>{try{u(n.next(e))}catch(l){f(l)}},c=e=>{try{u(n.throw(e))}catch(l){f(l)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(_,c);u((n=n.apply(b,s)).next())});import{d as $,h,p as R,r as i,z,o as B,u as a,w as t,b as o,e as N,g as v,D as C,I as T,l as U}from"./index-DzEhiz7G.js";import{p as j,u as V}from"./verifyCode-CbkKSrnG.js";const A={class:"w-full flex justify-between"},x=$({__name:"LoginPhone",setup(b){const s=h(!1),n=R({phone:"",verifyCode:""}),r=h(),{isDisabled:f,text:_}=V(),c=e=>k(this,null,function*(){s.value=!0,e&&(yield e.validate(l=>{l?setTimeout(()=>{T("登录成功",{type:"success"}),s.value=!1},2e3):s.value=!1}))});function u(){V().end(),U().SET_CURRENTPAGE(0)}return(e,l)=>{const g=i("el-input"),p=i("el-form-item"),m=i("AjmerMotion"),y=i("el-button"),w=i("el-form");return B(),z(w,{ref_key:"ruleFormRef",ref:r,model:a(n),rules:a(j),size:"large"},{default:t(()=>[o(m,null,{default:t(()=>[o(p,{prop:"phone"},{default:t(()=>[o(g,{modelValue:a(n).phone,"onUpdate:modelValue":l[0]||(l[0]=d=>a(n).phone=d),placeholder:e.$i18n("手机号"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),o(m,{delay:100},{default:t(()=>[o(p,{prop:"verifyCode"},{default:t(()=>[N("div",A,[o(g,{modelValue:a(n).verifyCode,"onUpdate:modelValue":l[1]||(l[1]=d=>a(n).verifyCode=d),placeholder:e.$i18n("验证码"),clearable:""},null,8,["modelValue","placeholder"]),o(y,{disabled:a(f),class:"ml-2",onClick:l[2]||(l[2]=d=>a(V)().start(a(r),"phone"))},{default:t(()=>[v(C(a(_)),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),o(m,{delay:150},{default:t(()=>[o(p,null,{default:t(()=>[o(y,{class:"w-full",size:"default",type:"primary",loading:a(s),onClick:l[3]||(l[3]=d=>c(a(r)))},{default:t(()=>[v(C(e.$i18n("登录")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),o(m,{delay:200},{default:t(()=>[o(p,null,{default:t(()=>[o(y,{class:"w-full",size:"default",onClick:u},{default:t(()=>[v(C(e.$i18n("返回")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{x as _};
