import"./base-hDPCX_2N.js";import{v as h}from"./el-loading-D9WZSh8D.js";import{d as g,q as m,ab as x,u as t,x as I,D as k,w as L,o as R,c as S,e as w,a3 as B}from"./index-CY8b9gUt.js";import{_ as E}from"./plugin-vueexport-helper-DlAUqK2U.js";const P={class:"frame","element-loading-text":"加载中..."},y=["src"],D=g({name:"LayFrame",__name:"frame",props:{frameInfo:{}},setup(v){var l,u,d;const f=v,s=m(!0),r=x(),o=m(""),i=m(null);(l=t(r.meta))!=null&&l.frameSrc&&(o.value=(u=t(r.meta))==null?void 0:u.frameSrc),((d=t(r.meta))==null?void 0:d.frameLoading)===!1&&c();function c(){s.value=!1}function p(){B(()=>{const e=t(i);if(!e)return;const a=e;a.attachEvent?a.attachEvent("onload",()=>{c()}):e.onload=()=>{c()}})}return I(()=>r.fullPath,e=>{var a,n,_;r.name==="Redirect"&&e.includes((a=f.frameInfo)==null?void 0:a.fullPath)&&(o.value=e,s.value=!0),((n=f.frameInfo)==null?void 0:n.fullPath)===e&&(o.value=(_=f.frameInfo)==null?void 0:_.frameSrc)}),k(()=>{p()}),(e,a)=>{const n=h;return L((R(),S("div",P,[w("iframe",{ref_key:"frameRef",ref:i,src:t(o),class:"frame-iframe"},null,8,y)])),[[n,t(s)]])}}}),M=E(D,[["__scopeId","data-v-880dcf75"]]);export{M as default};
