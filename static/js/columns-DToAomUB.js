import{a as e,ag as a,r as l,n as t,y as r,aX as o,L as n}from"./index-DTxOO0Gw.js";import{b as s}from"./data-dNsFRKM9.js";function u(u,i,v){const c=e(s),p=a(c.value),d=e([1,3,4]),h=l({sexValue:"",searchDate:""}),g=[{value:0,label:"男"},{value:1,label:"女"}],b=l({pageSize:5,currentPage:1,layout:"prev, pager, next",total:c.value.length,background:!0,small:!0}),f=()=>{const{clearSelection:e}=v.value.getTableRef();e()};return t(d,(()=>{return e=this,a=null,l=function*(){yield r();const{toggleRowSelection:e}=v.value.getTableRef();d.value.forEach((a=>{c.value.forEach((l=>{l.id===a&&e(l)}))}))},new Promise(((t,r)=>{var o=e=>{try{s(l.next(e))}catch(a){r(a)}},n=e=>{try{s(l.throw(e))}catch(a){r(a)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,n);s((l=l.apply(e,a)).next())}));var e,a,l}),{immediate:!0}),{searchForm:h,sexOptions:g,columns:[{type:"selection",reserveSelection:!0,align:"left"},{label:"ID",prop:"id",width:50},{label:"姓名",prop:"name"},{label:"性别",prop:"sex"},{label:"地址",prop:"address"},{label:"日期",prop:"date",minWidth:120}],pagination:b,selectValue:d,tableData:c,onSure:()=>{u.value.blur(),n(`当前选中的数据为：${JSON.stringify(d.value)}`,{type:"success"})},onClear:f,onReset:()=>{i.value.resetFields(),f(),c.value=p,b.total=c.value.length},onSearch:()=>{if(c.value=p,!o(h.sexValue)){let e=g.map((e=>e.value===Number(h.sexValue)&&e.label)).filter(Boolean)[0];c.value=c.value.filter((a=>a.sex===e))}o(h.searchDate)||(c.value=c.value.filter((e=>e.date===h.searchDate))),b.total=c.value.length},removeTag:({id:e})=>{var a;const{toggleRowSelection:l}=v.value.getTableRef();l(null==(a=c.value.filter((a=>a.id==e)))?void 0:a[0],!1)},handleSelectionChange:e=>{const a=[];e.forEach((e=>{a.push({label:e.name,id:e.id})})),d.value=a}}}export{u as useColumns};
