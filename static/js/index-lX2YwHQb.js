var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{d as o,a as r,af as p,p as c,am as u,an as d,b as m,w as v,e as f,A as g,f as h,g as x,B as y,h as b,i as _,a2 as j,t as k,k as w,u as C,v as O,q as I,j as z,T as M,L as V,I as Z,J as $,C as L,D as P,_ as S}from"./index-07XH1eRd.js";import{S as U}from"./sortable.esm-DhhifNSC.js";import{_ as A}from"./form.vue_vue_type_script_setup_true_lang-B1cWNI80.js";import{d as H}from"./plus-C98eNXam.js";import"./mock-9x5hvpBX.js";const J={width:24,height:24,body:'<path fill="currentColor" d="M12 3c5.392 0 9.878 3.88 10.819 9c-.94 5.12-5.427 9-10.819 9c-5.392 0-9.878-3.88-10.818-9C2.122 6.88 6.608 3 12 3Zm0 16a9.005 9.005 0 0 0 8.778-7a9.005 9.005 0 0 0-17.555 0A9.005 9.005 0 0 0 12 19Zm0-2.5a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9Zm0-2a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5Z"/>'},N={width:24,height:24,body:'<path fill="currentColor" d="M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3Zm1 2H6v12h12V8ZM9 4v2h6V4H9Z"/>'},B=e=>(L("data-v-04dda22c"),e=e(),P(),e),D={class:"card-header"},E=B((()=>x("p",{class:"mb-4"},[b(" 综合示例"),x("span",{class:"text-[14px]"},[b(" （ "),x("span",{class:"text-[red]"},"自动上传"),b(" 、拖拽上传、拖拽排序、设置请求头、上传进度、大图预览、多选文件、最大文件数量、文件类型限制、文件大小限制、删除文件） ")])],-1))),q={key:0,class:"mt-[35%] m-auto"},R=B((()=>x("p",{class:"font-medium"},"文件上传中",-1))),T=["onMouseenter"],F=["src"],G=["onClick"],Y=["onClick"],K={title:"移除",class:"hover:text-[var(--el-color-danger)]"},Q={key:0,effect:"dark",round:"",size:"large",type:"info",class:"img-name"},W={class:"text-[#fff] dark:text-black"},X=B((()=>x("p",{class:"el-upload__tip"}," 可拖拽上传最多3张单个不超过2MB且格式为jpeg/png/gif的图片 ",-1))),ee=B((()=>x("p",{class:"mb-4 mt-4"},[b(" 结合表单校验进行"),x("span",{class:"text-[red]"},"手动上传"),x("span",{class:"text-[14px]"}," （可先打开浏览器控制台找到Network，然后填写表单内容后点击点提交观察请求变化） ")],-1))),ae={class:"flex justify-between"},te=B((()=>x("p",{class:"text-center"},"上传接口相关截图",-1))),se={class:"flex flex-wrap"},le={class:"text-[red] text-[12px] flex flex-auto items-center justify-end"},ie=B((()=>x("span",{class:"font-bold text-[18x]"}," 请不要上传重要信息 ",-1))),ne=o((oe=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))i.call(a,t)&&n(e,t,a[t]);return e})({},{name:"PureUpload"}),a(oe,t({__name:"index",setup(e){const a=r([]),t=p(),s=r(0),l=r(!1),i=c((()=>u(a.value,"url"))),n=c((()=>d(a.value,"name","size"))),o=Array.from({length:3}).map(((e,a)=>{return t=a+1,new URL(Object.assign({"./imgs/1.jpg":"/static/jpg/1-CNu9tHLV.jpg","./imgs/2.jpg":"/static/jpg/2-Dn7NyzRJ.jpg","./imgs/3.jpg":"/static/jpg/3-BNVYzMvF.jpg"})[`./imgs/${t}.jpg`],import.meta.url).href;var t})),L=e=>["image/jpeg","image/png","image/gif"].includes(e.type)?e.size/1024/1024>2?(V("单个图片大小不能超过2MB"),!1):void 0:(V("只能上传图片"),!1),P=()=>{V("最多上传3张图片，请先删除在上传")},S=()=>document.querySelectorAll("#pure-upload-item"),B=()=>{[{name:"巴旦木.jpeg",type:"img"},{name:"恭喜发财.png",type:"img"},{name:"可爱动物.gif",type:"gif"},{name:"pure-upload.csv",type:"other"},{name:"pure-upload.txt",type:"other"}].forEach((e=>{Z.get(`https://xiaoxian521.github.io/hyperlink/${e.type}/${e.name}`,{responseType:"blob"}).then((({data:a})=>{$(a,e.name)}))}))};return(e,r)=>{const p=f("el-link"),c=f("el-button"),u=f("IconifyIconOffline"),d=f("el-progress"),V=f("el-upload"),Z=f("el-image-viewer"),$=f("el-divider"),ne=f("el-image"),oe=f("el-card"),re=g("tippy");return h(),m(oe,{shadow:"never"},{header:v((()=>[x("div",D,[y((h(),m(p,{href:"https://element-plus.org/zh-CN/component/upload.html",target:"_blank",style:{"font-size":"16px","font-weight":"800"}},{default:v((()=>[b(" 文件上传 ")])),_:1})),[[re,{content:"点击查看详细文档"}]])]),_(p,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/upload",target:"_blank"},{default:v((()=>[b(" 代码位置 src/views/components/upload ")])),_:1})])),default:v((()=>[_(c,{class:"mb-4",text:"",bg:"",onClick:B},{default:v((()=>[b(" 点击下载安全文件进行上传测试 ")])),_:1}),E,y(x("p",{class:"mb-4"},k(n.value),513),[[j,a.value.length>0]]),_(V,{"file-list":a.value,"onUpdate:fileList":r[0]||(r[0]=e=>a.value=e),drag:"",multiple:"",class:"pure-upload","list-type":"picture-card",accept:"image/jpeg,image/png,image/gif",action:"https://run.mocky.io/v3/3aa761d7-b0b3-4a03-96b3-6168d4f7467b",limit:3,headers:{Authorization:"eyJhbGciOiJIUzUxMiJ9.admin"},"on-exceed":P,"before-upload":L},{file:v((({file:e})=>["ready"==e.status||"uploading"==e.status?(h(),w("div",q,[R,_(d,{class:"mt-2","stroke-width":2,"text-inside":!0,"show-text":!1,percentage:e.percentage},null,8,["percentage"])])):(h(),w("div",{key:1,onMouseenter:I((t=>(e=>{var t,s,l;const i="el-upload-list",n=a.value.findIndex((a=>a.uid===e));null==(l=null==(s=null==(t=S())?void 0:t[n])?void 0:s.classList)||l.add(`${i}__item-actions`);const o=document.querySelector(`.${i}`);U.create(o,{handle:`.${i}__item`,onEnd:({newIndex:e,oldIndex:t})=>{const s=a.value[t];a.value.splice(t,1),a.value.splice(e,0,s),S().forEach((e=>{e.classList.remove(`${i}__item-actions`)}))}})})(e.uid)),["stop"])},[x("img",{class:"el-upload-list__item-thumbnail select-none",src:e.url},null,8,F),x("span",{id:"pure-upload-item",class:O(["el-upload-list__item-actions",a.value.length>1&&"!cursor-move"])},[x("span",{title:"查看",class:"hover:text-primary",onClick:t=>(e=>{s.value=a.value.findIndex((a=>a.uid===e.uid)),l.value=!0})(e)},[_(u,{icon:C(J),class:"hover:scale-125 duration-100"},null,8,["icon"])],8,G),x("span",{class:"el-upload-list__item-delete",onClick:t=>(e=>{a.value.splice(a.value.indexOf(e),1)})(e)},[x("span",K,[_(u,{icon:C(N),class:"hover:scale-125 duration-100"},null,8,["icon"])])],8,Y)],2)],40,T))])),default:v((()=>[_(u,{icon:C(H),class:"m-auto mt-4",width:"30"},null,8,["icon"])])),_:1},8,["file-list"]),l.value?(h(),m(Z,{key:0,initialIndex:s.value,"url-list":i.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,onClose:r[1]||(r[1]=e=>l.value=!1),onSwitch:r[2]||(r[2]=e=>s.value=e)},null,8,["initialIndex","url-list"])):z("",!0),(h(),m(M,{to:"body"},[a.value[s.value]&&l.value?(h(),w("div",Q,[x("p",W,k(a.value[s.value].name),1)])):z("",!0)])),X,_($),ee,x("div",ae,[_(A),x("div",null,[te,_(ne,{class:"w-[200px] rounded-md",src:C(o)[0],"preview-src-list":C(o),fit:"cover"},null,8,["src","preview-src-list"])])]),_($),x("div",se,[x("p",null,[b(" 裁剪、上传头像请参考 "),x("span",{class:"font-bold text-[18x] cursor-pointer hover:text-[red]",onClick:r[3]||(r[3]=e=>C(t).push({name:"SystemUser"}))}," 系统管理-用户管理 "),b(" 表格操作栏中的上传头像功能 ")]),x("p",le,[b(" 免责声明：上传接口使用免费开源的 "),_(p,{href:"https://designer.mocky.io/",target:"_blank",style:{"font-size":"16px","font-weight":"800"}},{default:v((()=>[b("  Mocky  ")])),_:1}),ie,b("，如果造成任何损失，我们概不负责 ")])])])),_:1})}}}))));var oe;const re=S(ne,[["__scopeId","data-v-04dda22c"]]);export{re as default};
