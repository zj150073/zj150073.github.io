import{M as e}from"./motion-BQObdsvG.js";import{t as u,ab as r,m as l,av as o}from"./index-DK9WUj9J.js";import{u as a,a as t}from"./verifyCode-Dtic1vHP.js";import{u as V}from"./hooks-D3PhPGWW.js";import{L as n}from"./lock-fill-mrzA9gW4.js";import{I as d}from"./iphone-CXdAVSG6.js";const i={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2Zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12Z"/>'},s={class:"w-full flex justify-between"},f=Vue.defineComponent({__name:"LoginRegist",setup(f){const{t:p}=VueI18n.useI18n(),c=Vue.ref(!1),m=Vue.ref(!1),h=Vue.reactive({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),w=Vue.ref(),{isDisabled:x,text:C}=a(),g=[{validator:(e,l,o)=>{""===l?o(new Error(u(r("login.purePassWordSureReg")))):h.password!==l?o(new Error(u(r("login.purePassWordDifferentReg")))):o()},trigger:"blur"}],y=e=>{return o=this,a=null,t=function*(){m.value=!0,e&&(yield e.validate((e=>{e?c.value?setTimeout((()=>{l(u(r("login.pureRegisterSuccess")),{type:"success"}),m.value=!1}),2e3):(m.value=!1,l(u(r("login.pureTickPrivacy")),{type:"warning"})):m.value=!1})))},new Promise(((e,u)=>{var r=e=>{try{V(t.next(e))}catch(r){u(r)}},l=e=>{try{V(t.throw(e))}catch(r){u(r)}},V=u=>u.done?e(u.value):Promise.resolve(u.value).then(r,l);V((t=t.apply(o,a)).next())}));var o,a,t};function v(){a().end(),o().SET_CURRENTPAGE(0)}return(l,o)=>{const f=Vue.resolveComponent("el-input"),N=Vue.resolveComponent("el-form-item"),_=Vue.resolveComponent("el-button"),b=Vue.resolveComponent("el-checkbox"),P=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createBlock(P,{ref_key:"ruleFormRef",ref:w,model:h,rules:Vue.unref(t),size:"large"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(e),null,{default:Vue.withCtx((()=>[Vue.createVNode(N,{rules:[{required:!0,message:Vue.unref(u)(Vue.unref(r)("login.pureUsernameReg")),trigger:"blur"}],prop:"username"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:h.username,"onUpdate:modelValue":o[0]||(o[0]=e=>h.username=e),clearable:"",placeholder:Vue.unref(p)("login.pureUsername"),"prefix-icon":Vue.unref(V)(Vue.unref(i))},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["rules"])])),_:1}),Vue.createVNode(Vue.unref(e),{delay:100},{default:Vue.withCtx((()=>[Vue.createVNode(N,{prop:"phone"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:h.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>h.phone=e),clearable:"",placeholder:Vue.unref(p)("login.purePhone"),"prefix-icon":Vue.unref(V)(Vue.unref(d))},null,8,["modelValue","placeholder","prefix-icon"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:150},{default:Vue.withCtx((()=>[Vue.createVNode(N,{prop:"verifyCode"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",s,[Vue.createVNode(f,{modelValue:h.verifyCode,"onUpdate:modelValue":o[2]||(o[2]=e=>h.verifyCode=e),clearable:"",placeholder:Vue.unref(p)("login.pureSmsVerifyCode"),"prefix-icon":Vue.unref(V)("ri:shield-keyhole-line")},null,8,["modelValue","placeholder","prefix-icon"]),Vue.createVNode(_,{disabled:Vue.unref(x),class:"ml-2",onClick:o[3]||(o[3]=e=>Vue.unref(a)().start(w.value,"phone"))},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(C).length>0?Vue.unref(C)+Vue.unref(p)("login.pureInfo"):Vue.unref(p)("login.pureGetVerifyCode")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:200},{default:Vue.withCtx((()=>[Vue.createVNode(N,{prop:"password"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:h.password,"onUpdate:modelValue":o[4]||(o[4]=e=>h.password=e),clearable:"","show-password":"",placeholder:Vue.unref(p)("login.purePassword"),"prefix-icon":Vue.unref(V)(Vue.unref(n))},null,8,["modelValue","placeholder","prefix-icon"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:250},{default:Vue.withCtx((()=>[Vue.createVNode(N,{rules:g,prop:"repeatPassword"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{modelValue:h.repeatPassword,"onUpdate:modelValue":o[5]||(o[5]=e=>h.repeatPassword=e),clearable:"","show-password":"",placeholder:Vue.unref(p)("login.pureSure"),"prefix-icon":Vue.unref(V)(Vue.unref(n))},null,8,["modelValue","placeholder","prefix-icon"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:300},{default:Vue.withCtx((()=>[Vue.createVNode(N,null,{default:Vue.withCtx((()=>[Vue.createVNode(b,{modelValue:c.value,"onUpdate:modelValue":o[6]||(o[6]=e=>c.value=e)},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(p)("login.pureReadAccept")),1)])),_:1},8,["modelValue"]),Vue.createVNode(_,{link:"",type:"primary"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(p)("login.purePrivacyPolicy")),1)])),_:1})])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:350},{default:Vue.withCtx((()=>[Vue.createVNode(N,null,{default:Vue.withCtx((()=>[Vue.createVNode(_,{class:"w-full",size:"default",type:"primary",loading:m.value,onClick:o[7]||(o[7]=e=>y(w.value))},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(p)("login.pureDefinite")),1)])),_:1},8,["loading"])])),_:1})])),_:1}),Vue.createVNode(Vue.unref(e),{delay:400},{default:Vue.withCtx((()=>[Vue.createVNode(N,null,{default:Vue.withCtx((()=>[Vue.createVNode(_,{class:"w-full",size:"default",onClick:v},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(p)("login.pureBack")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])}}});export{i as U,f as _};
