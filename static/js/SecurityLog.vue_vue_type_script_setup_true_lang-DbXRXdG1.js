var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{f as i,aD as u}from"./index-DK9WUj9J.js";const p=Vue.createElementVNode("h3",{class:"my-8"},"安全日志",-1),s=Vue.defineComponent((c=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))n.call(t,r)&&l(e,r,t[r]);return e})({},{name:"SecurityLog"}),t(c,r({__name:"SecurityLog",setup(e){const t=Vue.ref(!0),r=Vue.ref([]),a=Vue.reactive({total:0,pageSize:10,currentPage:1,background:!0,layout:"prev, pager, next"}),o=[{label:"详情",prop:"summary",minWidth:140},{label:"IP 地址",prop:"ip",minWidth:100},{label:"地点",prop:"address",minWidth:140},{label:"操作系统",prop:"system",minWidth:100},{label:"浏览器类型",prop:"browser",minWidth:100},{label:"时间",prop:"operatingTime",minWidth:180,formatter:({operatingTime:e})=>dayjs(e).format("YYYY-MM-DD HH:mm:ss")}];function n(){return e=this,o=null,n=function*(){t.value=!0;const{data:e}=yield u();r.value=e.list,a.total=e.total,a.pageSize=e.pageSize,a.currentPage=e.currentPage,setTimeout((()=>{t.value=!1}),200)},new Promise(((t,r)=>{var a=e=>{try{i(n.next(e))}catch(t){r(t)}},l=e=>{try{i(n.throw(e))}catch(t){r(t)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,l);i((n=n.apply(e,o)).next())}));var e,o,n}return Vue.onMounted((()=>{n()})),(e,n)=>{const l=Vue.resolveComponent("pure-table");return Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["min-w-[180px]",Vue.unref(i)()?"max-w-[100%]":"max-w-[70%]"])},[p,Vue.createVNode(l,{"row-key":"id","table-layout":"auto",loading:t.value,data:r.value,columns:o,pagination:a},null,8,["loading","data","pagination"])],2)}}}))));var c;export{s as _};
