import{X as e}from"./xe-utils-CdBoVBzI.js";import{D as t}from"./dom-zindex-Ckn4mXSH.js";import{w as l,S as o,x as n,a1 as a,d as r,H as i,b as s,ax as c,l as u,r as d,T as p,A as m,J as f,e as g,n as h,N as v,G as b,M as x,ag as C,aj as y}from"./@vue-CFXrvzpc.js";const w="vxe-icon-",S={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{_typeMaps:{},modes:["insert","covering"]},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1},modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:w+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:w+"caret-up",TABLE_SORT_DESC:w+"caret-down",TABLE_FILTER_NONE:w+"funnel",TABLE_FILTER_MATCH:w+"funnel",TABLE_EDIT:w+"edit",TABLE_TITLE_PREFIX:w+"question-circle-fill",TABLE_TITLE_SUFFIX:w+"question-circle-fill",TABLE_TREE_LOADED:w+"spinner roll",TABLE_TREE_OPEN:w+"caret-right rotate90",TABLE_TREE_CLOSE:w+"caret-right",TABLE_EXPAND_LOADED:w+"spinner roll",TABLE_EXPAND_OPEN:w+"arrow-right rotate90",TABLE_EXPAND_CLOSE:w+"arrow-right",TABLE_CHECKBOX_CHECKED:w+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:w+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:w+"checkbox-indeterminate",TABLE_RADIO_CHECKED:w+"radio-checked",TABLE_RADIO_UNCHECKED:w+"radio-unchecked",BUTTON_DROPDOWN:w+"arrow-down",BUTTON_LOADING:w+"spinner roll",SELECT_LOADED:w+"spinner roll",SELECT_OPEN:w+"caret-down rotate180",SELECT_CLOSE:w+"caret-down",PAGER_HOME:w+"home-page",PAGER_END:w+"end-page",PAGER_JUMP_PREV:w+"arrow-double-left",PAGER_JUMP_NEXT:w+"arrow-double-right",PAGER_PREV_PAGE:w+"arrow-left",PAGER_NEXT_PAGE:w+"arrow-right",PAGER_JUMP_MORE:w+"ellipsis-h",INPUT_CLEAR:w+"error-circle-fill",INPUT_PWD:w+"eye-fill",INPUT_SHOW_PWD:w+"eye-fill-close",INPUT_PREV_NUM:w+"caret-up",INPUT_NEXT_NUM:w+"caret-down",INPUT_DATE:w+"calendar",INPUT_SEARCH:w+"search",MODAL_ZOOM_IN:w+"square",MODAL_ZOOM_OUT:w+"maximize",MODAL_CLOSE:w+"close",MODAL_INFO:w+"info-circle-fill",MODAL_SUCCESS:w+"success-circle-fill",MODAL_WARNING:w+"warnion-circle-fill",MODAL_ERROR:w+"error-circle-fill",MODAL_QUESTION:w+"question-circle-fill",MODAL_LOADING:w+"spinner roll",TOOLBAR_TOOLS_REFRESH:w+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:w+"repeat roll",TOOLBAR_TOOLS_IMPORT:w+"upload",TOOLBAR_TOOLS_EXPORT:w+"download",TOOLBAR_TOOLS_PRINT:w+"print",TOOLBAR_TOOLS_FULLSCREEN:w+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:w+"minimize",TOOLBAR_TOOLS_CUSTOM:w+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:w+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:w+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:w+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:w+"fixed-right-fill",FORM_PREFIX:w+"question-circle-fill",FORM_SUFFIX:w+"question-circle-fill",FORM_FOLDING:w+"arrow-up rotate180",FORM_UNFOLDING:w+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,showConfirmButton:null,storageKey:"VXE_MODAL_POSITION"},drawer:{showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};function E(e){return function(e,t){const l=function(e,t){return`[vxe-table v4.6.18] ${S.i18n(e,t)}`}(e,t);return l}}const T=E(),O=E(),R={},k={mixin:t=>(e.each(t,((e,t)=>k.add(t,e))),k),get:e=>R[e]||[],add(e,t){if(t){let l=R[e];l||(l=R[e]=[]),l.push(t)}return k},delete(t,l){const o=R[t];o&&(l?e.remove(o,(e=>e===l)):delete R[t])}};const M=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={cellFormatMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};function I(e){return e&&!1!==e.enabled}function D(e){return null==e||""===e}function $(){return t.getNext()}function N(){return t.getCurrent()}function F(e){return e&&e.children&&e.children.length>0}function L(t){return t?e.toValueString(S.translate?S.translate(""+t):t):""}function A(e,t){return""+(D(e)?t?S.emptyCell:"":e)}function P(t){return""===t||e.eqNull(t)}class V{constructor(t,l,{renderHeader:o,renderCell:n,renderFooter:a,renderData:r}={}){const i=t.xegrid,s=l.formatter,c=!e.isBoolean(l.visible)||l.visible;if(Object.assign(this,{type:l.type,property:l.field,field:l.field,title:l.title,width:l.width,minWidth:l.minWidth,maxWidth:l.maxWidth,resizable:l.resizable,fixed:l.fixed,align:l.align,headerAlign:l.headerAlign,footerAlign:l.footerAlign,showOverflow:l.showOverflow,showHeaderOverflow:l.showHeaderOverflow,showFooterOverflow:l.showFooterOverflow,className:l.className,headerClassName:l.headerClassName,footerClassName:l.footerClassName,formatter:s,sortable:l.sortable,sortBy:l.sortBy,sortType:l.sortType,filters:be(l.filters),filterMultiple:!e.isBoolean(l.filterMultiple)||l.filterMultiple,filterMethod:l.filterMethod,filterResetMethod:l.filterResetMethod,filterRecoverMethod:l.filterRecoverMethod,filterRender:l.filterRender,treeNode:l.treeNode,cellType:l.cellType,cellRender:l.cellRender,editRender:l.editRender,contentRender:l.contentRender,headerExportMethod:l.headerExportMethod,exportMethod:l.exportMethod,footerExportMethod:l.footerExportMethod,titleHelp:l.titleHelp,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,params:l.params,id:l.colId||e.uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,defaultFixed:l.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:o||l.renderHeader,renderCell:n||l.renderCell,renderFooter:a||l.renderFooter,renderData:r,slots:l.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return L(this.title||("seq"===this.type?S.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const j={},B=e.browse();function H(t,l){return t?e.isFunction(t)?t(l):t:""}function _(e){return j[e]||(j[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),j[e]}function z(e,t,l){if(e){const o=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return z(e.offsetParent,t,l)}return l}function W(e){return e&&/^\d+(px)?$/.test(e)}function q(e){return e&&/^\d+%$/.test(e)}function U(e,t){return e&&e.className&&e.className.match&&e.className.match(_(t))}function X(e,t){e&&U(e,t)&&(e.className=e.className.replace(_(t),""))}function G(e,t){e&&!U(e,t)&&(X(e,t),e.className=`${e.className} ${t}`)}function Y(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function K(e){return e?e.offsetHeight:0}function Z(t){if(t){const l=getComputedStyle(t);return e.toNumber(l.paddingTop)+e.toNumber(l.paddingBottom)}return 0}function J(e,t){e&&(e.scrollTop=t)}function Q(e,t){e&&(e.scrollLeft=t)}function ee(e,t){const l="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function te(e,t,l,o){let n,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(l&&U(a,l)&&!o)n=a;else if(a===t)return{flag:!l||!!n,container:t,targetElem:n};a=a.parentNode}return{flag:!1}}function le(e,t){return z(e,t,{left:0,top:0})}function oe(e){const t=e.getBoundingClientRect(),l=t.top,o=t.left,{scrollTop:n,scrollLeft:a,visibleHeight:r,visibleWidth:i}=Y();return{boundingTop:l,top:n+l,boundingLeft:o,left:a+o,visibleHeight:r,visibleWidth:i}}const ne="scrollIntoViewIfNeeded",ae="scrollIntoView";function re(e){return e&&1===e.nodeType}const ie=(e,t)=>{const l=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(l.push(e),l.push(...ie(e.children,e))):l.push(e))})),l};function se(e,t,l){const{internalData:o}=e;return e.clearScroll().then((()=>{if(t||l)return o.lastScrollLeft=0,o.lastScrollTop=0,e.scrollTo(t,l)}))}function ce(e){e&&e._onscroll&&(e.onscroll=null)}function ue(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function de(){return e.uniqueId("row_")}function pe(e){const{props:t}=e,{computeRowOpts:l}=e.getComputeMaps(),{rowId:o}=t,n=l.value;return o||n.keyField||"_X_ROW_KEY"}function me(t,l){const o=e.get(l,pe(t));return e.eqNull(o)?"":encodeURIComponent(o)}const fe=(t,l)=>l?e.isString(l)?t.getColumnByField(l):l:null;function ge(t){if(t){const l=getComputedStyle(t);return e.toNumber(l.paddingLeft)+e.toNumber(l.paddingRight)}return 0}function he(t){if(t){const l=getComputedStyle(t),o=e.toNumber(l.marginLeft),n=e.toNumber(l.marginRight);return t.offsetWidth+o+n}return 0}function ve(e,t){return e.querySelector(".vxe-cell"+t)}function be(t){return t&&e.isArray(t)?t.map((({label:e,value:t,data:l,resetValue:o,checked:n})=>({label:e,value:t,data:l,resetValue:o,checked:!!n,_checked:!!n}))):t}function xe(t,l){return e.get(t,l.field)}function Ce(t,l,o){return e.set(t,l.field,o)}function ye(e,t,l){return(n=t)&&(n.constructor===V||n instanceof V)?t:o(new V(e,t,l));var n}function we(e,t,o){Object.keys(t).forEach((n=>{l((()=>t[n]),(t=>{o.update(n,t),e&&("filters"===n?(e.setFilter(o,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())}))}))}function Se(t,l,o,n){const{reactData:a}=t,{staticColumns:r}=a,i=l.parentNode,s=n?n.column:null,c=s?s.children:r;i&&c&&(c.splice(e.arrayIndexOf(i.children,l),0,o),a.staticColumns=r.slice(0))}function Ee(t,l){const{reactData:o}=t,{staticColumns:n}=o,a=e.findTree(n,(e=>e.id===l.id),{children:"children"});a&&a.items.splice(a.index,1),o.staticColumns=n.slice(0)}function Te(e,t){const{internalData:l}=e,{fullColumnIdData:o}=l;if(!t)return null;let n=t.parentId;for(;o[n];){const e=o[n].column;if(n=e.parentId,!n)return e}return t}function Oe(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollYLoad:a}=l,{afterFullData:r,scrollYStore:i}=o,s=n.value,c=s?s.$el:null;if(c){const l=c.querySelector(`[rowid="${me(e,t)}"]`);if(l){const t=c.clientHeight,o=c.scrollTop,n=l.offsetParent,a=l.offsetTop+(n?n.offsetTop:0),r=l.clientHeight;if(a<o||a>o+t)return e.scrollTo(null,a);if(a+r>=t+o)return e.scrollTo(null,o+r)}else if(a)return e.scrollTo(null,(r.indexOf(t)-1)*i.rowHeight)}return Promise.resolve()}function Re(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function ke(t){return e.isArray(t)?t:[t]}const Me="modelValue",Ie={transfer:!0};function De(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function $e(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Ne(t,l,o){const{dateConfig:n={}}=l;return e.toDateString(function(t,l){return t&&l.valueFormat?e.toStringDate(t,l.valueFormat):t}(t,l),n.labelFormat||o)}function Fe(e,t){return Ne(e,t,S.i18n(`vxe.input.date.labelFormat.${t.type}`))}function Le(e){return`vxe-${e.replace("$","")}`}function Ae({name:e}){return a(e)}function Pe({name:e}){return a(Le(e))}function Ve(e,t,l){const{$panel:o}=e;o.changeOption({},t,l)}function je(e){let{name:t,attrs:l}=e;return"input"===t&&(l=Object.assign({type:"text"},l)),l}function Be(e){const{name:t,immediate:l,props:o}=e;if(!l){if("VxeInput"===t||"$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return l}function He(t,l,o,n){return e.assign({immediate:Be(t)},Ie,n,t.props,{[Me]:o})}function _e(t,l,o,n){return e.assign({},Ie,n,t.props,{[Me]:o})}function ze(t,l,o,n){return e.assign({},Ie,n,t.props,{[Me]:o})}function We(e,t){return"cell"===t.$type||Be(e)}function qe(e,t,l){const{placeholder:o}=e;return[n("span",{class:"vxe-cell--label"},o&&D(l)?[n("span",{class:"vxe-cell--placeholder"},A(L(o),1))]:A(l,1))]}function Ue(t,l,o,n){const{events:a}=t,r=De(t),i=$e(t),s=i===r,c={};return a&&e.objectEach(a,((e,t)=>{c[Re(t)]=function(...t){e(l,...t)}})),o&&(c[Re(r)]=function(e){o(e),s&&n&&n(e),a&&a[r]&&a[r](l,e)}),!s&&n&&(c[Re(i)]=function(...e){n(...e),a&&a[i]&&a[i](l,...e)}),c}function Xe(t,l,o,n){const{events:a}=t,r=De(t),i=$e(t),s={};return e.objectEach(a,((e,t)=>{s[Re(t)]=function(...t){e(l,...t)}})),o&&(s[Re(r)]=function(e){o(e),a&&a[r]&&a[r](l,e)}),n&&(s[Re(i)]=function(...e){n(...e),a&&a[i]&&a[i](l,...e)}),s}function Ge(e,t){const{$table:l,row:o,column:n}=t,{name:a}=e,{model:r}=n,i=We(e,t);return Xe(e,t,(e=>{i?Ce(o,n,e):(r.update=!0,r.value=e)}),(e=>{if(!i&&["VxeInput","VxeTextarea","$input","$textarea"].includes(a)){const o=e.value;r.update=!0,r.value=o,l.updateStatus(t,o)}else l.updateStatus(t)}))}function Ye(t,l,o){return Xe(t,l,(e=>{o.data=e}),(()=>{Ve(l,!e.eqNull(o.data),o)}))}function Ke(t,l){const{$form:o,data:n,property:a}=l;return Xe(t,l,(t=>{e.set(n,a,t)}),(()=>{o.updateStatus(l)}))}function Ze(e,t){const{$table:l,row:o,column:n}=t,{model:a}=n;return Ue(e,t,(l=>{const r=l.target.value;We(e,t)?Ce(o,n,r):(a.update=!0,a.value=r)}),(e=>{const o=e.target.value;l.updateStatus(t,o)}))}function Je(t,l,o){return Ue(t,l,(e=>{o.data=e.target.value}),(()=>{Ve(l,!e.eqNull(o.data),o)}))}function Qe(t,l){const{$form:o,data:n,property:a}=l;return Ue(t,l,(t=>{const l=t.target.value;e.set(n,a,l)}),(()=>{o.updateStatus(l)}))}function et(e,t){const{row:l,column:o}=t,{name:a}=e,r=We(e,t)?xe(l,o):o.model.value;return[n(a,Object.assign(Object.assign(Object.assign({class:`vxe-default-${a}`},je(e)),{value:r}),Ze(e,t)))]}function tt(e,t){return[n(Ae(e),Object.assign(Object.assign({},He(e,0,null)),Xe(e,t)))]}function lt(e,t){const{row:l,column:o}=t,a=xe(l,o);return[n(Ae(e),Object.assign(Object.assign({},He(e,0,a)),Ge(e,t)))]}function ot(e,t){const{row:l,column:o}=t,a=xe(l,o);return[n(Pe(e),Object.assign(Object.assign({},He(e,0,a)),Ge(e,t)))]}function nt(e,t){return[n(a("vxe-button"),Object.assign(Object.assign({},He(e,0,null)),Xe(e,t)))]}function at(e,t,l){const{optionGroups:o,optionGroupProps:a={}}=e,r=a.options||"options",i=a.label||"label";return o.map(((o,a)=>n("optgroup",{key:a,label:o[i]},l(o[r],e,t))))}function rt(e,t,l){const{optionProps:o={}}=t,{row:a,column:r}=l,i=o.label||"label",s=o.value||"value",c=o.disabled||"disabled",u=We(t,l)?xe(a,r):r.model.value;return e.map(((e,t)=>n("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[i])))}function it({option:t,row:l,column:o}){const{data:n}=t;return e.get(l,o.property)==n}function st(e,t){return[n("select",Object.assign(Object.assign({class:"vxe-default-select"},je(e)),Ze(e,t)),e.optionGroups?at(e,t,rt):rt(e.options,e,t))]}function ct(e,t){const{row:l,column:o}=t,{options:a,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=xe(l,o);return[n(Ae(e),Object.assign(Object.assign({},He(e,0,c,{options:a,optionProps:r,optionGroups:i,optionGroupProps:s})),Ge(e,t)))]}function ut(e,t){const{row:l,column:o}=t,{options:a,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=xe(l,o);return[n(Pe(e),Object.assign(Object.assign({},He(e,0,c,{options:a,optionProps:r,optionGroups:i,optionGroupProps:s})),Ge(e,t)))]}function dt(t,{row:l,column:o}){const{props:n={},options:a,optionGroups:r,optionProps:i={},optionGroupProps:s={}}=t,c=e.get(l,o.property);let u;const d=i.label||"label",p=i.value||"value";return D(c)?"":e.map(n.multiple?c:[c],r?t=>{const l=s.options||"options";for(let o=0;o<r.length&&(u=e.find(r[o][l],(e=>e[p]==t)),!u);o++);return u?u[d]:t}:t=>(u=e.find(a,(e=>e[p]==t)),u?u[d]:t)).join(", ")}function pt(t,l){const{data:o,property:a}=l,{name:r}=t,i=je(t),s=e.get(o,a);return[n(r,Object.assign(Object.assign(Object.assign({class:`vxe-default-${r}`},i),{value:!i||"input"!==r||"submit"!==i.type&&"reset"!==i.type?s:null}),Qe(t,l)))]}function mt(t,l){const{data:o,property:a}=l,r=e.get(o,a);return[n(Ae(t),Object.assign(Object.assign({},ze(t,0,r)),Ke(t,l)))]}function ft(t,l){const{data:o,property:a}=l,r=e.get(o,a);return[n(Pe(t),Object.assign(Object.assign({},ze(t,0,r)),Ke(t,l)))]}function gt(e,t){return[n(a("vxe-button"),Object.assign(Object.assign({},ze(e,0,null)),Xe(e,t)))]}function ht(t,l,o){const{data:a,property:r}=o,{optionProps:i={}}=l,s=i.label||"label",c=i.value||"value",u=i.disabled||"disabled",d=e.get(a,r);return t.map(((e,t)=>n("option",{key:t,value:e[c],disabled:e[u],selected:e[c]==d},e[s])))}function vt(e){const{row:t,column:l,options:o}=e;return o.original?xe(t,l):dt(l.editRender||l.cellRender,e)}function bt(t,l){const{data:o,property:a}=l,r=e.get(o,a);return[n(Ae(t),Object.assign(Object.assign({},ze(t,0,r)),Ke(t,l)))]}function xt(t,l){const{options:o,optionProps:a}=t,{data:r,property:i}=l,s=e.get(r,i);return[n(Ae(t),Object.assign(Object.assign({options:o,optionProps:a},ze(t,0,s)),Ke(t,l)))]}function Ct(t,l){const{name:o,options:r,optionProps:i={}}=t,{data:s,property:c}=l,u=i.label||"label",d=i.value||"value",p=i.disabled||"disabled",m=e.get(s,c),f=Le(o);return r?[n(a(`${f}-group`),Object.assign(Object.assign({},ze(t,0,m)),Ke(t,l)),{default:()=>r.map(((e,t)=>n(a(f),{key:t,label:e[d],content:e[u],disabled:e[p]})))})]:[n(a(f),Object.assign(Object.assign({},ze(t,0,m)),Ke(t,l)))]}const yt={input:{autofocus:"input",renderEdit:et,renderDefault:et,renderFilter:function(e,t){const{column:l}=t,{name:o}=e,a=je(e);return l.filters.map(((l,r)=>n(o,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${o}`},a),{value:l.data}),Je(e,t,l)))))},defaultFilterMethod:it,renderItemContent:pt},textarea:{autofocus:"textarea",renderEdit:et,renderItemContent:pt},select:{renderEdit:st,renderDefault:st,renderCell:(e,t)=>qe(e,0,dt(e,t)),renderFilter(e,t){const{column:l}=t;return l.filters.map(((l,o)=>n("select",Object.assign(Object.assign({key:o,class:"vxe-default-select"},je(e)),Je(e,t,l)),e.optionGroups?at(e,t,rt):rt(e.options,e,t))))},defaultFilterMethod:it,renderItemContent:(e,t)=>[n("select",Object.assign(Object.assign({class:"vxe-default-select"},je(e)),Qe(e,t)),e.optionGroups?at(e,t,ht):ht(e.options,e,t))],exportMethod:vt},VxeInput:{autofocus:".vxe-input--inner",renderEdit:lt,renderCell(t,l){const{props:o={}}=t,{row:n,column:a}=l,r=o.digits||S.input.digits;let i=e.get(n,a.property);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=Fe(i,o);break;case"float":i=e.toFixed(e.floor(i,r),r)}return qe(t,0,i)},renderDefault:lt,renderFilter:function(e,t){const{column:l}=t;return l.filters.map(((l,o)=>{const a=l.data;return n(Ae(e),Object.assign(Object.assign({key:o},_e(e,0,a)),Ye(e,t,l)))}))},defaultFilterMethod:it,renderItemContent:mt},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:mt},VxeButton:{renderDefault:tt,renderItemContent:bt},VxeButtonGroup:{renderDefault:tt,renderItemContent(t,l){const{options:o}=t,{data:a,property:r}=l,i=e.get(a,r);return[n(Ae(t),Object.assign(Object.assign({options:o},ze(t,0,i)),Ke(t,l)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:ct,renderDefault:ct,renderCell:(e,t)=>qe(e,0,dt(e,t)),renderFilter(e,t){const{column:l}=t,{options:o,optionProps:a,optionGroups:r,optionGroupProps:i}=e;return l.filters.map(((l,s)=>{const c=l.data;return n(Ae(e),Object.assign(Object.assign({key:s},_e(e,0,c,{options:o,optionProps:a,optionGroups:r,optionGroupProps:i})),Ye(e,t,l)))}))},defaultFilterMethod:it,renderItemContent(t,l){const{data:o,property:a}=l,{options:r,optionProps:i,optionGroups:s,optionGroupProps:c}=t,u=e.get(o,a);return[n(Ae(t),Object.assign(Object.assign({},ze(t,0,u,{options:r,optionProps:i,optionGroups:s,optionGroupProps:c})),Ke(t,l)))]},exportMethod:vt},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:bt},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:xt},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:bt},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:xt},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:lt,renderDefault:lt,renderItemContent:mt},$input:{autofocus:".vxe-input--inner",renderEdit:ot,renderCell(t,l){const{props:o={}}=t,{row:n,column:a}=l,r=o.digits||S.input.digits;let i=e.get(n,a.property);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=Fe(i,o);break;case"float":i=e.toFixed(e.floor(i,r),r)}return qe(t,0,i)},renderDefault:ot,renderFilter:function(e,t){const{column:l}=t;return l.filters.map(((l,o)=>{const a=l.data;return n(Pe(e),Object.assign(Object.assign({key:o},_e(e,0,a)),Ye(e,t,l)))}))},defaultFilterMethod:it,renderItemContent:ft},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:ft},$button:{renderDefault:nt,renderItemContent:gt},$buttons:{renderDefault:function(e,t){return e.children.map((e=>nt(e,t)[0]))},renderItemContent:function(e,t){return e.children.map((e=>gt(e,t)[0]))}},$select:{autofocus:".vxe-input--inner",renderEdit:ut,renderDefault:ut,renderCell:(e,t)=>qe(e,0,dt(e,t)),renderFilter(e,t){const{column:l}=t,{options:o,optionProps:a,optionGroups:r,optionGroupProps:i}=e;return l.filters.map(((l,s)=>{const c=l.data;return n(Pe(e),Object.assign(Object.assign({key:s},_e(e,0,c,{options:o,optionProps:a,optionGroups:r,optionGroupProps:i})),Ye(e,t,l)))}))},defaultFilterMethod:it,renderItemContent(t,l){const{data:o,property:a}=l,{options:r,optionProps:i,optionGroups:s,optionGroupProps:c}=t,u=e.get(o,a);return[n(Pe(t),Object.assign(Object.assign({},ze(t,0,u,{options:r,optionProps:i,optionGroups:s,optionGroupProps:c})),Ke(t,l)))]},exportMethod:vt},$radio:{autofocus:".vxe-radio--input",renderItemContent:Ct},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:Ct},$switch:{autofocus:".vxe-switch--button",renderEdit:ot,renderDefault:ot,renderItemContent:ft}},wt={mixin:t=>(e.each(t,((e,t)=>wt.add(t,e))),wt),get:e=>yt[e]||null,add(e,t){if(e&&t){const l=yt[e];l?Object.assign(l,t):yt[e]=t}return wt},delete:e=>(delete yt[e],wt)};const St=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={commandMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};const Et=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return e.isFunction(l)&&(l={menuMethod:l}),this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}};class Tt{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return e.each(t,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(t,l){const o=this.store[t];return this.store[t]=o?e.merge(o,l):l,this}delete(e){delete this.store[e]}forEach(t){e.objectEach(this.store,t)}}const Ot=new Tt,Rt=new Tt;function kt(e){let t=e||S.theme;if(t&&"default"!==t||(t="light"),S.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}}function Mt(t,l){const o=[];return e.objectEach(t,((e,t)=>{0!==e&&e!==l||o.push(t)})),o}const It=[];const Dt=l=>(l&&(l.theme&&kt(l.theme),l.zIndex&&t.setCurrent(l.zIndex),e.merge(S,l)),Lt);const $t=new class{get zIndex(){return N()}get nextZIndex(){return $()}get exportTypes(){return Mt(S.export.types,1)}get importTypes(){return Mt(S.export.types,2)}};const Nt={};const Ft="4.6.18",Lt={v:"v4",version:Ft,tableVersion:Ft,setConfig:Dt,setIcon:function(e){return e&&Object.assign(S.icon,e),Lt},globalStore:{},interceptor:k,renderer:wt,commands:St,formats:M,validators:Ot,menus:Et,hooks:Rt,use:function(e,t){return e&&e.install&&-1===It.indexOf(e)&&(e.install(Lt,t),It.push(e)),Lt},t:function(e,t){return S.i18n(e,t)},_t:function(t,l){return t?e.toValueString(S.translate?S.translate(t,l):t):""},setTheme:kt,getTheme:function(){return S.theme},getComponent:function(e){return Nt[e]||null},config:e=>(Dt(e),S),setup:e=>(Dt(e),S),globalConfs:$t};kt("light");const At=r({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=i("$xetable",{}),{reactData:l,internalData:o,getComputeMaps:a}=t,{computeFilterOpts:r}=a(),c=s((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),u=l=>{const{filterStore:o}=e;o.options.forEach((e=>{e.checked=e._checked})),t.confirmFilterEvent(l)},d=(l,o,n)=>{const{filterStore:a}=e;a.options.forEach((e=>{e._checked=!1})),n._checked=o,t.checkFilterOptions(),u(l)},p=l=>{const{filterStore:o}=e;t.handleClearFilter(o.column),t.confirmFilterEvent(l)},m=(e,l,o)=>{o._checked=l,t.checkFilterOptions()},f=(t,l,o)=>{const{filterStore:n}=e;n.multiple?m(0,l,o):d(t,l,o)},g=(t,l)=>{const{filterStore:o}=e;o.multiple?((t,l)=>{const{filterStore:o}=e;o.options.forEach((e=>{e._checked=l,e.checked=l})),o.isAllSelected=l,o.isIndeterminate=!1})(0,l):p(t)},h={changeRadioOption:d,changeMultipleOption:m,changeAllOption:g,changeOption:f,confirmFilter:u,resetFilter:p};return()=>{const{filterStore:a}=e,{initStore:i}=l,{column:s}=a,d=s?s.filterRender:null,m=d?Lt.renderer.get(d.name):null,v=m?m.filterClassName:"",b=Object.assign({},o._currFilterParams,{$panel:h,$table:t});return n("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",H(v,b),{"is--animat":t.props.animat,"is--multiple":a.multiple,"is--active":a.visible}],style:a.style},i.filter&&a.visible?((l,a)=>{const{filterStore:r}=e,{column:i,multiple:s,maxHeight:c}=r,{slots:u}=i,d=u?u.filter:null,p=Object.assign({},o._currFilterParams,{$panel:h,$table:t});if(d)return[n("div",{class:"vxe-table--filter-template"},t.callSlot(d,p))];if(a&&a.renderFilter)return[n("div",{class:"vxe-table--filter-template"},ke(a.renderFilter(l,p)))];const m=s?r.isAllSelected:!r.options.some((e=>e._checked)),v=s&&r.isIndeterminate;return[n("ul",{class:"vxe-table--filter-header"},[n("li",{class:["vxe-table--filter-option",{"is--checked":m,"is--indeterminate":v}],title:S.i18n(s?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{g(e,!r.isAllSelected)}},(s?[n("span",{class:["vxe-checkbox--icon",v?S.icon.TABLE_CHECKBOX_INDETERMINATE:m?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([n("span",{class:"vxe-checkbox--label"},S.i18n("vxe.table.allFilter"))]))]),n("ul",{class:"vxe-table--filter-body",style:c?{maxHeight:`${c}px`}:{}},r.options.map((e=>{const t=e._checked;return n("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{f(t,!e._checked,e)}},(s?[n("span",{class:["vxe-checkbox--icon",t?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([n("span",{class:"vxe-checkbox--label"},A(e.label,1))]))})))]})(d,m).concat((()=>{const{filterStore:t}=e,{column:l,multiple:o}=t,a=r.value,i=c.value,s=l.filterRender,d=s?Lt.renderer.get(s.name):null,m=!i&&!t.isAllSelected&&!t.isIndeterminate;return!o||d&&!1===d.showFilterFooter?[]:[n("div",{class:"vxe-table--filter-footer"},[n("button",{class:{"is--disabled":m},disabled:m,onClick:u},a.confirmButtonText||S.i18n("vxe.table.confirmFilter")),n("button",{onClick:p},a.resetButtonText||S.i18n("vxe.table.resetFilter"))])]})()):[])}}});let Pt;const Vt=o({modals:[],drawers:[]}),jt=c(r({setup:()=>()=>{const{modals:e,drawers:t}=Vt;return[e.length?n("div",{class:"vxe-dynamics--modal"},e.map((e=>n(a("vxe-modal"),e)))):u(),t.length?n("div",{class:"vxe-dynamics--drawer"},t.map((e=>n(a("vxe-drawer"),e)))):u()]}}));function Bt(){Pt||(Pt=document.createElement("div"),Pt.className="vxe-dynamics",document.body.appendChild(Pt),jt.mount(Pt))}jt.component(At.name,At);const Ht=r({name:"VxeTableMenuPanel",setup(t,l){const o=e.uniqueId(),a=i("$xetable",{}),{reactData:r}=a,s=d(),c={refElem:s},m={xID:o,props:t,context:l,getRefMaps:()=>c};return m.renderVN=()=>{const{ctxMenuStore:e}=r,{computeMenuOpts:t}=a.getComputeMaps(),l=t.value;return n(p,{to:"body",disabled:!1},[n("div",{ref:s,class:["vxe-table--context-menu-wrapper",l.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,l)=>t.every((e=>!1===e.visible))?u():n("ul",{class:"vxe-context-menu--option-wrapper",key:l},t.map(((t,o)=>{const r=t.children&&t.children.some((e=>!1!==e.visible));return!1===t.visible?null:n("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${l}_${o}`},[n("a",{class:"vxe-context-menu--link",onClick(e){a.ctxMenuLinkEvent(e,t)},onMouseover(e){a.ctxMenuMouseoverEvent(e,t)},onMouseout(e){a.ctxMenuMouseoutEvent(e,t)}},[n("i",{class:["vxe-context-menu--link-prefix",t.prefixIcon]}),n("span",{class:"vxe-context-menu--link-content"},L(t.name)),n("i",{class:["vxe-context-menu--link-suffix",r?t.suffixIcon||"suffix--haschild":t.suffixIcon]})]),r?n("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,i)=>!1===r.visible?null:n("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${l}_${o}_${i}`},[n("a",{class:"vxe-context-menu--link",onClick(e){a.ctxMenuLinkEvent(e,r)},onMouseover(e){a.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){a.ctxMenuMouseoutEvent(e,t)}},[n("i",{class:["vxe-context-menu--link-prefix",r.prefixIcon]}),n("span",{class:"vxe-context-menu--link-content"},L(r.name))])])))):null])}))))))])},m},render(){return this.renderVN()}}),_t="F2",zt="Escape",Wt="Enter",qt="Tab",Ut="Delete",Xt="Backspace",Gt=" ",Yt="ContextMenu",Kt="ArrowUp",Zt="ArrowDown",Jt="ArrowLeft",Qt="ArrowRight",el="PageUp",tl="PageDown",ll={" ":"Spacebar",Apps:Yt,Del:Ut,Up:Kt,Down:Zt,Left:Jt,Right:Qt},ol=B.firefox?"DOMMouseScroll":"mousewheel",nl=[],al=(e,t)=>{const{key:l}=e;return t=t.toLowerCase(),!!l&&(t===l.toLowerCase()||!(!ll[l]||ll[l].toLowerCase()!==t))};function rl(e){const t=e.type===ol;nl.forEach((({type:l,cb:o})=>{e.cancelBubble||(l===e.type||t&&"mousewheel"===l)&&o(e)}))}const il={on(e,t,l){nl.push({comp:e,type:t,cb:l})},off(t,l){e.remove(nl,(e=>e.comp===t&&e.type===l))},trigger:rl,eqKeypad(e,t){const{key:l}=e;return t.toLowerCase()===l.toLowerCase()}};function sl(e){const t=i("xesize",null),l=s((()=>e.size||(t?t.value:null)));return m("xesize",l),l}B.isDoc&&(B.msie||(window.addEventListener("copy",rl,!1),window.addEventListener("cut",rl,!1),window.addEventListener("paste",rl,!1)),document.addEventListener("keydown",rl,!1),document.addEventListener("contextmenu",rl,!1),window.addEventListener("mousedown",rl,!1),window.addEventListener("blur",rl,!1),window.addEventListener("resize",rl,!1),window.addEventListener(ol,e.throttle(rl,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1})),jt.component(Ht.name,Ht);const cl=r({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>S.button.size||S.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>S.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(t,l){const{slots:a,emit:r}=l,c=e.uniqueId(),u=sl(t),m=o({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),v={showTime:null},b=d(),x=d(),C=d(),y={refElem:b},w={xID:c,props:t,context:l,reactData:m,internalData:v,getRefMaps:()=>y},E=i("$xebuttongroup",null);let T={};const O=s((()=>{const{type:e}=t;return!!e&&["submit","reset","button"].indexOf(e)>-1})),R=s((()=>{const{type:e,mode:l}=t;return"text"===l||"text"===e||E&&"text"===E.props.mode?"text":"button"})),k=s((()=>{const{status:e}=t;return e||(E?E.props.status:"")})),M=s((()=>{const{round:e}=t;return e||!!E&&E.props.round})),I=s((()=>{const{circle:e}=t;return e||!!E&&E.props.circle})),D=()=>h().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=m,n=x.value,a=C.value;if(a&&n){const t=n.offsetHeight,r=n.offsetWidth,i=a.offsetHeight,s=a.offsetWidth,c=5,u={zIndex:o},{top:d,left:p,boundingTop:f,visibleHeight:g,visibleWidth:v}=oe(n);let b="bottom";if(e){let e=p+r-s,o=d+t;"top"===l?(b="top",o=d-i):l||(f+t+i+c>g&&(b="top",o=d-i),o<c&&(b="bottom",o=d+t)),e+s+c>v&&(e-=e+s+c-v),e<c&&(e=c),Object.assign(u,{left:`${e}px`,right:"auto",top:`${o}px`,minWidth:`${r}px`})}else"top"===l?(b="top",u.bottom=`${t}px`):l||f+t+i>g&&f-t-i>c&&(b="top",u.bottom=`${t}px`);return m.panelStyle=u,m.panelPlacement=b,h()}})),F=e=>{E?E.handleClick({name:t.name},e):T.dispatchEvent("click",{$event:e},e)},A=e=>{0===e.button&&e.stopPropagation()},P=e=>{const t=e.currentTarget,l=C.value,{flag:o,targetElem:n}=te(e,t,"vxe-button");o&&(l&&(l.dataset.active="N"),m.showPanel=!1,setTimeout((()=>{l&&"Y"===l.dataset.active||(m.animatVisible=!1)}),350),T.dispatchEvent("dropdown-click",{name:n.getAttribute("name"),$event:e},e))},V=()=>{const e=C.value;e&&(e.dataset.active="Y",m.animatVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(m.showPanel=!0,m.panelIndex<N()&&(m.panelIndex=$()),D(),setTimeout((()=>{m.showPanel&&D()}),50))}),20))},j=e=>{const t=C.value;t&&(t.dataset.active="Y",m.inited||(m.inited=!0),v.showTime=setTimeout((()=>{"Y"===t.dataset.active?V():m.animatVisible=!1}),250)),H(e)},B=e=>{z(),_(e)},H=e=>{r("mouseenter",{$event:e})},_=e=>{r("mouseleave",{$event:e})},z=()=>{const e=C.value;clearTimeout(v.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(m.showPanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(m.animatVisible=!1)}),350))}),100)):(m.animatVisible=!1,m.showPanel=!1)},W=()=>{z()},q=()=>{const{content:e,icon:l,loading:o}=t,r=[];return o?r.push(n("i",{class:["vxe-button--loading-icon",S.icon.BUTTON_LOADING]})):a.icon?r.push(n("span",{class:"vxe-button--custom-icon"},a.icon({}))):l&&r.push(n("i",{class:["vxe-button--icon",l]})),a.default?r.push(n("span",{class:"vxe-button--content"},a.default({}))):e&&r.push(n("span",{class:"vxe-button--content"},L(e))),r};T={dispatchEvent(e,t,l){r(e,Object.assign({$button:w,$event:l},t))},focus:()=>(x.value.focus(),h()),blur:()=>(x.value.blur(),h())},Object.assign(w,T),f((()=>{il.on(w,"mousewheel",(e=>{const t=C.value;m.showPanel&&!te(e,t).flag&&z()}))})),g((()=>{il.off(w,"mousewheel")}));return w.renderVN=()=>{const{className:l,popupClassName:o,transfer:r,title:i,type:s,destroyOnClose:c,name:d,disabled:f,loading:g}=t,{inited:h,showPanel:v}=m,y=O.value,E=R.value,T=k.value,D=M.value,$=I.value,N=u.value;return a.dropdowns?n("div",{ref:b,class:["vxe-button--dropdown",l?e.isFunction(l)?l({$button:w}):l:"",{[`size--${N}`]:N,"is--active":v}]},[n("button",{ref:x,class:["vxe-button",`type--${E}`,{[`size--${N}`]:N,[`theme--${T}`]:T,"is--round":D,"is--circle":$,"is--disabled":f||g,"is--loading":g}],title:i,name:d,type:y?s:"button",disabled:f||g,onMouseenter:j,onMouseleave:B,onClick:F},q().concat([n("i",{class:`vxe-button--dropdown-arrow ${S.icon.BUTTON_DROPDOWN}`})])),n(p,{to:"body",disabled:!r||!h},[n("div",{ref:C,class:["vxe-button--dropdown-panel",o?e.isFunction(o)?o({$button:w}):o:"",{[`size--${N}`]:N,"animat--leave":m.animatVisible,"animat--enter":v}],placement:m.panelPlacement,style:m.panelStyle},h?[n("div",{class:"vxe-button--dropdown-wrapper",onMousedown:A,onClick:P,onMouseenter:V,onMouseleave:W},c&&!v?[]:a.dropdowns({}))]:[])])]):n("button",{ref:x,class:["vxe-button",`type--${E}`,l?e.isFunction(l)?l({$button:w}):l:"",{[`size--${N}`]:N,[`theme--${T}`]:T,"is--round":D,"is--circle":$,"is--disabled":f||g,"is--loading":g}],title:i,name:d,type:y?s:"button",disabled:f||g,onClick:F,onMouseenter:H,onMouseleave:_},q())},w},render(){return this.renderVN()}}),ul=r({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const l=s((()=>e.icon||S.icon.LOADING)),o=s((()=>{const t=S.loadingText;return e.text||(null===t?t:S.i18n("vxe.loading.text"))}));return()=>{const a=l.value,r=o.value;return n("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[n("div",{class:"vxe-loading--wrapper"},t.default({}))]:[n("div",{class:"vxe-loading--chunk"},[a?n("i",{class:a}):n("div",{class:"vxe-loading--spinner"}),r?n("div",{class:"vxe-loading--text"},`${r}`):null])])}}}),dl=Object.assign(ul,{install(e){e.component(ul.name,ul)}}),pl=[],ml=[],fl=r({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>S.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>S.modal.duration},message:[Number,String],content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>S.modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>S.modal.showConfirmButton},confirmButtonText:{type:String,default:()=>S.modal.confirmButtonText},lockView:{type:Boolean,default:()=>S.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>S.modal.mask},maskClosable:{type:Boolean,default:()=>S.modal.maskClosable},escClosable:{type:Boolean,default:()=>S.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>S.modal.showHeader},showFooter:{type:Boolean,default:()=>S.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>S.modal.showClose},dblclickZoom:{type:Boolean,default:()=>S.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>S.modal.minWidth},minHeight:{type:[Number,String],default:()=>S.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>S.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>S.modal.draggable},remember:{type:Boolean,default:()=>S.modal.remember},destroyOnClose:{type:Boolean,default:()=>S.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>S.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>S.modal.transfer},storage:{type:Boolean,default:()=>S.modal.storage},storageKey:{type:String,default:()=>S.modal.storageKey},animat:{type:Boolean,default:()=>S.modal.animat},size:{type:String,default:()=>S.modal.size||S.size},beforeHideMethod:{type:Function,default:()=>S.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(t,a){const{slots:r,emit:i}=a,c=e.uniqueId(),u=sl(t),m=o({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),v=d(),b=d(),x=d(),C=d(),y={refElem:v},w={xID:c,props:t,context:a,reactData:m,getRefMaps:()=>y};let E={};const T=s((()=>"message"===t.type)),R=()=>b.value,k=()=>{const{width:e,height:l}=t,o=R();return o.style.width=`${e?isNaN(e)?e:`${e}px`:""}`,o.style.height=`${l?isNaN(l)?l:`${l}px`:""}`,h()},M=()=>{const{zIndex:e}=t,{modalZindex:l}=m;e?m.modalZindex=e:l<N()&&(m.modalZindex=$())},I=()=>h().then((()=>{const{position:l}=t,o=e.toNumber(t.marginSize),n=R(),a=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,i="center"===l,{top:s,left:c}=e.isString(l)?{top:l,left:l}:Object.assign({},l),u=i||"center"===s;let d="",p="";p=c&&!(i||"center"===c)?isNaN(c)?c:`${c}px`:`${Math.max(o,a/2-n.offsetWidth/2)}px`,d=s&&!u?isNaN(s)?s:`${s}px`:`${Math.max(o,r/2-n.offsetHeight/2)}px`,n.style.top=d,n.style.left=p})),D=()=>{h((()=>{let t=0;ml.forEach((l=>{const o=l.getBox();t+=e.toNumber(l.props.top),l.reactData.modalTop=t,t+=o.clientHeight}))}))},F=()=>{ml.indexOf(w)>-1&&e.remove(ml,(e=>e===w)),D()},A=l=>{const{remember:o,beforeHideMethod:n}=t,{visible:a}=m,r=T.value,s={type:l};return a&&Promise.resolve(n?n(s):null).then((t=>{e.isError(t)||(r&&F(),m.contentVisible=!1,o||(m.zoomLocat=null),e.remove(pl,(e=>e===w)),E.dispatchEvent("before-hide",s),setTimeout((()=>{m.visible=!1,i("update:modelValue",!1),E.dispatchEvent("hide",s)}),200))})).catch((e=>e)),h()},P=e=>{const t="close";E.dispatchEvent(t,{type:t},e),A(t)},V=e=>{const t="confirm";E.dispatchEvent(t,{type:t},e),A(t)},j=e=>{const t="cancel";E.dispatchEvent(t,{type:t},e),A(t)},B=t=>{const l=S.version,o=e.toStringJSON(localStorage.getItem(t)||"");return o&&o._v===l?o:{_v:l}},H=()=>{const{id:l,remember:o,storage:n,storageKey:a}=t,{zoomLocat:r}=m;if(l&&o&&n){const t=R(),o=B(a);o[l]=[t.style.left,t.style.top,t.style.width,t.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((t=>t?e.toNumber(t):"")).join(","),localStorage.setItem(a,e.toJSONString(o))}},_=()=>h().then((()=>{if(!m.zoomLocat){const l=Math.max(0,e.toNumber(t.marginSize)),o=R(),{visibleHeight:n,visibleWidth:a}=Y();m.zoomLocat={top:o.offsetTop,left:o.offsetLeft,width:o.offsetWidth+(o.style.width?0:1),height:o.offsetHeight+(o.style.height?0:1)},Object.assign(o.style,{top:`${l}px`,left:`${l}px`,width:a-2*l+"px",height:n-2*l+"px"}),H()}})),z=()=>{const{duration:l,remember:o,showFooter:n}=t,{inited:a,visible:r}=m,s=T.value;return a||(m.inited=!0),r||(o||k(),m.visible=!0,m.contentVisible=!1,M(),pl.push(w),setTimeout((()=>{m.contentVisible=!0,h((()=>{if(n){const e=x.value,t=C.value,l=e||t;l&&l.focus()}const e={type:""};i("update:modelValue",!0),E.dispatchEvent("show",e)}))}),10),s?(-1===ml.indexOf(w)&&ml.push(w),D(),-1!==l&&setTimeout((()=>A("close")),e.toNumber(l))):h((()=>{const{fullscreen:e}=t,{firstOpen:l}=m;o&&!l||I().then((()=>{setTimeout((()=>I()),20)})),l?(m.firstOpen=!1,(()=>{const{id:e,remember:l,storage:o,storageKey:n}=t;return!!(e&&l&&o&&B(n)[e])})()?(()=>{const{id:e,remember:l,storage:o,storageKey:n}=t;if(e&&l&&o){const t=B(n)[e];if(t){const e=R(),[l,o,n,a,r,i,s,c]=t.split(",");l&&(e.style.left=`${l}px`),o&&(e.style.top=`${o}px`),n&&(e.style.width=`${n}px`),a&&(e.style.height=`${a}px`),r&&i&&(m.zoomLocat={left:r,top:i,width:s,height:c})}}})():e&&h((()=>_()))):e&&h((()=>_()))}))),h()},W=e=>{const l=v.value;if(t.maskClosable&&e.target===l){A("mask")}},q=t=>{if(al(t,zt)){const t=e.max(pl,(e=>e.reactData.modalZindex));t&&setTimeout((()=>{t===w&&t.props.escClosable&&A("exit")}),10)}},U=()=>!!m.zoomLocat,X=()=>h().then((()=>{const{zoomLocat:e}=m;if(e){const t=R();m.zoomLocat=null,Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),H()}})),G=()=>m.zoomLocat?X().then((()=>U())):_().then((()=>U())),K=e=>{const{zoomLocat:t}=m,l={type:t?"revert":"max"};return G().then((()=>{E.dispatchEvent("zoom",l,e)}))},Z=()=>{const{modalZindex:e}=m;pl.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&M()},J=l=>{const{remember:o,storage:n}=t,{zoomLocat:a}=m,r=e.toNumber(t.marginSize),s=R();if(!a&&0===l.button&&!te(l,s,"trigger--btn").flag){l.preventDefault();const e=document.onmousemove,t=document.onmouseup,a=l.clientX-s.offsetLeft,c=l.clientY-s.offsetTop,{visibleHeight:u,visibleWidth:d}=Y();document.onmousemove=e=>{e.preventDefault();const t=s.offsetWidth,l=s.offsetHeight,o=r,n=d-t-r-1,p=r,m=u-l-r-1;let f=e.clientX-a,g=e.clientY-c;f>n&&(f=n),f<o&&(f=o),g>m&&(g=m),g<p&&(g=p),s.style.left=`${f}px`,s.style.top=`${g}px`,s.className=s.className.replace(/\s?is--drag/,"")+" is--drag",i("move",{type:"move",$event:e})},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=t,o&&n&&h((()=>{H()})),setTimeout((()=>{s.className=s.className.replace(/\s?is--drag/,"")}),50)}}},Q=l=>{l.preventDefault();const{remember:o,storage:n}=t,{visibleHeight:a,visibleWidth:r}=Y(),i=e.toNumber(t.marginSize),s=l.target.getAttribute("type"),c=e.toNumber(t.minWidth),u=e.toNumber(t.minHeight),d=r,p=a,f=R(),g=document.onmousemove,h=document.onmouseup,v=f.clientWidth,b=f.clientHeight,x=l.clientX,C=l.clientY,y=f.offsetTop,w=f.offsetLeft,S={type:"resize"};document.onmousemove=e=>{let t,l,m,g;switch(e.preventDefault(),s){case"wl":t=x-e.clientX,m=t+v,w-t>i&&m>c&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px");break;case"swst":t=x-e.clientX,l=C-e.clientY,m=t+v,g=l+b,w-t>i&&m>c&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px"),y-l>i&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-l+"px");break;case"swlb":t=x-e.clientX,l=e.clientY-C,m=t+v,g=l+b,w-t>i&&m>c&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px"),y+g+i<a&&g>u&&(f.style.height=`${g<p?g:p}px`);break;case"st":l=C-e.clientY,g=b+l,y-l>i&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-l+"px");break;case"wr":t=e.clientX-x,m=t+v,w+m+i<r&&m>c&&(f.style.width=`${m<d?m:d}px`);break;case"sest":t=e.clientX-x,l=C-e.clientY,m=t+v,g=l+b,w+m+i<r&&m>c&&(f.style.width=`${m<d?m:d}px`),y-l>i&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-l+"px");break;case"selb":t=e.clientX-x,l=e.clientY-C,m=t+v,g=l+b,w+m+i<r&&m>c&&(f.style.width=`${m<d?m:d}px`),y+g+i<a&&g>u&&(f.style.height=`${g<p?g:p}px`);break;case"sb":l=e.clientY-C,g=l+b,y+g+i<a&&g>u&&(f.style.height=`${g<p?g:p}px`)}f.className=f.className.replace(/\s?is--drag/,"")+" is--drag",o&&n&&H(),E.dispatchEvent("resize",S,e)},document.onmouseup=()=>{m.zoomLocat=null,document.onmousemove=g,document.onmouseup=h,setTimeout((()=>{f.className=f.className.replace(/\s?is--drag/,"")}),50)}};E={dispatchEvent(e,t,l){i(e,Object.assign({$modal:w,$event:l},t))},open:z,close:()=>A("close"),getBox:R,getPosition:()=>{if(!T.value){const e=R();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(t,l)=>{if(!T.value){const o=R();e.isNumber(t)&&(o.style.top=`${t}px`),e.isNumber(l)&&(o.style.left=`${l}px`)}return h()},isMaximized:U,zoom:G,maximize:_,revert:X},Object.assign(w,E);const ee=()=>{const{slots:e={},showZoom:l,draggable:o}=t,a=T.value,i=r.header||e.header,s=[];if(t.showHeader){const e={};o&&(e.onMousedown=J),l&&t.dblclickZoom&&"modal"===t.type&&(e.onDblclick=K),s.push(n("div",Object.assign({class:["vxe-modal--header",{"is--draggable":o,"is--ellipsis":!a&&t.showTitleOverflow}]},e),i?!m.inited||t.destroyOnClose&&!m.visible?[]:ke(i({$modal:w})):(()=>{const{slots:e={},showClose:l,showZoom:o,title:a}=t,{zoomLocat:i}=m,s=r.title||e.title,c=r.corner||e.corner,u=[n("div",{class:"vxe-modal--header-title"},s?ke(s({$modal:w})):a?L(a):S.i18n("vxe.alert.title"))],d=[];return c&&d.push(n("span",{class:"vxe-modal--corner-wrapper"},ke(c({$modal:w})))),o&&d.push(n("i",{class:["vxe-modal--zoom-btn","trigger--btn",i?S.icon.MODAL_ZOOM_OUT:S.icon.MODAL_ZOOM_IN],title:S.i18n("vxe.modal.zoom"+(i?"Out":"In")),onClick:K})),l&&d.push(n("i",{class:["vxe-modal--close-btn","trigger--btn",S.icon.MODAL_CLOSE],title:S.i18n("vxe.modal.close"),onClick:P})),u.push(n("div",{class:"vxe-modal--header-right"},d)),u})()))}return s},le=()=>{const{slots:e={},status:l,message:o}=t,a=t.content||o,i=T.value,s=r.default||e.default,c=[];return l&&c.push(n("div",{class:"vxe-modal--status-wrapper"},[n("i",{class:["vxe-modal--status-icon",t.iconStatus||S.icon[`MODAL_${l}`.toLocaleUpperCase()]]})])),c.push(n("div",{class:"vxe-modal--content"},s?!m.inited||t.destroyOnClose&&!m.visible?[]:ke(s({$modal:w})):L(a))),i||c.push(n(dl,{class:"vxe-modal--loading",modelValue:t.loading})),[n("div",{class:"vxe-modal--body"},c)]},oe=()=>{const{slots:l={}}=t,o=T.value,a=r.footer||l.footer,i=[];return t.showFooter&&i.push(n("div",{class:"vxe-modal--footer"},a?!m.inited||t.destroyOnClose&&!m.visible?[]:ke(a({$modal:w})):(()=>{const{showCancelButton:l,showConfirmButton:o,type:a}=t,r=[];return(e.isBoolean(l)?l:"confirm"===a)&&r.push(n(cl,{key:1,ref:C,content:t.cancelButtonText||S.i18n("vxe.button.cancel"),onClick:j})),(e.isBoolean(o)?o:"confirm"===a||"alert"===a)&&r.push(n(cl,{key:2,ref:x,status:"primary",content:t.confirmButtonText||S.i18n("vxe.button.confirm"),onClick:V})),r})())),!o&&t.resize&&i.push(n("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>n("span",{class:`${e}-resize`,type:e,onMousedown:Q}))))),i};return w.renderVN=()=>{const{className:e,type:l,animat:o,loading:a,status:r,lockScroll:i,lockView:s,mask:c,resize:d}=t,{inited:f,zoomLocat:g,modalTop:h,contentVisible:x,visible:C}=m,y=u.value;return n(p,{to:"body",disabled:!t.transfer||!f},[n("div",{ref:v,class:["vxe-modal--wrapper",`type--${l}`,e||"",{[`size--${y}`]:y,[`status--${r}`]:r,"is--animat":o,"lock--scroll":i,"lock--view":s,"is--resize":d,"is--mask":c,"is--maximize":g,"is--visible":x,"is--active":C,"is--loading":a}],style:{zIndex:m.modalZindex,top:h?`${h}px`:null},onClick:W},[n("div",{ref:b,class:"vxe-modal--box",onMousedown:Z},ee().concat(le(),oe()))])])},l((()=>t.width),k),l((()=>t.height),k),l((()=>t.modelValue),(e=>{e?z():A("model")})),f((()=>{h((()=>{t.storage&&!t.id&&O("vxe.error.reqProp",["modal.id"]),t.modelValue&&z(),k()})),t.escClosable&&il.on(w,"keydown",q)})),g((()=>{il.off(w,"keydown"),F()})),w},render(){return this.renderVN()}});function gl(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function hl(t){return e.isString(t)?t.replace(/,/g,""):t}function vl(t,l){return/^-/.test(""+t)?e.toFixed(e.ceil(t,l),l):e.toFixed(e.floor(t,l),l)}const bl=12,xl=r({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>S.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>e.eqNull(S.input.placeholder)?S.i18n("vxe.base.pleaseInput"):S.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>S.input.size||S.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>S.input.exponential},controls:{type:Boolean,default:()=>S.input.controls},digits:{type:[String,Number],default:()=>S.input.digits},startDate:{type:[String,Number,Date],default:()=>S.input.startDate},endDate:{type:[String,Number,Date],default:()=>S.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>S.input.startDay},labelFormat:{type:String,default:()=>S.input.labelFormat},valueFormat:{type:String,default:()=>S.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>S.input.festivalMethod},disabledMethod:{type:Function,default:()=>S.input.disabledMethod},selectDay:{type:[String,Number],default:()=>S.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>S.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(t,a){const{slots:r,emit:c}=a,u=i("$xeform",null),m=i("$xeformiteminfo",null),f=e.uniqueId(),v=sl(t),b=o({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:t.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),x=d(),C=d(),y=d(),w=d(),E={refElem:x,refInput:C},T={xID:f,props:t,context:a,reactData:b,getRefMaps:()=>E};let O={};const R=(l,o)=>{const{type:n}=t;return"time"===n?function(t){if(t){const l=new Date;let o=0,n=0,a=0;if(e.isDate(t))o=t.getHours(),n=t.getMinutes(),a=t.getSeconds();else{const l=(t=e.toValueString(t)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);l&&(o=e.toNumber(l[1]),n=e.toNumber(l[3]),a=e.toNumber(l[5]))}return l.setHours(o),l.setMinutes(n),l.setSeconds(a),l}return new Date("")}(l):e.toStringDate(l,o)},k=s((()=>{const{type:e}=t;return"time"===e||"datetime"===e})),M=s((()=>["number","integer","float"].indexOf(t.type)>-1)),I=s((()=>e.getSize(b.inputValue))),D=s((()=>{const l=I.value;return t.maxlength&&l>e.toNumber(t.maxlength)})),F=s((()=>k.value||["date","week","month","quarter","year"].indexOf(t.type)>-1)),A=s((()=>"password"===t.type)),P=s((()=>"search"===t.type)),V=s((()=>e.toInteger(t.digits)||1)),j=s((()=>{const{type:l}=t,o=V.value,n=t.step;return"integer"===l?e.toInteger(n)||1:"float"===l?e.toNumber(n)||1/Math.pow(10,o):e.toNumber(n)||1})),B=s((()=>{const{type:e}=t,l=M.value,o=F.value,n=A.value;return t.clearable&&(n||l||o||"text"===e||"search"===e)})),H=s((()=>t.startDate?e.toStringDate(t.startDate):null)),_=s((()=>t.endDate?e.toStringDate(t.endDate):null)),z=s((()=>["date","week","month","quarter","year"].includes(t.type))),W=s((()=>{const{modelValue:l,multiple:o}=t,n=F.value,a=G.value;return o&&l&&n?e.toValueString(l).split(",").map((t=>{const l=R(t,a);return e.isValidDate(l)?l:null})):[]})),q=s((()=>{const t=W.value,l=G.value;return t.map((t=>e.toDateString(t,l)))})),X=s((()=>{const t=W.value,l=ee.value;return t.map((t=>e.toDateString(t,l))).join(", ")})),G=s((()=>{const{type:e}=t;return"time"===e?"HH:mm:ss":t.valueFormat||("datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),Y=s((()=>{const{modelValue:l}=t,o=F.value,n=G.value;let a=null;if(l&&o){const t=R(l,n);e.isValidDate(t)&&(a=t)}return a})),K=s((()=>{const e=H.value,{selectMonth:t}=b;return!(!t||!e)&&t<=e})),Z=s((()=>{const e=_.value,{selectMonth:t}=b;return!(!t||!e)&&t>=e})),J=s((()=>{const{datetimePanelValue:t}=b;return t?e.toDateString(t,"HH:mm:ss"):""})),Q=s((()=>{const e=Y.value,t=k.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),ee=s((()=>F.value?t.labelFormat||S.i18n(`vxe.input.date.labelFormat.${t.type}`):null)),le=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),a=t.getFullYear(),r=new Date(a-a%bl,0,1);for(let t=-4;t<16;t++){const l=e.getWhatYear(r,t,"first"),a=l.getFullYear();o.push({date:l,isCurrent:!0,isPrev:t<0,isNow:n===a,isNext:t>=bl,year:a})}}return o})),ne=s((()=>{if(F.value){const{datePanelType:e,selectMonth:t}=b,l=le.value;let o,n="";return t&&(n=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?S.i18n("vxe.input.date.quarterLabel",[n]):"month"===e?S.i18n("vxe.input.date.monthLabel",[n]):"year"===e?l.length?`${l[0].year} - ${l[l.length-1].year}`:"":S.i18n("vxe.input.date.dayLabel",[n,o?S.i18n(`vxe.input.date.m${o}`):"-"])}return""})),ae=s((()=>{const{startDay:l,startWeek:o}=t;return e.toNumber(e.isNumber(l)||e.isString(l)?l:o)})),re=s((()=>{const e=[];if(F.value){let t=ae.value;e.push(t);for(let l=0;l<6;l++)t>=6?t=0:t++,e.push(t)}return e})),ie=s((()=>{if(F.value){return re.value.map((e=>({value:e,label:S.i18n(`vxe.input.date.weeks.w${e}`)})))}return[]})),se=s((()=>{if(F.value){const e=ie.value;return[{label:S.i18n("vxe.input.date.weeks.w")}].concat(e)}return[]})),ce=s((()=>{const t=le.value;return e.chunk(t,4)})),ue=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),a=gl(l),r=e.getWhatYear(t,0,"first"),i=r.getFullYear();for(let t=-2;t<6;t++){const l=e.getWhatQuarter(r,t),s=l.getFullYear(),c=gl(l),u=s<i;o.push({date:l,isPrev:u,isCurrent:s===i,isNow:s===n&&c===a,isNext:!u&&s>i,quarter:c})}}return o})),de=s((()=>{const t=ue.value;return e.chunk(t,2)})),pe=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=l.getFullYear(),a=l.getMonth(),r=e.getWhatYear(t,0,"first").getFullYear();for(let l=-4;l<16;l++){const i=e.getWhatYear(t,0,l),s=i.getFullYear(),c=i.getMonth(),u=s<r;o.push({date:i,isPrev:u,isCurrent:s===r,isNow:s===n&&c===a,isNext:!u&&s>r,month:c})}}return o})),me=s((()=>{const t=pe.value;return e.chunk(t,4)})),fe=s((()=>{const{selectMonth:t,currentDate:l}=b,o=[];if(t&&l){const n=Q.value,a=re.value,r=l.getFullYear(),i=l.getMonth(),s=l.getDate(),c=t.getFullYear(),u=t.getMonth(),d=t.getDay(),p=-a.indexOf(d),m=new Date(e.getWhatDay(t,p).getTime()+n);for(let l=0;l<42;l++){const n=e.getWhatDay(m,l),a=n.getFullYear(),d=n.getMonth(),p=n.getDate(),f=n<t;o.push({date:n,isPrev:f,isCurrent:a===c&&d===u,isNow:a===r&&d===i&&p===s,isNext:!f&&u!==d,label:p})}}return o})),ge=s((()=>{const t=fe.value;return e.chunk(t,7)})),he=s((()=>{const t=ge.value,l=ae.value;return t.map((t=>{const o=t[0];return[{date:o.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:e.getYearWeek(o.date,l)}].concat(t)}))})),ve=s((()=>{const e=[];if(k.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),be=s((()=>{const e=[];if(k.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),xe=s((()=>be.value)),Ce=s((()=>{const{type:e,readonly:l,editable:o,multiple:n}=t;return l||n||!o||"week"===e||"quarter"===e})),ye=s((()=>{const{type:e}=t,{showPwd:l}=b,o=M.value,n=F.value,a=A.value;return n||o||a&&l||"number"===e?"text":e})),we=s((()=>{const{placeholder:e}=t;return e?L(e):""})),Se=s((()=>{const{maxlength:l}=t;return M.value&&!e.toNumber(l)?16:l})),Ee=s((()=>{const{type:e,immediate:l}=t;return l||!("text"===e||"number"===e||"integer"===e||"float"===e)})),Te=s((()=>{const{type:l}=t,{inputValue:o}=b;return M.value?"integer"===l?e.toInteger(hl(o)):e.toNumber(hl(o)):0})),Oe=s((()=>{const{min:l}=t,{inputValue:o}=b,n=M.value,a=Te.value;return!(!o&&0!==o||!n||null===l)&&a<=e.toNumber(l)})),Re=s((()=>{const{max:l}=t,{inputValue:o}=b,n=M.value,a=Te.value;return!(!o&&0!==o||!n||null===l)&&a>=e.toNumber(l)})),ke=l=>{const{type:o,exponential:n}=t,a=Se.value,r=V.value,i="float"===o?vl(l,r):e.toValueString(l);return!n||l!==i&&e.toValueString(l).toLowerCase()!==e.toNumber(i).toExponential()?i.slice(0,a):l},Me=e=>{const{inputValue:t}=b;O.dispatchEvent(e.type,{value:t},e)},Ie=(l,o)=>{b.inputValue=l,c("update:modelValue",l),O.dispatchEvent("input",{value:l},o),e.toValueString(t.modelValue)!==l&&(O.dispatchEvent("change",{value:l},o),u&&m&&u.triggerItemEvent(o,m.itemConfig.field,l))},De=(e,t)=>{const l=F.value,o=Ee.value;b.inputValue=e,l||(o?Ie(e,t):O.dispatchEvent("input",{value:e},t))},$e=e=>{const t=e.target.value;De(t,e)},Ne=e=>{Ee.value||Me(e)},Fe=e=>{b.isActivated=!0;F.value&&Rt(e),Me(e)},Le=e=>{const{disabled:l}=t;if(!l){const{inputValue:t}=b;O.dispatchEvent("prefix-click",{value:t},e)}};let Ae;const Pe=()=>new Promise((e=>{b.visiblePanel=!1,Ae=window.setTimeout((()=>{b.animatVisible=!1,e()}),350)})),Ve=(e,l)=>{const{type:o}=t,n=M.value;F.value&&Pe(),(n||["text","search","password"].indexOf(o)>-1)&&focus(),O.dispatchEvent("clear",{value:l},e)},je=e=>{const{disabled:l}=t;if(!l)if(U(e.currentTarget,"is--clear"))Ie("",e),Ve(e,"");else{const{inputValue:t}=b;O.dispatchEvent("suffix-click",{value:t},e)}},Be=l=>{const{type:o}=t,{valueFormat:n}=t,a=ee.value,r=ae.value;let i=null,s="";if(l&&(i=R(l,n)),e.isValidDate(i)){if(s=e.toDateString(i,a,{firstDay:r}),a&&"week"===o){if(e.getWhatWeek(i,0,r,r).getFullYear()<i.getFullYear()){const e=a.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;b.datePanelValue=i,b.datePanelLabel=s},He=()=>{const e=F.value,{inputValue:l}=b;e&&(Be(l),b.inputValue=t.multiple?X.value:b.datePanelLabel)},_e=()=>{const{type:e}=t,{inputValue:l}=b,o=F.value,n=V.value;if(o)He();else if("float"===e&&l){const e=vl(l,n);l!==e&&Ie(e,{type:"init"})}},ze=l=>null===t.max||e.toNumber(l)<=e.toNumber(t.max),We=l=>null===t.min||e.toNumber(l)>=e.toNumber(t.min),qe=t=>{const l=e.getWhatMonth(t,0,"first");e.isEqual(l,b.selectMonth)||(b.selectMonth=l)},Ue=l=>{const{modelValue:o,multiple:n}=t,{datetimePanelValue:a}=b,r=k.value,i=G.value,s=ae.value;if("week"===t.type){const o=e.toNumber(t.selectDay);l=e.getWhatWeek(l,0,o,s)}else r&&(l.setHours(a.getHours()),l.setMinutes(a.getMinutes()),l.setSeconds(a.getSeconds()));const c=e.toDateString(l,i,{firstDay:s});if(qe(l),n){const t=q.value;if(r){const t=[...W.value],o=[],n=e.findIndexOf(t,(t=>e.isDateSame(l,t,"yyyyMMdd")));-1===n?t.push(l):t.splice(n,1),t.forEach((e=>{e&&(e.setHours(a.getHours()),e.setMinutes(a.getMinutes()),e.setSeconds(a.getSeconds()),o.push(e))})),Ie(o.map((t=>e.toDateString(t,i))).join(","),{type:"update"})}else t.some((t=>e.isEqual(t,c)))?Ie(t.filter((t=>!e.isEqual(t,c))).join(","),{type:"update"}):Ie(t.concat([c]).join(","),{type:"update"})}else e.isEqual(o,c)||Ie(c,{type:"update"})},Xe=()=>{const{type:l,min:o,max:n,exponential:a}=t,{inputValue:r,datetimePanelValue:i}=b,s=M.value,c=F.value,u=ee.value;if(!Ce.value)if(s){if(r){let t="integer"===l?e.toInteger(hl(r)):e.toNumber(hl(r));if(We(t)?ze(t)||(t=n):t=o,a){const l=e.toValueString(r).toLowerCase();l===e.toNumber(t).toExponential()&&(t=l)}Ie(ke(t),{type:"check"})}}else if(c)if(r){let o=R(r,u);if(e.isValidDate(o))if("time"===l)o=e.toDateString(o,u),r!==o&&Ie(o,{type:"check"}),b.inputValue=o;else{let t=!1;const n=ae.value;if("datetime"===l){const l=Y.value;r===e.toDateString(l,u)&&r===e.toDateString(o,u)||(t=!0,i.setHours(o.getHours()),i.setMinutes(o.getMinutes()),i.setSeconds(o.getSeconds()))}else t=!0;b.inputValue=e.toDateString(o,u,{firstDay:n}),t&&Ue(o)}else b.inputValue=t.multiple?X.value:b.datePanelLabel}else Ie("",{type:"check"})},Ge=e=>{const{inputValue:t}=b;Ee.value||Ie(t,e),Xe(),b.visiblePanel||(b.isActivated=!1),O.dispatchEvent("blur",{value:t},e)},Ye=e=>{const{readonly:l,disabled:o}=t,{showPwd:n}=b;o||l||(b.showPwd=!n),O.dispatchEvent("toggle-visible",{visible:b.showPwd},e)},Ke=e=>{O.dispatchEvent("search-click",{},e)},Ze=(l,o)=>{const{min:n,max:a,type:r}=t,{inputValue:i}=b,s=j.value,c="integer"===r?e.toInteger(hl(i)):e.toNumber(hl(i)),u=l?e.add(c,s):e.subtract(c,s);let d;d=We(u)?ze(u)?u:a:n,De(ke(d),o)};let Je;const Qe=e=>{const{readonly:l,disabled:o}=t,n=Oe.value;clearTimeout(Je),o||l||n||Ze(!1,e),O.dispatchEvent("next-number",{},e)},et=e=>{Je=window.setTimeout((()=>{Qe(e),et(e)}),60)},tt=e=>{const{readonly:l,disabled:o}=t,n=Re.value;clearTimeout(Je),o||l||n||Ze(!0,e),O.dispatchEvent("prev-number",{},e)},lt=e=>{const{exponential:l,controls:o}=t;if(M.value){const t=e.ctrlKey,n=e.shiftKey,a=e.altKey,r=e.keyCode;t||n||a||!(al(e,Gt)||(!l||69!==r)&&r>=65&&r<=90||r>=186&&r<=188||r>=191)||e.preventDefault(),o&&(e=>{const t=al(e,Kt),l=al(e,Zt);(t||l)&&(e.preventDefault(),t?tt(e):Qe(e))})(e)}Me(e)},ot=e=>{Me(e)},nt=()=>{clearTimeout(Je)},at=e=>{Je=window.setTimeout((()=>{tt(e),at(e)}),60)},rt=e=>{if(nt(),0===e.button){const t=U(e.currentTarget,"is--prev");t?tt(e):Qe(e),Je=window.setTimeout((()=>{t?at(e):et(e)}),500)}},it=e=>{if(M.value&&t.controls&&b.isActivated){const t=e.deltaY;t>0?Qe(e):t<0&&tt(e),e.preventDefault()}Me(e)},st=(t,l)=>{b.selectMonth=e.getWhatMonth(t,l,"first")},ct=()=>{const t=e.getWhatDay(Date.now(),0,"first");b.currentDate=t,st(t,0)},ut=()=>{let{datePanelType:e}=b;e="month"===e||"quarter"===e?"year":"month",b.datePanelType=e},dt=l=>{const{type:o}=t,{datePanelType:n,selectMonth:a}=b;K.value||(b.selectMonth="year"===o?e.getWhatYear(a,-12,"first"):"month"===o||"quarter"===o?"year"===n?e.getWhatYear(a,-12,"first"):e.getWhatYear(a,-1,"first"):"year"===n?e.getWhatYear(a,-12,"first"):"month"===n?e.getWhatYear(a,-1,"first"):e.getWhatMonth(a,-1,"first"),O.dispatchEvent("date-prev",{type:o},l))},pt=e=>{ct(),t.multiple||(Ue(b.currentDate),Pe()),O.dispatchEvent("date-today",{type:t.type},e)},mt=l=>{const{type:o}=t,{datePanelType:n,selectMonth:a}=b;Z.value||(b.selectMonth="year"===o?e.getWhatYear(a,bl,"first"):"month"===o||"quarter"===o?"year"===n?e.getWhatYear(a,bl,"first"):e.getWhatYear(a,1,"first"):"year"===n?e.getWhatYear(a,bl,"first"):"month"===n?e.getWhatYear(a,1,"first"):e.getWhatMonth(a,1,"first"),O.dispatchEvent("date-next",{type:o},l))},ft=e=>{const{disabledMethod:l}=t,{datePanelType:o}=b;return l&&l({type:o,viewType:o,date:e.date,$input:T})},gt=e=>{const{type:l,multiple:o}=t,{datePanelType:n}=b;"month"===l?"year"===n?(b.datePanelType="month",qe(e)):(Ue(e),o||Pe()):"year"===l?(Ue(e),o||Pe()):"quarter"===l?"year"===n?(b.datePanelType="quarter",qe(e)):(Ue(e),o||Pe()):"month"===n?(b.datePanelType="week"===l?l:"day",qe(e)):"year"===n?(b.datePanelType="month",qe(e)):(Ue(e),"datetime"===l||o||Pe())},ht=e=>{ft(e)||gt(e.date)},vt=t=>{if(!ft({date:t})){fe.value.some((l=>e.isDateSame(l.date,t,"yyyyMMdd")))||qe(t),Be(t)}},bt=t=>{if(!ft({date:t})){le.value.some((l=>e.isDateSame(l.date,t,"yyyy")))||qe(t),Be(t)}},xt=t=>{if(!ft({date:t})){ue.value.some((l=>e.isDateSame(l.date,t,"yyyyq")))||qe(t),Be(t)}},Ct=t=>{if(!ft({date:t})){pe.value.some((l=>e.isDateSame(l.date,t,"yyyyMM")))||qe(t),Be(t)}},yt=e=>{if(!ft(e)){const{datePanelType:t}=b;"month"===t?Ct(e.date):"quarter"===t?xt(e.date):"year"===t?bt(e.date):vt(e.date)}},wt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},St=e=>{b.datetimePanelValue=new Date(b.datetimePanelValue.getTime()),wt(e.currentTarget)},Et=()=>{const{multiple:l}=t,{datetimePanelValue:o}=b,n=Y.value,a=k.value;if(a){const t=G.value;if(l){const l=q.value;if(a){const l=[...W.value],n=[];l.forEach((e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))})),Ie(n.map((l=>e.toDateString(l,t))).join(","),{type:"update"})}else Ie(l.join(","),{type:"update"})}else Ue(n||b.currentDate)}Pe()},Tt=()=>h().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=b,n=C.value,a=y.value;if(n&&a){const t=n.offsetHeight,r=n.offsetWidth,i=a.offsetHeight,s=a.offsetWidth,c=5,u={zIndex:o},{boundingTop:d,boundingLeft:p,visibleHeight:m,visibleWidth:f}=oe(n);let g="bottom";if(e){let e=p,o=d+t;"top"===l?(g="top",o=d-i):l||(o+i+c>m&&(g="top",o=d-i),o<c&&(g="bottom",o=d+t)),e+s+c>f&&(e-=e+s+c-f),e<c&&(e=c),Object.assign(u,{left:`${e}px`,top:`${o}px`,minWidth:`${r}px`})}else"top"===l?(g="top",u.bottom=`${t}px`):l||d+t+i>m&&d-t-i>c&&(g="top",u.bottom=`${t}px`);return b.panelStyle=u,b.panelPlacement=g,h()}})),Ot=()=>{const{disabled:l}=t,{visiblePanel:o}=b,n=F.value;return l||o?h():(b.inited||(b.inited=!0),clearTimeout(Ae),b.isActivated=!0,b.animatVisible=!0,n&&(()=>{const{type:l}=t,o=k.value,n=Y.value;["year","quarter","month","week"].indexOf(l)>-1?b.datePanelType=l:b.datePanelType="day",b.currentDate=e.getWhatDay(Date.now(),0,"first"),n?(st(n,0),Be(n)):ct(),o&&(b.datetimePanelValue=b.datePanelValue||e.getWhatDay(Date.now(),0,"first"),h((()=>{const t=w.value;e.arrayEach(t.querySelectorAll("li.is--selected"),wt)})))})(),setTimeout((()=>{b.visiblePanel=!0}),10),b.panelIndex<N()&&(b.panelIndex=$()),Tt())},Rt=e=>{const{readonly:l}=t;l||(e.preventDefault(),Ot())},kt=e=>{Me(e)},Mt=e=>{const{disabled:l}=t,{visiblePanel:o,isActivated:n}=b,a=F.value,r=x.value,i=y.value;!l&&n&&(b.isActivated=te(e,r).flag||te(e,i).flag,b.isActivated||(a?o&&(Pe(),Xe()):Xe()))},It=l=>{const{clearable:o,disabled:n}=t,{visiblePanel:a}=b,r=F.value;if(!n){const t=al(l,qt),n=al(l,Ut),i=al(l,zt),s=al(l,Wt),c=al(l,Jt),u=al(l,Kt),d=al(l,Qt),p=al(l,Zt),m=al(l,el),f=al(l,tl),g=c||u||d||p;let h=b.isActivated;t?(h&&Xe(),h=!1,b.isActivated=h):g?r&&h&&(a?(t=>{const{isActivated:l,datePanelValue:o,datePanelType:n}=b;if(l){t.preventDefault();const l=al(t,Jt),a=al(t,Kt),r=al(t,Qt),i=al(t,Zt);if("year"===n){let t=e.getWhatYear(o||Date.now(),0,"first");l?t=e.getWhatYear(t,-1):a?t=e.getWhatYear(t,-4):r?t=e.getWhatYear(t,1):i&&(t=e.getWhatYear(t,4)),bt(t)}else if("quarter"===n){let t=e.getWhatQuarter(o||Date.now(),0,"first");l?t=e.getWhatQuarter(t,-1):a?t=e.getWhatQuarter(t,-2):r?t=e.getWhatQuarter(t,1):i&&(t=e.getWhatQuarter(t,2)),xt(t)}else if("month"===n){let t=e.getWhatMonth(o||Date.now(),0,"first");l?t=e.getWhatMonth(t,-1):a?t=e.getWhatMonth(t,-4):r?t=e.getWhatMonth(t,1):i&&(t=e.getWhatMonth(t,4)),Ct(t)}else{let t=o||e.getWhatDay(Date.now(),0,"first");const n=ae.value;l?t=e.getWhatDay(t,-1):a?t=e.getWhatWeek(t,-1,n):r?t=e.getWhatDay(t,1):i&&(t=e.getWhatWeek(t,1,n)),vt(t)}}})(l):(u||p)&&Rt(l)):s?r&&(a?b.datePanelValue?gt(b.datePanelValue):Pe():h&&Rt(l)):(m||f)&&r&&h&&(e=>{const{isActivated:t}=b;if(t){const t=al(e,el);e.preventDefault(),t?dt(e):mt(e)}})(l),t||i?a&&Pe():n&&o&&h&&Ve(l,null)}},Dt=e=>{const{disabled:l}=t,{visiblePanel:o}=b;if(!l&&o){te(e,y.value).flag?Tt():(Pe(),Xe())}},$t=()=>{const{isActivated:e,visiblePanel:t}=b;t?(Pe(),Xe()):e&&Xe()},Nt=(l,o)=>{const{festivalMethod:a}=t;if(a){const{datePanelType:t}=b,r=a({type:t,viewType:t,date:l.date,$input:T}),i=r?e.isString(r)?{label:r}:r:{},s=i.extra?e.isString(i.extra)?{label:i.extra}:i.extra:null,c=[n("span",{class:["vxe-input--date-label",{"is-notice":i.notice}]},s&&s.label?[n("span",o),n("span",{class:["vxe-input--date-label--extra",s.important?"is-important":"",s.className],style:s.style},e.toValueString(s.label))]:o)],u=i.label;if(u){const t=e.toValueString(u).split(",");c.push(n("span",{class:["vxe-input--date-festival",i.important?"is-important":"",i.className],style:i.style},[t.length>1?n("span",{class:["vxe-input--date-festival--overlap",`overlap--${t.length}`]},t.map((e=>n("span",e.substring(0,3))))):n("span",{class:"vxe-input--date-festival--label"},t[0].substring(0,3))]))}return c}return o},Ft=()=>{const{datePanelType:l}=b;switch(l){case"week":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:a}=b,r=Y.value,i=se.value,s=he.value,c=W.value,u="yyyyMMdd";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("thead",[n("tr",i.map((e=>n("th",e.label))))]),n("tbody",s.map((t=>{const o=l?t.some((t=>c.some((l=>e.isDateSame(l,t.date,u))))):t.some((t=>e.isDateSame(r,t.date,u))),i=t.some((t=>e.isDateSame(a,t.date,u)));return n("tr",t.map((e=>n("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":ft(e),"is--selected":o,"is--hover":i},onClick:()=>ht(e),onMouseenter:()=>yt(e)},Nt(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:a}=b,r=Y.value,i=me.value,s=W.value,c="yyyyMM";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(r,t.date,c),"is--hover":e.isDateSame(a,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>yt(t)},Nt(t,S.i18n(`vxe.input.date.months.m${t.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:a}=b,r=Y.value,i=de.value,s=W.value,c="yyyyq";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(r,t.date,c),"is--hover":e.isDateSame(a,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>yt(t)},Nt(t,S.i18n(`vxe.input.date.quarters.q${t.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:a}=b,r=Y.value,i=ce.value,s=W.value,c="yyyy";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("tbody",i.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?s.some((l=>e.isDateSame(l,t.date,c))):e.isDateSame(r,t.date,c),"is--hover":e.isDateSame(a,t.date,c)},onClick:()=>ht(t),onMouseenter:()=>yt(t)},Nt(t,t.year))))))))])]})()}return(()=>{const{multiple:l}=t,{datePanelType:o,datePanelValue:a}=b,r=Y.value,i=ie.value,s=ge.value,c=W.value,u="yyyyMMdd";return[n("table",{class:`vxe-input--date-${o}-view`,cellspacing:0,cellpadding:0,border:0},[n("thead",[n("tr",i.map((e=>n("th",e.label))))]),n("tbody",s.map((t=>n("tr",t.map((t=>n("td",{class:{"is--prev":t.isPrev,"is--current":t.isCurrent,"is--now":t.isNow,"is--next":t.isNext,"is--disabled":ft(t),"is--selected":l?c.some((l=>e.isDateSame(l,t.date,u))):e.isDateSame(r,t.date,u),"is--hover":e.isDateSame(a,t.date,u)},onClick:()=>ht(t),onMouseenter:()=>yt(t)},Nt(t,t.label))))))))])]})()},Lt=()=>{const{multiple:e}=t,{datePanelType:l}=b,o=K.value,a=Z.value,r=ne.value;return[n("div",{class:"vxe-input--date-picker-header"},[n("div",{class:"vxe-input--date-picker-type-wrapper"},[n("span","year"===l?{class:"vxe-input--date-picker-label"}:{class:"vxe-input--date-picker-btn",onClick:ut},r)]),n("div",{class:"vxe-input--date-picker-btn-wrapper"},[n("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":o}],onClick:dt},[n("i",{class:"vxe-icon-caret-left"})]),n("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:pt},[n("i",{class:"vxe-icon-dot"})]),n("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":a}],onClick:mt},[n("i",{class:"vxe-icon-caret-right"})]),e&&z.value?n("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[n("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Et},S.i18n("vxe.button.confirm"))]):null])]),n("div",{class:"vxe-input--date-picker-body"},Ft())]},At=()=>{const{datetimePanelValue:e}=b,t=J.value,l=ve.value,o=be.value,a=xe.value;return[n("div",{class:"vxe-input--time-picker-header"},[n("span",{class:"vxe-input--time-picker-title"},t),n("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Et},S.i18n("vxe.button.confirm"))]),n("div",{ref:w,class:"vxe-input--time-picker-body"},[n("ul",{class:"vxe-input--time-picker-hour-list"},l.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setHours(t.value),St(e)})(e,t)},t.label)))),n("ul",{class:"vxe-input--time-picker-minute-list"},o.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setMinutes(t.value),St(e)})(e,t)},t.label)))),n("ul",{class:"vxe-input--time-picker-second-list"},a.map(((t,l)=>n("li",{key:l,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{b.datetimePanelValue.setSeconds(t.value),St(e)})(e,t)},t.label))))])]},Pt=()=>{const{controls:e}=t,l=M.value,o=F.value,a=A.value,r=P.value;let i;return a?i=(()=>{const{showPwd:e}=b;return n("span",{class:"vxe-input--password-suffix",onClick:Ye},[n("i",{class:["vxe-input--password-icon",e?S.icon.INPUT_SHOW_PWD:S.icon.INPUT_PWD]})])})():l?e&&(i=(()=>{const e=Re.value,t=Oe.value;return n("span",{class:"vxe-input--number-suffix"},[n("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":e}],onMousedown:rt,onMouseup:nt,onMouseleave:nt},[n("i",{class:["vxe-input--number-prev-icon",S.icon.INPUT_PREV_NUM]})]),n("span",{class:["vxe-input--number-next is--next",{"is--disabled":t}],onMousedown:rt,onMouseup:nt,onMouseleave:nt},[n("i",{class:["vxe-input--number-next-icon",S.icon.INPUT_NEXT_NUM]})])])})()):o?i=n("span",{class:"vxe-input--date-picker-suffix",onClick:Rt},[n("i",{class:["vxe-input--date-picker-icon",S.icon.INPUT_DATE]})]):r&&(i=n("span",{class:"vxe-input--search-suffix",onClick:Ke},[n("i",{class:["vxe-input--search-icon",S.icon.INPUT_SEARCH]})])),i?n("span",{class:"vxe-input--extra-suffix"},[i]):null};O={dispatchEvent(e,t,l){c(e,Object.assign({$input:T,$event:l},t))},focus(){const e=C.value;return b.isActivated=!0,e.focus(),h()},blur:()=>(C.value.blur(),b.isActivated=!1,h()),select:()=>(C.value.select(),b.isActivated=!1,h()),showPanel:Ot,hidePanel:Pe,updatePlacement:Tt},Object.assign(T,O),l((()=>t.modelValue),(e=>{b.inputValue=e,He()})),l((()=>t.type),(()=>{Object.assign(b,{inputValue:t.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),_e()})),l(ee,(()=>{F.value&&(Be(b.datePanelValue),b.inputValue=t.multiple?X.value:b.datePanelLabel)})),h((()=>{il.on(T,"mousewheel",Dt),il.on(T,"mousedown",Mt),il.on(T,"keydown",It),il.on(T,"blur",$t)})),g((()=>{nt(),il.off(T,"mousewheel"),il.off(T,"mousedown"),il.off(T,"keydown"),il.off(T,"blur")})),_e();return T.renderVN=()=>{const{className:l,controls:o,type:a,align:i,showWordCount:s,countMethod:c,name:u,disabled:d,readonly:m,autocomplete:f}=t,{inputValue:g,visiblePanel:h,isActivated:w}=b,E=v.value,T=D.value,O=I.value,R=F.value,k=Ce.value,M=Se.value,$=ye.value,N=we.value,L=[],A=(()=>{const{prefixIcon:e}=t,l=r.prefix,o=[];return l?o.push(n("span",{class:"vxe-input--prefix-icon"},l({}))):e&&o.push(n("i",{class:["vxe-input--prefix-icon",e]})),o.length?n("span",{class:"vxe-input--prefix",onClick:Le},o):null})(),P=(()=>{const{disabled:l,suffixIcon:o}=t,{inputValue:a}=b,i=r.suffix,s=B.value,c=[];return i?c.push(n("span",{class:"vxe-input--suffix-icon"},i({}))):o&&c.push(n("i",{class:["vxe-input--suffix-icon",o]})),s&&c.push(n("i",{class:["vxe-input--clear-icon",S.icon.INPUT_CLEAR]})),c.length?n("span",{class:["vxe-input--suffix",{"is--clear":s&&!l&&!(""===a||e.eqNull(a))}],onClick:je},c):null})();A&&L.push(A),L.push(n("input",{ref:C,class:"vxe-input--inner",value:g,name:u,type:$,placeholder:N,maxlength:M,readonly:k,disabled:d,autocomplete:f,onKeydown:lt,onKeyup:ot,onWheel:it,onClick:kt,onInput:$e,onChange:Ne,onFocus:Fe,onBlur:Ge})),P&&L.push(P),L.push(Pt()),R&&L.push((()=>{const{type:e,transfer:l}=t,{inited:o,animatVisible:a,visiblePanel:r,panelPlacement:i,panelStyle:s}=b,c=v.value,u=[];return F.value?("datetime"===e?u.push(n("div",{class:"vxe-input--panel-layout-wrapper"},[n("div",{class:"vxe-input--panel-left-wrapper"},Lt()),n("div",{class:"vxe-input--panel-right-wrapper"},At())])):"time"===e?u.push(n("div",{class:"vxe-input--panel-wrapper"},At())):u.push(n("div",{class:"vxe-input--panel-wrapper"},Lt())),n(p,{to:"body",disabled:!l||!o},[n("div",{ref:y,class:["vxe-table--ignore-clear vxe-input--panel",`type--${e}`,{[`size--${c}`]:c,"is--transfer":l,"animat--leave":a,"animat--enter":r}],placement:i,style:s},u)])):null})());let V=!1;return s&&["text","search"].includes(a)&&(V=!0,L.push(n("span",{class:["vxe-input--count",{"is--error":T}]},c?`${c({value:g})}`:`${O}${M?`/${M}`:""}`))),n("div",{ref:x,class:["vxe-input",`type--${a}`,l,{[`size--${E}`]:E,[`is--${i}`]:i,"is--controls":o,"is--prefix":!!A,"is--suffix":!!P,"is--readonly":m,"is--visivle":h,"is--count":V,"is--disabled":d,"is--active":w}]},L)},T},render(){return this.renderVN()}}),Cl=r({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>S.checkbox.size||S.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),u={xID:e.uniqueId(),props:t,context:l};let d={};const p=sl(t),m=i("$xecheckboxgroup",null),f=s((()=>m?e.includes(m.props.modelValue,t.label):t.modelValue===t.checkedValue)),g=s((()=>{if(t.disabled)return!0;if(m){const{props:e}=m,{computeIsMaximize:t}=m.getComputeMaps(),l=t.value,o=f.value;return e.disabled||l&&!o}return!1})),h=e=>{const{checkedValue:l,uncheckedValue:o}=t;if(!g.value){const n=e.target.checked,i=n?l:o,s={checked:n,value:i,label:t.label};m?m.handleChecked(s,e):(a("update:modelValue",i),d.dispatchEvent("change",s,e),r&&c&&r.triggerItemEvent(e,c.itemConfig.field,i))}};d={dispatchEvent(e,t,l){a(e,Object.assign({$checkbox:u,$event:l},t))}},Object.assign(u,d);return u.renderVN=()=>{const e=p.value,l=g.value,a=f.value,r=t.indeterminate;return n("label",{class:["vxe-checkbox",{[`size--${e}`]:e,"is--indeterminate":r,"is--disabled":l,"is--checked":a}],title:t.title},[n("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:a,onChange:h}),n("span",{class:["vxe-checkbox--icon",r?"vxe-icon-checkbox-indeterminate":a?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),n("span",{class:"vxe-checkbox--label"},o.default?o.default({}):L(t.content))])},u},render(){return this.renderVN()}});function yl(e){return!1!==e.visible}const wl=r({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>e.eqNull(S.select.placeholder)?S.i18n("vxe.base.pleaseSelect"):S.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>S.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>S.select.size||S.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>S.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>S.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(t,a){const{slots:r,emit:c}=a,v=i("$xeform",null),b=i("$xeformiteminfo",null),x=e.uniqueId(),C=sl(t),y=o({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),w=d(),E=d(),T=d(),O=d(),R=d(),k={refElem:w},M={xID:x,props:t,context:a,reactData:y,getRefMaps:()=>k};let I={};const D=s((()=>t.optionProps||{})),F=s((()=>t.optionGroupProps||{})),P=s((()=>D.value.label||"label")),V=s((()=>D.value.value||"value")),j=s((()=>F.value.label||"label")),B=s((()=>F.value.options||"options")),H=s((()=>{const{modelValue:l,multiple:o,max:n}=t;return!(!o||!n)&&(l?l.length:0)>=e.toNumber(n)})),_=s((()=>Object.assign({},S.select.optionConfig,t.optionConfig))),z=s((()=>y.fullGroupList.some((e=>e.options&&e.options.length)))),W=s((()=>e.toNumber(t.multiCharOverflow))),q=(t,l)=>t&&(e.isString(t)&&(t=r[t]||null),e.isFunction(t))?ke(t(l)):[],U=e=>{const{fullOptionList:t,fullGroupList:l}=y,o=z.value,n=V.value;if(o)for(let a=0;a<l.length;a++){const t=l[a];if(t.options)for(let l=0;l<t.options.length;l++){const o=t.options[l];if(e===o[n])return o}}return t.find((t=>e===t[n]))},X=t=>{const{remoteValueList:l}=y,o=P.value,n=l.find((e=>t===e.key)),a=n?n.result:null;return e.toValueString(a?a[o]:t)},G=t=>{const l=P.value,o=U(t);return e.toValueString(o?o[l]:t)},Y=s((()=>{const{modelValue:l,multiple:o,remote:n}=t,a=W.value;if(l&&o){const t=e.isArray(l)?l:[l];return n?t.map((e=>X(e))).join(", "):t.map((e=>{const t=G(e);return a>0&&t.length>a?`${t.substring(0,a)}...`:t})).join(", ")}return n?X(l):G(l)})),K=()=>_.value.keyField||t.optionId||"_X_OPTION_KEY",Z=e=>{const t=e[K()];return t?encodeURIComponent(t):""},J=()=>{const{filterable:e,filterMethod:l}=t,{fullOptionList:o,fullGroupList:n,searchValue:a}=y,r=z.value,i=j.value,s=P.value;return r?y.visibleGroupList=e&&l?n.filter((e=>yl(e)&&l({group:e,option:null,searchValue:a}))):e?n.filter((e=>yl(e)&&(!a||`${e[i]}`.indexOf(a)>-1))):n.filter(yl):y.visibleOptionList=e&&l?o.filter((e=>yl(e)&&l({group:null,option:e,searchValue:a}))):e?o.filter((e=>yl(e)&&(!a||`${e[s]}`.indexOf(a)>-1))):o.filter(yl),h()},Q=()=>{const{fullOptionList:t,fullGroupList:l}=y,o=B.value,n=K(),a=t=>{Z(t)||(t[n]=e.uniqueId("opt_"))};l.length?l.forEach((e=>{a(e),e[o]&&e[o].forEach(a)})):t.length&&t.forEach(a),J()},ee=e=>{const t=V.value;e&&(y.currentOption=e,y.currentValue=e[t])},le=(e,t)=>h().then((()=>{if(e){const l=O.value,o=R.value.querySelector(`[optid='${Z(e)}']`);if(l&&o){const e=l.offsetHeight,n=5;t?o.offsetTop+o.offsetHeight-l.scrollTop>e&&(l.scrollTop=o.offsetTop+o.offsetHeight-e):(o.offsetTop+n<l.scrollTop||o.offsetTop+n>l.scrollTop+l.clientHeight)&&(l.scrollTop=o.offsetTop-n)}}})),ne=()=>h().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o}=y,n=w.value,a=R.value;if(a&&n){const t=n.offsetHeight,r=n.offsetWidth,i=a.offsetHeight,s=a.offsetWidth,c=5,u={zIndex:o},{boundingTop:d,boundingLeft:p,visibleHeight:m,visibleWidth:f}=oe(n);let g="bottom";if(e){let e=p,o=d+t;"top"===l?(g="top",o=d-i):l||(o+i+c>m&&(g="top",o=d-i),o<c&&(g="bottom",o=d+t)),e+s+c>f&&(e-=e+s+c-f),e<c&&(e=c),Object.assign(u,{left:`${e}px`,top:`${o}px`,minWidth:`${r}px`})}else"top"===l?(g="top",u.bottom=`${t}px`):l||d+t+i>m&&d-t-i>c&&(g="top",u.bottom=`${t}px`);return y.panelStyle=u,y.panelPlacement=g,h()}}));let ae;const re=()=>{const{loading:e,disabled:l,filterable:o}=t;e||l||(clearTimeout(ae),y.inited||(y.inited=!0),y.isActivated=!0,y.animatVisible=!0,o&&J(),setTimeout((()=>{const{modelValue:e,multiple:l}=t,o=U(l&&e?e[0]:e);y.visiblePanel=!0,o&&(ee(o),le(o)),he()}),10),y.panelIndex<N()&&(y.panelIndex=$()),ne())},ie=()=>{y.searchValue="",y.searchLoading=!1,y.visiblePanel=!1,ae=window.setTimeout((()=>{y.animatVisible=!1}),350)},se=(e,l)=>{l!==t.modelValue&&(c("update:modelValue",l),I.dispatchEvent("change",{value:l},e),v&&b&&v.triggerItemEvent(e,b.itemConfig.field,l))},ce=(e,t)=>{y.remoteValueList=[],se(e,t),I.dispatchEvent("clear",{value:t},e)},ue=(e,t)=>{ce(t,null),ie()},de=(e,l,o)=>{const{modelValue:n,multiple:a}=t,{remoteValueList:r}=y;if(a){let t;t=n?-1===n.indexOf(l)?n.concat([l]):n.filter((e=>e!==l)):[l];const a=r.find((e=>e.key===l));a?a.result=o:r.push({key:l,result:o}),se(e,t)}else y.remoteValueList=[{key:l,result:o}],se(e,l),ie()},pe=e=>{const{disabled:l}=t,{visiblePanel:o}=y;if(!l&&o){te(e,R.value).flag?ne():ie()}},me=e=>{const{disabled:l}=t,{visiblePanel:o}=y;if(!l){const t=w.value,l=R.value;y.isActivated=te(e,t).flag||te(e,l).flag,o&&!y.isActivated&&ie()}},fe=e=>{const{clearable:l,disabled:o}=t,{visiblePanel:n,currentValue:a,currentOption:r}=y;if(!o){const t=al(e,qt),o=al(e,Wt),i=al(e,zt),s=al(e,Kt),c=al(e,Zt),u=al(e,Ut),d=al(e,Gt);if(t&&(y.isActivated=!1),n)if(i||t)ie();else if(o)e.preventDefault(),e.stopPropagation(),de(e,a,r);else if(s||c){e.preventDefault();let{firstOption:t,offsetOption:l}=((e,t)=>{const{visibleOptionList:l,visibleGroupList:o}=y,n=z.value,a=V.value,r=B.value;let i,s,c,u;if(n)for(let d=0;d<o.length;d++){const l=o[d],n=l[r],p=l.disabled;if(n)for(let o=0;o<n.length;o++){const l=n[o],r=yl(l),d=p||l.disabled;if(i||d||(i=l),u&&r&&!d&&(c=l,!t))return{offsetOption:c};if(e===l[a]){if(u=l,t)return{offsetOption:s}}else r&&!d&&(s=l)}}else for(let d=0;d<l.length;d++){const o=l[d],n=o.disabled;if(i||n||(i=o),u&&!n&&(c=o,!t))return{offsetOption:c};if(e===o[a]){if(u=o,t)return{offsetOption:s}}else n||(s=o)}return{firstOption:i}})(a,s);l||U(a)||(l=t),ee(l),le(l,c)}else d&&e.preventDefault();else(s||c||o||d)&&y.isActivated&&(e.preventDefault(),re());y.isActivated&&u&&l&&ce(e,null)}},ge=()=>{ie()},he=()=>{t.filterable&&h((()=>{const e=T.value;e&&e.focus()}))},ve=e=>{t.disabled||(y.isActivated=!0),I.dispatchEvent("focus",{},e)},be=e=>{y.isActivated=!1,I.dispatchEvent("blur",{},e)},xe=e=>{y.searchValue=e},Ce=()=>{y.isActivated=!0},ye=e=>{const{$event:t}=e;al(t,Wt)&&(t.preventDefault(),t.stopPropagation())},we=e.debounce((function(){const{remote:e,remoteMethod:l}=t,{searchValue:o}=y;e&&l?(y.searchLoading=!0,Promise.resolve(l({searchValue:o})).then((()=>h())).catch((()=>h())).finally((()=>{y.searchLoading=!1,J()}))):J()}),350,{trailing:!0}),Se=e=>{const{$event:t}=e;t.preventDefault(),y.visiblePanel?ie():re()},Ee=(l,o)=>{const{optionKey:a,modelValue:i,multiple:s}=t,{currentValue:c}=y,u=_.value,d=P.value,p=V.value,m=z.value,{useKey:f}=u,g=r.option;return l.map(((t,l)=>{const{slots:r,className:u}=t,h=t[p],v=s?i&&i.indexOf(h)>-1:i===h,b=!m||yl(t),x=((e,t,l)=>!!t.disabled||(!(!l||!l.disabled)||!(!H.value||e)))(v,t,o),C=Z(t),y=r?r.default:null,w={option:t,group:null,$select:M};return b?n("div",{key:f||a?C:l,class:["vxe-select-option",u?e.isFunction(u)?u(w):u:"",{"is--disabled":x,"is--selected":v,"is--hover":c===h}],optid:C,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:e=>{x||de(e,h,t)},onMouseenter:()=>{x||ee(t)}},g?q(g,w):y?q(y,w):A(L(t[d]))):null}))},Te=()=>{const{visibleGroupList:l,visibleOptionList:o,searchLoading:a}=y,i=z.value;if(a)return[n("div",{class:"vxe-select--search-loading"},[n("i",{class:["vxe-select--search-icon",S.icon.SELECT_LOADED]}),n("span",{class:"vxe-select--search-text"},S.i18n("vxe.select.loadingText"))])];if(i){if(l.length)return(()=>{const{optionKey:l}=t,{visibleGroupList:o}=y,a=_.value,i=j.value,s=B.value,{useKey:c}=a,u=r.option;return o.map(((t,o)=>{const{slots:a,className:r}=t,d=Z(t),p=t.disabled,m=a?a.default:null,f={option:t,group:t,$select:M};return n("div",{key:c||l?d:o,class:["vxe-optgroup",r?e.isFunction(r)?r(f):r:"",{"is--disabled":p}],optid:d},[n("div",{class:"vxe-optgroup--title"},u?q(u,f):m?q(m,f):L(t[i])),n("div",{class:"vxe-optgroup--wrapper"},Ee(t[s]||[],t))])}))})()}else if(o.length)return Ee(o);return[n("div",{class:"vxe-select--empty-placeholder"},t.emptyText||S.i18n("vxe.select.emptyText"))]};I={dispatchEvent(e,t,l){c(e,Object.assign({$select:M,$event:l},t))},isPanelVisible:()=>y.visiblePanel,togglePanel:()=>(y.visiblePanel?ie():re(),h()),hidePanel:()=>(y.visiblePanel&&ie(),h()),showPanel:()=>(y.visiblePanel||re(),h()),refreshOption:J,focus(){const e=E.value;return y.isActivated=!0,e.blur(),h()},blur:()=>(E.value.blur(),y.isActivated=!1,h())},Object.assign(M,I),l((()=>y.staticOptions),(e=>{e.some((e=>e.options&&e.options.length))?(y.fullOptionList=[],y.fullGroupList=e):(y.fullGroupList=[],y.fullOptionList=e||[]),Q()})),l((()=>t.options),(e=>{y.fullGroupList=[],y.fullOptionList=e||[],Q()})),l((()=>t.optionGroups),(e=>{y.fullOptionList=[],y.fullGroupList=e||[],Q()})),f((()=>{h((()=>{const{options:e,optionGroups:l}=t;l?y.fullGroupList=l:e&&(y.fullOptionList=e),Q()})),il.on(M,"mousewheel",pe),il.on(M,"mousedown",me),il.on(M,"keydown",fe),il.on(M,"blur",ge)})),g((()=>{il.off(M,"mousewheel"),il.off(M,"mousedown"),il.off(M,"keydown"),il.off(M,"blur")}));return M.renderVN=()=>{const{className:l,popupClassName:o,transfer:a,disabled:i,loading:s,filterable:c}=t,{inited:d,isActivated:m,visiblePanel:f}=y,g=C.value,h=Y.value,v=r.default,b=r.header,x=r.footer,k=r.prefix;return n("div",{ref:w,class:["vxe-select",l?e.isFunction(l)?l({$select:M}):l:"",{[`size--${g}`]:g,"is--visivle":f,"is--disabled":i,"is--filter":c,"is--loading":s,"is--active":m}]},[n("div",{class:"vxe-select-slots",ref:"hideOption"},v?v({}):[]),n(xl,{ref:E,clearable:t.clearable,placeholder:t.placeholder,readonly:!0,disabled:i,type:"text",prefixIcon:t.prefixIcon,suffixIcon:s?S.icon.SELECT_LOADED:f?S.icon.SELECT_OPEN:S.icon.SELECT_CLOSE,modelValue:h,onClear:ue,onClick:Se,onFocus:ve,onBlur:be,onSuffixClick:Se},k?{prefix:()=>k({})}:{}),n(p,{to:"body",disabled:!a||!d},[n("div",{ref:R,class:["vxe-table--ignore-clear vxe-select--panel",o?e.isFunction(o)?o({$select:M}):o:"",{[`size--${g}`]:g,"is--transfer":a,"animat--leave":!s&&y.animatVisible,"animat--enter":!s&&f}],placement:y.panelPlacement,style:y.panelStyle},d?[c?n("div",{class:"vxe-select--panel-search"},[n(xl,{ref:T,class:"vxe-select-search--input",modelValue:y.searchValue,clearable:!0,placeholder:S.i18n("vxe.select.search"),prefixIcon:S.icon.INPUT_SEARCH,"onUpdate:modelValue":xe,onFocus:Ce,onKeydown:ye,onChange:we,onSearch:we})]):u(),n("div",{class:"vxe-select--panel-wrapper"},[b?n("div",{class:"vxe-select--panel-header"},b({})):u(),n("div",{class:"vxe-select--panel-body"},[n("div",{ref:O,class:"vxe-select-option--wrapper"},Te())]),x?n("div",{class:"vxe-select--panel-footer"},x({})):u()])]:[])])])},m("$xeselect",M),M},render(){return this.renderVN()}}),Sl=r({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(t){const l=i("$xetable",{}),{computeExportOpts:a,computePrintOpts:r}=l.getComputeMaps(),c=o({isAll:!1,isIndeterminate:!1,loading:!1}),p=d(),m=d(),f=d(),g=s((()=>{const{storeData:e}=t;return e.columns.every((e=>e.checked))})),v=s((()=>{const{defaultOptions:e}=t;return["html","xml","xlsx","pdf"].indexOf(e.type)>-1})),b=s((()=>{const{storeData:e,defaultOptions:l}=t;return!l.original&&"current"===l.mode&&(e.isPrint||["html","xlsx"].indexOf(l.type)>-1)})),x=s((()=>{const{defaultOptions:e}=t;return!e.original&&["xlsx"].indexOf(e.type)>-1})),C=l=>{const{storeData:o}=t,n=e.findTree(o.columns,(e=>e===l));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),C(e))}},y=()=>{const{storeData:e}=t,l=e.columns;c.isAll=l.every((e=>e.disabled||e.checked)),c.isIndeterminate=!c.isAll&&l.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},w=()=>{const{storeData:l}=t,o=!c.isAll;e.eachTree(l.columns,(e=>{e.disabled||(e.checked=o,e.halfChecked=!1)})),c.isAll=o,y()},E=()=>{h((()=>{const e=m.value,t=f.value,l=p.value,o=e||t||l;o&&o.focus()})),y()},T=()=>{const{storeData:l,defaultOptions:o}=t,{hasMerge:n,columns:a}=l,r=g.value,i=b.value,s=e.searchTree(a,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},o,{columns:s,isMerge:!!(n&&i&&r)&&o.isMerge})},O=()=>{const{storeData:e}=t;e.visible=!1},R=()=>{const{storeData:e}=t;e.isPrint?(()=>{const{storeData:e}=t,o=r.value;e.visible=!1,l.print(Object.assign({},o,T()))})():(()=>{const{storeData:e}=t,o=a.value;c.loading=!0,l.exportData(Object.assign({},o,T())).then((()=>{c.loading=!1,e.visible=!1})).catch((()=>{c.loading=!1}))})()};return()=>{const{defaultOptions:l,storeData:o}=t,{isAll:a,isIndeterminate:r}=c,{hasTree:i,hasMerge:s,isPrint:d,hasColgroup:h}=o,{isHeader:T}=l,k=[],M=g.value,I=v.value,D=b.value,$=x.value;return e.eachTree(o.columns,(t=>{const l=A(t.getTitle(),1),o=t.children&&t.children.length,a=t.checked,r=t.halfChecked;k.push(n("li",{class:["vxe-export--panel-column-option",`level--${t.level}`,{"is--group":o,"is--checked":a,"is--indeterminate":r,"is--disabled":t.disabled}],title:l,onClick:()=>{t.disabled||(t=>{const l=!t.checked;e.eachTree([t],(e=>{e.checked=l,e.halfChecked=!1})),C(t),y()})(t)}},[n("span",{class:["vxe-checkbox--icon",r?S.icon.TABLE_CHECKBOX_INDETERMINATE:a?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},l)]))})),n(fl,{modelValue:o.visible,title:S.i18n(d?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:c.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:E},{default:()=>n("div",{class:"vxe-export--panel"},[n("table",{cellspacing:0,cellpadding:0,border:0},[n("tbody",[[d?u():n("tr",[n("td",S.i18n("vxe.export.expName")),n("td",[n(xl,{ref:m,modelValue:l.filename,type:"text",clearable:!0,placeholder:S.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){l.filename=e}})])]),d?u():n("tr",[n("td",S.i18n("vxe.export.expType")),n("td",[n(wl,{modelValue:l.type,options:o.typeList.map((e=>({value:e.value,label:S.i18n(e.label)}))),"onUpdate:modelValue"(e){l.type=e}})])]),d||I?n("tr",[n("td",S.i18n("vxe.export.expSheetName")),n("td",[n(xl,{ref:f,modelValue:l.sheetName,type:"text",clearable:!0,placeholder:S.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){l.sheetName=e}})])]):u(),n("tr",[n("td",S.i18n("vxe.export.expMode")),n("td",[n(wl,{modelValue:l.mode,options:o.modeList.map((e=>({value:e.value,label:S.i18n(e.label)}))),"onUpdate:modelValue"(e){l.mode=e}})])]),n("tr",[n("td",[S.i18n("vxe.export.expColumn")]),n("td",[n("div",{class:"vxe-export--panel-column"},[n("ul",{class:"vxe-export--panel-column-header"},[n("li",{class:["vxe-export--panel-column-option",{"is--checked":a,"is--indeterminate":r}],title:S.i18n("vxe.table.allTitle"),onClick:w},[n("span",{class:["vxe-checkbox--icon",r?S.icon.TABLE_CHECKBOX_INDETERMINATE:a?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},S.i18n("vxe.export.expCurrentColumn"))])]),n("ul",{class:"vxe-export--panel-column-body"},k)])])]),n("tr",[n("td",S.i18n("vxe.export.expOpts")),n("td",[n("div",{class:"vxe-export--panel-option-row"},[n(Cl,{modelValue:l.isHeader,title:S.i18n("vxe.export.expHeaderTitle"),content:S.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){l.isHeader=e}}),n(Cl,{modelValue:l.isFooter,disabled:!o.hasFooter,title:S.i18n("vxe.export.expFooterTitle"),content:S.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){l.isFooter=e}}),n(Cl,{modelValue:l.original,title:S.i18n("vxe.export.expOriginalTitle"),content:S.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){l.original=e}})]),n("div",{class:"vxe-export--panel-option-row"},[n(Cl,{modelValue:!!(T&&h&&D)&&l.isColgroup,title:S.i18n("vxe.export.expColgroupTitle"),disabled:!T||!h||!D,content:S.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){l.isColgroup=e}}),n(Cl,{modelValue:!!(s&&D&&M)&&l.isMerge,title:S.i18n("vxe.export.expMergeTitle"),disabled:!s||!D||!M,content:S.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){l.isMerge=e}}),d?u():n(Cl,{modelValue:!!$&&l.useStyle,disabled:!$,title:S.i18n("vxe.export.expUseStyleTitle"),content:S.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){l.useStyle=e}}),n(Cl,{modelValue:!!i&&l.isAllExpand,disabled:!i,title:S.i18n("vxe.export.expAllExpandTitle"),content:S.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){l.isAllExpand=e}})])])])]])]),n("div",{class:"vxe-export--panel-btns"},[n(cl,{content:S.i18n("vxe.export.expCancel"),onClick:O}),n(cl,{ref:p,status:"primary",content:S.i18n(d?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:R})])])})}}}),El=r({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>S.radio.strict},size:{type:String,default:()=>S.radio.size||S.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),u={xID:e.uniqueId(),props:t,context:l},d=sl(t),p=i("$xeradiogroup",null);let m={};const f=s((()=>t.disabled||p&&p.props.disabled)),g=s((()=>p?p.name:t.name)),h=s((()=>p?p.props.strict:t.strict)),v=s((()=>{const{modelValue:e,label:l}=t;return p?p.props.modelValue===l:e===l})),b=(e,t)=>{p?p.handleChecked({label:e},t):(a("update:modelValue",e),m.dispatchEvent("change",{label:e},t),r&&c&&r.triggerItemEvent(t,c.itemConfig.field,e))},x=e=>{f.value||b(t.label,e)},C=e=>{const l=f.value,o=h.value;l||o||t.label===(p?p.props.modelValue:t.modelValue)&&b(null,e)};m={dispatchEvent(e,t,l){a(e,Object.assign({$radio:u,$event:l},t))}},Object.assign(u,m);return u.renderVN=()=>{const e=d.value,l=f.value,a=g.value,r=v.value;return n("label",{class:["vxe-radio",{[`size--${e}`]:e,"is--checked":r,"is--disabled":l}],title:t.title},[n("input",{class:"vxe-radio--input",type:"radio",name:a,checked:r,disabled:l,onChange:x,onClick:C}),n("span",{class:["vxe-radio--icon",r?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),n("span",{class:"vxe-radio--label"},o.default?o.default({}):L(t.content))])},u},render(){return this.renderVN()}}),Tl=r({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>S.radioButton.strict},size:{type:String,default:()=>S.radioButton.size||S.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),u=e.uniqueId(),d=sl(t),p={xID:u,props:t,context:l};let m={};const f=i("$xeradiogroup",null),g=s((()=>t.disabled||f&&f.props.disabled)),h=s((()=>f?f.name:null)),v=s((()=>f?f.props.strict:t.strict)),b=s((()=>{const{modelValue:e,label:l}=t;return f?f.props.modelValue===l:e===l}));m={dispatchEvent(e,t,l){a(e,Object.assign({$radioButton:p,$event:l},t))}},Object.assign(p,m);const x=(e,t)=>{f?f.handleChecked({label:e},t):(a("update:modelValue",e),m.dispatchEvent("change",{label:e},t),r&&c&&r.triggerItemEvent(t,c.itemConfig.field,e))},C=e=>{g.value||x(t.label,e)},y=e=>{const l=g.value,o=v.value;l||o||t.label===(f?f.props.modelValue:t.modelValue)&&x(null,e)},w=()=>{const e=d.value,l=g.value,a=h.value,r=b.value;return n("label",{class:["vxe-radio","vxe-radio-button",{[`size--${e}`]:e,"is--disabled":l}],title:t.title},[n("input",{class:"vxe-radio--input",type:"radio",name:a,checked:r,disabled:l,onChange:C,onClick:y}),n("span",{class:"vxe-radio--label"},o.default?o.default({}):L(t.content))])};return Object.assign(p,{renderVN:w,dispatchEvent:dispatchEvent}),w}}),Ol=r({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>S.radioGroup.strict},size:{type:String,default:()=>S.radioGroup.size||S.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),u={xID:e.uniqueId(),props:t,context:l,name:e.uniqueId("xegroup_")},d=s((()=>t.optionProps||{})),p=s((()=>d.value.label||"label")),f=s((()=>d.value.value||"value")),g=s((()=>d.value.disabled||"disabled"));let h={};sl(t);const v={handleChecked(e,t){a("update:modelValue",e.label),h.dispatchEvent("change",e),r&&c&&r.triggerItemEvent(t,c.itemConfig.field,e.label)}};h={dispatchEvent(e,t,l){a(e,Object.assign({$radioGroup:u,$event:l},t))}};const b=()=>{const{options:e,type:l}=t,a=o.default,r=f.value,i=p.value,s=g.value,c="button"===l?Tl:El;return n("div",{class:"vxe-radio-group"},a?a({}):e?e.map((e=>n(c,{label:e[r],content:e[i],disabled:e[s]}))):[])};return Object.assign(u,v,{renderVN:b,dispatchEvent:dispatchEvent}),m("$xeradiogroup",u),b}}),Rl=r({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(t){const l=i("$xetable",{}),{computeImportOpts:a}=l.getComputeMaps(),r=o({loading:!1}),c=d(),u=s((()=>{const{storeData:e}=t;return`${e.filename}.${e.type}`})),p=s((()=>{const{storeData:e}=t;return e.file&&e.type})),m=s((()=>{const{storeData:l}=t,{type:o,typeList:n}=l;if(o){const t=e.find(n,(e=>o===e.value));return t?S.i18n(t.label):"*.*"}return`*.${n.map((e=>e.value)).join(", *.")}`})),f=()=>{const{storeData:e}=t;Object.assign(e,{filename:"",sheetName:"",type:""})},g=()=>{const{storeData:o,defaultOptions:n}=t;l.readFile(n).then((t=>{const{file:l}=t;Object.assign(o,function(t){const l=t.name,o=e.lastIndexOf(l,"."),n=l.substring(o+1,l.length).toLowerCase();return{filename:l.substring(0,o),type:n}}(l),{file:l})})).catch((e=>e))},v=()=>{h((()=>{const e=c.value;e&&e.focus()}))},b=()=>{const{storeData:e}=t;e.visible=!1},x=()=>{const{storeData:e,defaultOptions:o}=t,n=a.value;r.loading=!0,l.importByFile(e.file,Object.assign({},n,o)).then((()=>{r.loading=!1,e.visible=!1})).catch((()=>{r.loading=!1}))};return()=>{const{defaultOptions:e,storeData:l}=t,o=u.value,a=p.value,i=m.value;return n(fl,{modelValue:l.visible,title:S.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:r.loading,"onUpdate:modelValue"(e){l.visible=e},onShow:v},{default:()=>n("div",{class:"vxe-export--panel"},[n("table",{cellspacing:0,cellpadding:0,border:0},[n("tbody",[n("tr",[n("td",S.i18n("vxe.import.impFile")),n("td",[a?n("div",{class:"vxe-import-selected--file",title:o},[n("span",o),n("i",{class:S.icon.INPUT_CLEAR,onClick:f})]):n("button",{ref:c,class:"vxe-import-select--file",onClick:g},S.i18n("vxe.import.impSelect"))])]),n("tr",[n("td",S.i18n("vxe.import.impType")),n("td",i)]),n("tr",[n("td",S.i18n("vxe.import.impOpts")),n("td",[n(Ol,{modelValue:e.mode,"onUpdate:modelValue"(t){e.mode=t}},{default:()=>l.modeList.map((e=>n(El,{label:e.value,content:S.i18n(e.label)})))})])])])]),n("div",{class:"vxe-export--panel-btns"},[n(cl,{content:S.i18n("vxe.import.impCancel"),onClick:b}),n(cl,{status:"primary",disabled:!a,content:S.i18n("vxe.import.impConfirm"),onClick:x})])])})}}});jt.component(Sl.name,Sl),jt.component(Rl.name,Rl);const kl=r({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>S.tooltip.size||S.size},trigger:{type:String,default:()=>S.tooltip.trigger||"hover"},theme:{type:String,default:()=>S.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>S.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>S.tooltip.leaveDelay}},emits:["update:modelValue"],setup(t,a){const{slots:r,emit:i}=a,s=e.uniqueId(),c=sl(t),u=o({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),p=d(),m={refElem:p},g={xID:s,props:t,context:a,reactData:u,getRefMaps:()=>m};let b={};const x=()=>{const{tipTarget:e,tipStore:t}=u;if(e){const{scrollTop:l,scrollLeft:o,visibleWidth:n}=Y(),{top:a,left:r}=oe(e),i=p.value,s=6,c=i.offsetHeight,u=i.offsetWidth;let d=r,m=a-c-s;d=Math.max(s,r+Math.floor((e.offsetWidth-u)/2)),d+u+s>o+n&&(d=o+n-u-s),a-c<l+s&&(t.placement="bottom",m=a+e.offsetHeight+s),t.style.top=`${m}px`,t.style.left=`${d}px`,t.arrowStyle.left=r-d+e.offsetWidth/2+"px"}},C=e=>{e!==u.visible&&(u.visible=e,u.isUpdate=!0,i("update:modelValue",e))},y=()=>{u.visible?b.close():b.open()},w=()=>{b.open()},S=()=>{const{trigger:e,enterable:l,leaveDelay:o}=t;u.tipActive=!1,l&&"hover"===e?setTimeout((()=>{u.tipActive||b.close()}),o):b.close()},E=()=>{u.tipActive=!0},T=()=>{const{trigger:e,enterable:l,leaveDelay:o}=t;u.tipActive=!1,l&&"hover"===e&&setTimeout((()=>{u.tipActive||b.close()}),o)},O=()=>{const{tipStore:e}=u,l=p.value;if(l){l.parentNode||document.body.appendChild(l)}return C(!0),u.tipZindex<N()&&(u.tipZindex=$()),e.placement="top",e.style={width:"auto",left:0,top:0,zIndex:t.zIndex||u.tipZindex},e.arrowStyle={left:"50%"},b.updatePlacement()},R=e.debounce((()=>{u.tipActive&&O()}),t.enterDelay,{leading:!1,trailing:!0});b={dispatchEvent(e,t,l){i(e,Object.assign({$tooltip:g,$event:l},t))},open:(e,t)=>b.toVisible(e||u.target,t),close:()=>(u.tipTarget=null,u.tipActive=!1,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),C(!1),h()),toVisible(e,l){if(e){const{trigger:o,enterDelay:n}=t;if(u.tipActive=!0,u.tipTarget=e,l&&(u.tipContent=l),!n||"hover"!==o)return O();R()}return h()},updatePlacement:()=>h().then((()=>{const{tipTarget:e}=u,t=p.value;if(e&&t)return x(),h().then(x)})),isActived:()=>u.tipActive,setActived(e){u.tipActive=!!e}},Object.assign(g,b),l((()=>t.content),(()=>{u.tipContent=t.content})),l((()=>t.modelValue),(()=>{u.isUpdate||(t.modelValue?b.open():b.close()),u.isUpdate=!1})),f((()=>{h((()=>{const{trigger:l,content:o,modelValue:n}=t,a=p.value;if(a){const t=a.parentNode;if(t){u.tipContent=o,u.tipZindex=$(),e.arrayEach(a.children,((e,l)=>{l>1&&(t.insertBefore(e,a),u.target||(u.target=e))})),t.removeChild(a);const{target:r}=u;r&&("hover"===l?(r.onmouseenter=w,r.onmouseleave=S):"click"===l&&(r.onclick=y)),n&&b.open()}}}))})),v((()=>{const{trigger:e}=t,{target:l}=u,o=p.value;if(l&&("hover"===e?(l.onmouseenter=null,l.onmouseleave=null):"click"===e&&(l.onclick=null)),o){const e=o.parentNode;e&&e.removeChild(o)}}));const k=()=>{const{useHTML:e}=t,{tipContent:l}=u,o=r.content;return o?n("div",{key:1,class:"vxe-table--tooltip-content"},ke(o({}))):e?n("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:l}):n("div",{key:3,class:"vxe-table--tooltip-content"},A(l))};return g.renderVN=()=>{const{popupClassName:l,theme:o,isArrow:a,enterable:i}=t,{tipActive:s,visible:d,tipStore:m}=u,f=r.default,h=c.value;let v;return i&&(v={onMouseenter:E,onMouseleave:T}),n("div",Object.assign({ref:p,class:["vxe-table--tooltip-wrapper",`theme--${o}`,l?e.isFunction(l)?l({$tooltip:g}):l:"",{[`size--${h}`]:h,[`placement--${m.placement}`]:m.placement,"is--enterable":i,"is--visible":d,"is--arrow":a,"is--active":s}],style:m.style},v),[k(),n("div",{class:"vxe-table--tooltip-arrow",style:m.arrowStyle}),...f?ke(f({})):[]])},g},render(){return this.renderVN()}}),Ml=r({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(t){const l=i("$xetable",{}),{reactData:o}=l,{computeCustomOpts:a,computeColumnOpts:r,computeIsMaxFixedColumn:s}=l.getComputeMaps(),c=d(),u=d(),p=d(),m=d();let f;const g=e=>{const{customStore:o}=t;o.activeWrapper=!0,l.customOpenEvent(e)},h=e=>{const{customStore:o}=t;o.activeWrapper=!1,setTimeout((()=>{o.activeBtn||o.activeWrapper||l.customColseEvent(e)}),300)},v=e=>{I(),l.closeCustom(),l.emitCustomEvent("confirm",e)},x=e=>{l.closeCustom(),l.emitCustomEvent("cancel",e)},C=e=>{l.resetColumn(!0),l.closeCustom(),l.emitCustomEvent("reset",e)},y=e=>{Lt.modal?Lt.modal.confirm({content:S.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then((t=>{"confirm"===t&&C(e)})):C(e)},w=t=>{const{customColumnList:l}=o,n=e.findTree(l,(e=>e===t));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.visible=e.children.every((e=>e.visible)),e.halfVisible=!e.visible&&e.children.some((e=>e.visible||e.halfVisible)),w(e))}},E=t=>{const o=!t.visible,n=a.value;e.eachTree([t],(e=>{e.visible=o,e.halfVisible=!1})),w(t),n.immediate&&l.handleCustom(),l.checkCustomStatus()},T=(e,t)=>{const o=s.value;e.fixed===t?l.clearColumnFixed(e):o&&!e.fixed||l.setColumnFixed(e,t)},O=()=>{const{customStore:n}=t,{customColumnList:r}=o,i=a.value,{checkMethod:s}=i,c=!n.isAll;e.eachTree(r,(e=>{s&&!s({column:e})||(e.visible=c,e.halfVisible=!1)})),n.isAll=c,l.checkCustomStatus()},R=e=>{const t=e.currentTarget.parentNode.parentNode,o=t.getAttribute("colid"),n=l.getColumnById(o);t.draggable=!0,m.value=n,G(t,"active--drag-origin")},k=e=>{const t=e.currentTarget.parentNode.parentNode,l=p.value;t.draggable=!1,m.value=null,X(t,"active--drag-origin"),l&&(l.style.display="")},M=e=>{const t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},I=()=>{const{customColumnList:e}=o;e.forEach(((e,t)=>{const l=t+1;e.renderSortNumber=l}))},D=t=>{const{customColumnList:n}=o,a=t.currentTarget,r=p.value;if(f){if(f!==a){const t=f.getAttribute("drag-pos"),o=a.getAttribute("colid"),r=l.getColumnById(o);if(!r)return;const i=e.findIndexOf(n,(e=>e.id===r.id)),s=f.getAttribute("colid"),c=l.getColumnById(s);if(!c)return;n.splice(i,1);const u=e.findIndexOf(n,(e=>e.id===c.id));n.splice(u+("bottom"===t?1:0),0,r)}f.draggable=!1,f.removeAttribute("drag-pos"),X(f,"active--drag-target")}m.value=null,a.draggable=!1,a.removeAttribute("drag-pos"),r&&(r.style.display=""),X(a,"active--drag-target"),X(a,"active--drag-origin"),I()},$=e=>{const t=e.currentTarget;f!==t&&X(f,"active--drag-target");const o=t.getAttribute("colid"),n=l.getColumnById(o);if(n&&1===n.level){e.preventDefault();const l=e.clientY-t.getBoundingClientRect().y<t.clientHeight/2?"top":"bottom";G(t,"active--drag-target"),t.setAttribute("drag-pos",l),f=t}N(e)},N=e=>{const t=p.value,l=u.value;if(l&&t){const o=l.parentNode,n=o.getBoundingClientRect();t.style.display="block",t.style.top=`${Math.min(o.clientHeight-o.scrollTop-t.clientHeight,e.clientY-n.y)}px`,t.style.left=`${Math.min(o.clientWidth-o.scrollLeft-t.clientWidth-16,e.clientX-n.x)}px`}},F=()=>{const{customStore:i}=t,{customColumnList:c}=o,d=a.value,{checkMethod:f,visibleMethod:g}=d,h=r.value,C=s.value,w=[];return e.eachTree(c,((e,t,o,a,r)=>{if(!g||g({column:e})){const t=e.visible,o=e.halfVisible,a=A(e.getTitle(),1),i=e.children&&e.children.length,c=!!f&&!f({column:e});w.push(n("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":i}],onDragstart:M,onDragend:D,onDragover:$},[n("td",{class:"vxe-table-custom-popup--column-item col--sort"},[1===e.level?n("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:R,onMouseup:k},[n("i",{class:"vxe-icon-sort"})]):null]),n("td",{class:"vxe-table-custom-popup--column-item col--name"},[n("div",{class:"vxe-table-custom-popup--name",title:a},a)]),n("td",{class:"vxe-table-custom-popup--column-item col--visible"},[n("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":o,"is--disabled":c}],onClick:()=>{c||E(e)}},[n("span",{class:["vxe-checkbox--icon",o?S.icon.TABLE_CHECKBOX_INDETERMINATE:t?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})])]),n("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!r&&d.allowFixed?n(Ol,{modelValue:e.fixed||"",type:"button",size:"mini",options:[{label:S.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:C},{label:S.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:S.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:C}],"onUpdate:modelValue"(t){e.fixed=t},onChange(){(e=>{s.value||l.setColumnFixed(e,e.fixed)})(e)}}):null])]))}})),n(fl,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:i.visible,title:S.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(e){i.visible=e}},{default:()=>n("div",{ref:u,class:"vxe-table-custom-popup--body"},[n("div",{class:"vxe-table-custom-popup--table-wrapper"},[n("table",{},[n("colgroup",{},[n("col",{style:{width:"80px"}}),n("col",{}),n("col",{style:{width:"80px"}}),n("col",{style:{width:"200px"}})]),n("thead",{},[n("tr",{},[n("th",{},[n("span",{class:"vxe-table-custom-popup--table-sort-help-title"},S.i18n("vxe.custom.setting.colSort")),n(kl,{enterable:!0,content:S.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>n("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),n("th",{},S.i18n("vxe.custom.setting.colTitle")),n("th",{},S.i18n("vxe.custom.setting.colVisible")),n("th",{},S.i18n("vxe.custom.setting.colFixed",[h.maxFixedSize||0]))])]),n(b,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>w})])]),n("div",{ref:p,class:"vxe-table-custom-popup--drag-hint"},S.i18n("vxe.custom.cstmDragTarget",[m.value?m.value.getTitle():""]))]),footer:()=>n("div",{class:"vxe-table-custom-popup--footer"},[n(cl,{content:d.resetButtonText||S.i18n("vxe.custom.cstmRestore"),onClick:y}),n(cl,{content:d.resetButtonText||S.i18n("vxe.custom.cstmCancel"),onClick:x}),n(cl,{status:"primary",content:d.confirmButtonText||S.i18n("vxe.custom.cstmConfirm"),onClick:v})])})};return()=>"popup"===a.value.mode?F():(()=>{const{customStore:l}=t,{customColumnList:r}=o,i=a.value,{maxHeight:u}=l,{checkMethod:d,visibleMethod:p,trigger:m}=i,f=s.value,b=[],x={};"hover"===m&&(x.onMouseenter=g,x.onMouseleave=h),e.eachTree(r,((e,t,l,o,a)=>{if(!p||p({column:e})){const t=e.visible,l=e.halfVisible,o=e.children&&e.children.length,r=A(e.getTitle(),1),s=!!d&&!d({column:e});b.push(n("li",{key:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--group":o}]},[n("div",{title:r,class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":l,"is--disabled":s}],onClick:()=>{s||E(e)}},[n("span",{class:["vxe-checkbox--icon",l?S.icon.TABLE_CHECKBOX_INDETERMINATE:t?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},r)]),!a&&i.allowFixed?n("div",{class:"vxe-table-custom--fixed-option"},[n("span",{class:["vxe-table-custom--fixed-left-option","left"===e.fixed?S.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:S.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":"left"===e.fixed,"is--disabled":f&&!e.fixed}],title:S.i18n("left"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{T(e,"left")}}),n("span",{class:["vxe-table-custom--fixed-right-option","right"===e.fixed?S.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:S.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":"right"===e.fixed,"is--disabled":f&&!e.fixed}],title:S.i18n("right"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{T(e,"right")}})]):null]))}}));const y=l.isAll,w=l.isIndeterminate;return n("div",{ref:c,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":l.visible}]},[n("ul",{class:"vxe-table-custom--header"},[n("li",{class:"vxe-table-custom--option"},[n("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":y,"is--indeterminate":w}],title:S.i18n("vxe.table.allTitle"),onClick:O},[n("span",{class:["vxe-checkbox--icon",w?S.icon.TABLE_CHECKBOX_INDETERMINATE:y?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]}),n("span",{class:"vxe-checkbox--label"},S.i18n("vxe.toolbar.customAll"))])])]),n("ul",Object.assign({class:"vxe-table-custom--body",style:u?{maxHeight:`${u}px`}:{}},x),b),i.showFooter?n("div",{class:"vxe-table-custom--footer"},[n("button",{class:"btn--reset",onClick:C},i.resetButtonText||S.i18n("vxe.toolbar.customRestore")),n("button",{class:"btn--confirm",onClick:v},i.confirmButtonText||S.i18n("vxe.toolbar.customConfirm"))]):null])})()}}),Il=["openCustom","closeCustom"],Dl={setupTable(e){const{reactData:t,internalData:l}=e,{computeCustomOpts:o}=e.getComputeMaps(),{refTableHeader:n,refTableBody:a,refTableCustom:r}=e.getRefMaps(),i=e.xegrid,s=()=>{const{customStore:e}=t,l=n.value,o=a.value,i=r.value,s=i?i.$el:null,c=l.$el,u=o.$el;let d=0;c&&(d+=c.clientHeight),u&&(d+=u.clientHeight),e.maxHeight=Math.max(0,s?Math.min(s.clientHeight,d-80):0)},c=()=>{const{initStore:e,customStore:o}=t;return o.visible=!0,e.custom=!0,t.customColumnList=l.collectColumn.slice(0),p(),s(),h().then((()=>s()))},u=()=>{const{customStore:l}=t,n=o.value;return l.visible&&(l.visible=!1,n.immediate||e.handleCustom()),h()},d={openCustom:c,closeCustom:u},p=()=>{const{customStore:e}=t,{collectColumn:n}=l,a=o.value,{checkMethod:r}=a;e.isAll=n.every((e=>!!r&&!r({column:e})||e.visible)),e.isIndeterminate=!e.isAll&&n.some((e=>(!r||r({column:e}))&&(e.visible||e.halfVisible)))},m=(t,l)=>{(i||e).dispatchEvent("custom",{type:t},l)},f={checkCustomStatus:p,emitCustomEvent:m,triggerCustomEvent(t){const{customStore:l}=e.reactData;l.visible?(u(),m("close",t)):(l.btnEl=t.target,c(),m("open",t))},customOpenEvent(l){const{customStore:o}=t;o.visible||(o.activeBtn=!0,o.btnEl=l.target,e.openCustom(),e.emitCustomEvent("open",l))},customColseEvent(l){const{customStore:o}=t;o.visible&&(o.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",l))}};return Object.assign(Object.assign({},d),f)},setupGrid:e=>e.extendTableMethods(Il)},$l={Panel:Ml,install(e){Lt.hooks.add("$tableCustom",Dl),e.component(Ml.name,Ml)}};jt.component(Ml.name,Ml);const Nl=r({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const l=e=>{t("click",{$event:e})};return()=>{const{name:t,roll:o,status:a}=e;return n("i",{class:[`vxe-icon-${t}`,o?"roll":"",a?[`theme--${a}`]:""],onClick:l})}}}),Fl=Object.assign(Nl,{install(e){e.component(Nl.name,Nl)}}),Ll=Fl;function Al(t,l){const{$table:o,column:a}=t,{props:r,reactData:i}=o,{computeTooltipOpts:s}=o.getComputeMaps(),{showHeaderOverflow:c}=r,{type:u,showHeaderOverflow:d}=a,p=s.value.showAll,m=e.isUndefined(d)||e.isNull(d)?c:d,f="title"===m,g=!0===m||"tooltip"===m,h={};return(f||g||p)&&(h.onMouseenter=e=>{i._isResize||(f?ee(e.currentTarget,a):(g||p)&&o.triggerHeaderTooltipEvent(e,t))}),(g||p)&&(h.onMouseleave=e=>{i._isResize||(g||p)&&o.handleTargetLeaveEvent(e)}),["html"===u&&e.isString(l)?n("span",Object.assign({class:"vxe-cell--title",innerHTML:l},h)):n("span",Object.assign({class:"vxe-cell--title"},h),ke(l))]}function Pl(t){const{$table:l,column:o,_columnIndex:n,items:a,row:r}=t,{slots:i,editRender:s,cellRender:c}=o,u=s||c,d=i?i.footer:null;if(d)return l.callSlot(d,t);if(u){const e=Lt.renderer.get(u.name);if(e&&e.renderFooter)return ke(e.renderFooter(u,t))}return e.isArray(a)?[A(a[n],1)]:[A(e.get(r,o.field),1)]}function Vl(e){const{$table:t,row:l,column:o}=e;return A(t.getCellLabel(l,o),1)}jt.component(Fl.name,Fl);const jl={createColumn(e,t){const{type:l,sortable:o,filters:n,editRender:a,treeNode:r}=t,{props:i}=e,{editConfig:s}=i,{computeEditOpts:c,computeCheckboxOpts:u}=e.getComputeMaps(),d=u.value,p=c.value,m={renderHeader:jl.renderDefaultHeader,renderCell:r?jl.renderTreeCell:jl.renderDefaultCell,renderFooter:jl.renderDefaultFooter};switch(l){case"seq":m.renderHeader=jl.renderSeqHeader,m.renderCell=r?jl.renderTreeIndexCell:jl.renderSeqCell;break;case"radio":m.renderHeader=jl.renderRadioHeader,m.renderCell=r?jl.renderTreeRadioCell:jl.renderRadioCell;break;case"checkbox":m.renderHeader=jl.renderCheckboxHeader,m.renderCell=d.checkField?r?jl.renderTreeSelectionCellByProp:jl.renderCheckboxCellByProp:r?jl.renderTreeSelectionCell:jl.renderCheckboxCell;break;case"expand":m.renderCell=jl.renderExpandCell,m.renderData=jl.renderExpandData;break;case"html":m.renderCell=r?jl.renderTreeHTMLCell:jl.renderHTMLCell,n&&o?m.renderHeader=jl.renderSortAndFilterHeader:o?m.renderHeader=jl.renderSortHeader:n&&(m.renderHeader=jl.renderFilterHeader);break;default:s&&a?(m.renderHeader=jl.renderEditHeader,m.renderCell="cell"===p.mode?r?jl.renderTreeCellEdit:jl.renderCellEdit:r?jl.renderTreeRowEdit:jl.renderRowEdit):n&&o?m.renderHeader=jl.renderSortAndFilterHeader:o?m.renderHeader=jl.renderSortHeader:n&&(m.renderHeader=jl.renderFilterHeader)}return ye(e,t,m)},renderHeaderTitle(e){const{$table:t,column:l}=e,{slots:o,editRender:n,cellRender:a}=l,r=n||a,i=o?o.header:null;if(i)return Al(e,t.callSlot(i,e));if(r){const t=Lt.renderer.get(r.name);if(t&&t.renderHeader)return Al(e,ke(t.renderHeader(r,e)))}return Al(e,A(l.getTitle(),1))},renderDefaultHeader:e=>function(e){const{$table:t,column:l}=e,o=l.titlePrefix||l.titleHelp;return o?[n("i",{class:["vxe-cell-title-prefix-icon",o.icon||S.icon.TABLE_TITLE_PREFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e).concat(jl.renderHeaderTitle(e)).concat(function(e){const{$table:t,column:l}=e,o=l.titleSuffix;return o?[n("i",{class:["vxe-cell-title-suffix-icon",o.icon||S.icon.TABLE_TITLE_SUFFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e)),renderDefaultCell(e){const{$table:t,row:l,column:o}=e,{slots:a,editRender:r,cellRender:i}=o,s=r||i,c=a?a.default:null;if(c)return t.callSlot(c,e);if(s){const t=r?"renderCell":"renderDefault",l=Lt.renderer.get(s.name),o=l?l[t]:null;if(o)return ke(o(s,Object.assign({$type:r?"edit":"cell"},e)))}const u=t.getCellLabel(l,o),d=r?r.placeholder:"";return[n("span",{class:"vxe-cell--label"},r&&P(u)?[n("span",{class:"vxe-cell--placeholder"},A(L(d),1))]:A(u,1))]},renderTreeCell:e=>jl.renderTreeIcon(e,jl.renderDefaultCell(e)),renderDefaultFooter:e=>[n("span",{class:"vxe-cell--item"},Pl(e))],renderTreeIcon(e,t){const{$table:l,isHidden:o}=e,{reactData:a}=l,{computeTreeOpts:r}=l.getComputeMaps(),{treeExpandedMaps:i,treeExpandLazyLoadedMaps:s}=a,c=r.value,{row:u,column:d,level:p}=e,{slots:m}=d,{indent:f,lazy:g,trigger:h,iconLoaded:v,showIcon:b,iconOpen:x,iconClose:C}=c,y=c.children||c.childrenField,w=c.hasChild||c.hasChildField,E=u[y],T=m?m.icon:null;let O=!1,R=!1,k=!1;const M={};if(T)return l.callSlot(T,e);if(!o){const e=me(l,u);R=!!i[e],g&&(k=!!s[e],O=u[w])}return h&&"default"!==h||(M.onClick=t=>{t.stopPropagation(),l.triggerTreeExpandEvent(t,e)}),[n("div",{class:["vxe-cell--tree-node",{"is--active":R}],style:{paddingLeft:p*f+"px"}},[b&&(E&&E.length||O)?[n("div",Object.assign({class:"vxe-tree--btn-wrapper"},M),[n("i",{class:["vxe-tree--node-btn",k?v||S.icon.TABLE_TREE_LOADED:R?x||S.icon.TABLE_TREE_OPEN:C||S.icon.TABLE_TREE_CLOSE]})])]:null,n("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:l}=e,{slots:o}=l,n=o?o.header:null;return Al(e,n?t.callSlot(n,e):A(l.getTitle(),1))},renderSeqCell(e){const{$table:t,column:l}=e,{props:o}=t,{treeConfig:n}=o,{computeSeqOpts:a}=t.getComputeMaps(),r=a.value,{slots:i}=l,s=i?i.default:null;if(s)return t.callSlot(s,e);const{seq:c}=e,u=r.seqMethod;return[A(u?u(e):n?c:(r.startIndex||0)+c,1)]},renderTreeIndexCell:e=>jl.renderTreeIcon(e,jl.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:l}=e,{slots:o}=l,a=o?o.header:null,r=o?o.title:null;return Al(e,a?t.callSlot(a,e):[n("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):A(l.getTitle(),1))])},renderRadioCell(t){const{$table:l,column:o,isHidden:a}=t,{reactData:r}=l,{computeRadioOpts:i}=l.getComputeMaps(),{selectRadioRow:s}=r,c=i.value,{slots:u}=o,{labelField:d,checkMethod:p,visibleMethod:m}=c,{row:f}=t,g=u?u.default:null,h=u?u.radio:null,v=l.eqRow(f,s),b=!m||m({row:f});let x,C=!!p;a||(x={onClick(e){!C&&b&&(e.stopPropagation(),l.triggerRadioRowEvent(e,t))}},p&&(C=!p({row:f})));const y=Object.assign(Object.assign({},t),{checked:v,disabled:C,visible:b});if(h)return l.callSlot(h,y);const w=[];return b&&w.push(n("span",{class:["vxe-radio--icon",v?S.icon.TABLE_RADIO_CHECKED:S.icon.TABLE_RADIO_UNCHECKED]})),(g||d)&&w.push(n("span",{class:"vxe-radio--label"},g?l.callSlot(g,y):e.get(f,d))),[n("span",Object.assign({class:["vxe-cell--radio",{"is--checked":v,"is--disabled":C}]},x),w)]},renderTreeRadioCell:e=>jl.renderTreeIcon(e,jl.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:l,isHidden:o}=e,{reactData:a}=t,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:i}=t.getComputeMaps(),{isAllSelected:s,isIndeterminate:c}=a,u=r.value,{slots:d}=l,p=d?d.header:null,m=d?d.title:null,f=i.value,g=l.getTitle();let h;o||(h={onClick(e){u||(e.stopPropagation(),t.triggerCheckAllEvent(e,!s))}});const v=Object.assign(Object.assign({},e),{checked:s,disabled:u,indeterminate:c});return p?Al(v,t.callSlot(p,v)):(f.checkStrictly?f.showHeader:!1!==f.showHeader)?Al(v,[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":s,"is--disabled":u,"is--indeterminate":c}],title:S.i18n("vxe.table.allTitle")},h),[n("span",{class:["vxe-checkbox--icon",c?S.icon.TABLE_CHECKBOX_INDETERMINATE:s?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(m||g?[n("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,v):g)]:[]))]):Al(v,[n("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,v):g)])},renderCheckboxCell(t){const{$table:l,row:o,column:a,isHidden:r}=t,{props:i,reactData:s}=l,{treeConfig:c}=i,{selectCheckboxMaps:u,treeIndeterminateMaps:d}=s,{computeCheckboxOpts:p}=l.getComputeMaps(),m=p.value,{labelField:f,checkMethod:g,visibleMethod:h}=m,{slots:v}=a,b=v?v.default:null,x=v?v.checkbox:null;let C=!1,y=!1;const w=!h||h({row:o});let E,T=!!g;if(!r){const e=me(l,o);y=!!u[e],E={onClick(e){!T&&w&&(e.stopPropagation(),l.triggerCheckRowEvent(e,t,!y))}},g&&(T=!g({row:o})),c&&(C=!!d[e])}const O=Object.assign(Object.assign({},t),{checked:y,disabled:T,visible:w,indeterminate:C});if(x)return l.callSlot(x,O);const R=[];return w&&R.push(n("span",{class:["vxe-checkbox--icon",C?S.icon.TABLE_CHECKBOX_INDETERMINATE:y?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})),(b||f)&&R.push(n("span",{class:"vxe-checkbox--label"},b?l.callSlot(b,O):e.get(o,f))),[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":T,"is--indeterminate":C,"is--hidden":!w}]},E),R)]},renderTreeSelectionCell:e=>jl.renderTreeIcon(e,jl.renderCheckboxCell(e)),renderCheckboxCellByProp(t){const{$table:l,row:o,column:a,isHidden:r}=t,{props:i,reactData:s}=l,{treeConfig:c}=i,{treeIndeterminateMaps:u}=s,{computeCheckboxOpts:d}=l.getComputeMaps(),p=d.value,{labelField:m,checkField:f,checkMethod:g,visibleMethod:h}=p,v=p.indeterminateField||p.halfField,{slots:b}=a,x=b?b.default:null,C=b?b.checkbox:null;let y=!1,w=!1;const E=!h||h({row:o});let T,O=!!g;if(!r){const n=me(l,o);w=e.get(o,f),T={onClick(e){!O&&E&&(e.stopPropagation(),l.triggerCheckRowEvent(e,t,!w))}},g&&(O=!g({row:o})),c&&(y=!!u[n])}const R=Object.assign(Object.assign({},t),{checked:w,disabled:O,visible:E,indeterminate:y});if(C)return l.callSlot(C,R);const k=[];return E&&(k.push(n("span",{class:["vxe-checkbox--icon",y?S.icon.TABLE_CHECKBOX_INDETERMINATE:w?S.icon.TABLE_CHECKBOX_CHECKED:S.icon.TABLE_CHECKBOX_UNCHECKED]})),(x||m)&&k.push(n("span",{class:"vxe-checkbox--label"},x?l.callSlot(x,R):e.get(o,m)))),[n("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":w,"is--disabled":O,"is--indeterminate":v&&!w?o[v]:y,"is--hidden":!E}]},T),k)]},renderTreeSelectionCellByProp:e=>jl.renderTreeIcon(e,jl.renderCheckboxCellByProp(e)),renderExpandCell(t){const{$table:l,isHidden:o,row:a,column:r}=t,{reactData:i}=l,{rowExpandedMaps:s,rowExpandLazyLoadedMaps:c}=i,{computeExpandOpts:u}=l.getComputeMaps(),d=u.value,{lazy:p,labelField:m,iconLoaded:f,showIcon:g,iconOpen:h,iconClose:v,visibleMethod:b}=d,{slots:x}=r,C=x?x.default:null,y=x?x.icon:null;let w=!1,E=!1;if(y)return l.callSlot(y,t);if(!o){const e=me(l,a);w=!!s[e],p&&(E=!!c[e])}return[!g||b&&!b(t)?null:n("span",{class:["vxe-table--expanded",{"is--active":w}],onClick(e){e.stopPropagation(),l.triggerRowExpandEvent(e,t)}},[n("i",{class:["vxe-table--expand-btn",E?f||S.icon.TABLE_EXPAND_LOADED:w?h||S.icon.TABLE_EXPAND_OPEN:v||S.icon.TABLE_EXPAND_CLOSE]})]),C||m?n("span",{class:"vxe-table--expand-label"},C?l.callSlot(C,t):e.get(a,m)):null]},renderExpandData(e){const{$table:t,column:l}=e,{slots:o,contentRender:n}=l,a=o?o.content:null;if(a)return t.callSlot(a,e);if(n){const t=Lt.renderer.get(n.name);if(t&&t.renderExpand)return ke(t.renderExpand(n,e))}return[]},renderHTMLCell(e){const{$table:t,column:l}=e,{slots:o}=l,a=o?o.default:null;return a?t.callSlot(a,e):[n("span",{class:"vxe-cell--html",innerHTML:Vl(e)})]},renderTreeHTMLCell:e=>jl.renderTreeIcon(e,jl.renderHTMLCell(e)),renderSortAndFilterHeader:e=>jl.renderDefaultHeader(e).concat(jl.renderSortIcon(e)).concat(jl.renderFilterIcon(e)),renderSortHeader:e=>jl.renderDefaultHeader(e).concat(jl.renderSortIcon(e)),renderSortIcon(e){const{$table:t,column:l}=e,{computeSortOpts:o}=t.getComputeMaps(),a=o.value,{showIcon:r,iconLayout:i,iconAsc:s,iconDesc:c}=a,{order:u}=l;return r?[n("span",{class:["vxe-cell--sort",`vxe-cell--sort-${i}-layout`]},[n("i",{class:["vxe-sort--asc-btn",s||S.icon.TABLE_SORT_ASC,{"sort--active":"asc"===u}],title:S.i18n("vxe.table.sortAsc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,l,"asc")}}),n("i",{class:["vxe-sort--desc-btn",c||S.icon.TABLE_SORT_DESC,{"sort--active":"desc"===u}],title:S.i18n("vxe.table.sortDesc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,l,"desc")}})])]:[]},renderFilterHeader:e=>jl.renderDefaultHeader(e).concat(jl.renderFilterIcon(e)),renderFilterIcon(e){const{$table:t,column:l,hasFilter:o}=e,{reactData:a}=t,{filterStore:r}=a,{computeFilterOpts:i}=t.getComputeMaps(),s=i.value,{showIcon:c,iconNone:u,iconMatch:d}=s;return c?[n("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===l}]},[n("i",{class:["vxe-filter--btn",o?d||S.icon.TABLE_FILTER_MATCH:u||S.icon.TABLE_FILTER_NONE],title:S.i18n("vxe.table.filter"),onClick(l){t.triggerFilterEvent&&t.triggerFilterEvent(l,e.column,e)}})])]:[]},renderEditHeader(t){const{$table:l,column:o}=t,{props:a}=l,{computeEditOpts:r}=l.getComputeMaps(),{editConfig:i,editRules:s}=a,c=r.value,{sortable:u,filters:d,editRender:p}=o;let m=!1;if(s){const t=e.get(s,o.field);t&&(m=t.some((e=>e.required)))}return(I(i)?[m&&c.showAsterisk?n("i",{class:"vxe-cell--required-icon"}):null,I(p)&&c.showIcon?n("i",{class:["vxe-cell--edit-icon",c.icon||S.icon.TABLE_EDIT]}):null]:[]).concat(jl.renderDefaultHeader(t)).concat(u?jl.renderSortIcon(t):[]).concat(d?jl.renderFilterIcon(t):[])},renderRowEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:a}=n,{editRender:r}=l;return jl.runRenderer(e,I(r)&&a&&a.row===e.row)},renderTreeRowEdit:e=>jl.renderTreeIcon(e,jl.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:a}=n,{editRender:r}=l;return jl.runRenderer(e,I(r)&&a&&a.row===e.row&&a.column===e.column)},renderTreeCellEdit:e=>jl.renderTreeIcon(e,jl.renderCellEdit(e)),runRenderer(e,t){const{$table:l,column:o}=e,{slots:a,editRender:r,formatter:i}=o,s=a?a.default:null,c=a?a.edit:null,u=Lt.renderer.get(r.name);return t?c?l.callSlot(c,e):u&&u.renderEdit?ke(u.renderEdit(r,Object.assign({$type:"edit"},e))):[]:s?l.callSlot(s,e):i?[n("span",{class:"vxe-cell--label"},Vl(e))]:jl.renderDefaultCell(e)}},Bl={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Hl=r({name:"VxeColumn",props:Bl,setup(e,{slots:t}){const l=d(),o=i("$xetable",{}),a=i("xecolgroup",null),r=jl.createColumn(o,e);r.slots=t,m("$xegrid",null),we(o,e,r),f((()=>{Se(o,l.value,r,a)})),g((()=>{Ee(o,r)}));return()=>n("div",{ref:l})}}),_l=Object.assign(Hl,{install(e){e.component(Hl.name,Hl),e.component("VxeTableColumn",Hl)}});jt.component(Hl.name,Hl),jt.component("VxeTableColumn",Hl);const zl=r({name:"VxeColgroup",props:Bl,setup(e,{slots:t}){const l=d(),o=i("$xetable",{}),a=i("xecolgroup",null),r=jl.createColumn(o,e),s={};t.header&&(s.header=t.header);const c={column:r};r.slots=s,r.children=[],m("xecolgroup",c),m("$xegrid",null),we(o,e,r),f((()=>{Se(o,l.value,r,a)})),g((()=>{Ee(o,r)}));return()=>n("div",{ref:l},t.default?t.default():[])}});let Wl;Object.assign(zl,{install(e){e.component(zl.name,zl),e.component("VxeTableColgroup",zl)}}),jt.component(zl.name,zl),jt.component("VxeTableColgroup",zl);const ql=[],Ul=500;function Xl(){ql.length&&(ql.forEach((e=>{e.tarList.forEach((t=>{const{target:l,width:o,heighe:n}=t,a=l.clientWidth,r=l.clientHeight;(a&&o!==a||r&&n!==r)&&(t.width=a,t.heighe=r,setTimeout(e.callback))}))})),Gl())}function Gl(){clearTimeout(Wl),Wl=setTimeout(Xl,S.resizeInterval||Ul)}class Yl{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),ql.length||Gl(),ql.some((e=>e===this))||ql.push(this)}}unobserve(t){e.remove(ql,(e=>e.tarList.some((e=>e.target===t))))}disconnect(){e.remove(ql,(e=>e===this))}}function Kl(e){return window.ResizeObserver?new window.ResizeObserver(e):new Yl(e)}const Zl="body",Jl={mini:3,small:2,medium:1},Ql=r({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(t){const l=i("$xetable",{}),o=i("xesize",null),{xID:a,props:r,context:s,reactData:c,internalData:p}=l,{refTableHeader:m,refTableBody:b,refTableFooter:x,refTableLeftBody:C,refTableRightBody:y,refValidTooltip:w}=l.getRefMaps(),{computeEditOpts:E,computeMouseOpts:T,computeSYOpts:O,computeEmptyOpts:R,computeKeyboardOpts:k,computeTooltipOpts:M,computeRadioOpts:D,computeExpandOpts:$,computeTreeOpts:N,computeCheckboxOpts:F,computeValidOpts:L,computeRowOpts:A,computeColumnOpts:P}=l.getComputeMaps(),V=d(),j=d(),B=d(),_=d(),z=d(),W=d(),q=d(),U=()=>{if(o){const e=o.value;if(e)return Jl[e]||0}return 0},X=()=>{const{delayHover:e}=r,{lastScrollTime:t,_isResize:l}=c;return!!(l||t&&Date.now()<t+e)},G=(e,t)=>{let o=1;if(!e)return o;const n=N.value,a=e[n.children||n.childrenField];if(a&&l.isTreeExpandByRow(e))for(let l=0;l<a.length;l++)o+=G(a[l]);return o},Y=(e,t,l)=>{let o=1;return l&&(o=G(t[l-1])),c.rowHeight*o-(l?1:12-U())},K=(t,o,a,i,s,u,d,m,f,g,h,v)=>{const{columnKey:b,height:x,showOverflow:C,cellClassName:y,cellStyle:w,align:S,spanMethod:T,mouseConfig:R,editConfig:k,editRules:D,tooltipConfig:$}=r,{tableData:V,overflowX:j,scrollYLoad:B,currentColumn:_,mergeList:z,editStore:W,isAllOverflow:q,validErrorMaps:G}=c,{afterFullData:K}=p,Z=L.value,J=F.value,Q=E.value,te=M.value,le=A.value,oe=O.value,ne=P.value,{type:ae,cellRender:re,editRender:ie,align:se,showOverflow:ce,className:ue,treeNode:de,slots:pe}=f,{actived:fe}=W,{rHeight:ge}=oe,{height:he}=le,ve=ie||re,be=ve?Lt.renderer.get(ve.name):null,xe=be?be.cellClassName:"",Ce=be?be.cellStyle:"",ye=te.showAll,we=l.getColumnIndex(f),Se=l.getVTColumnIndex(f),Ee=I(ie);let Te=a?f.fixed!==a:f.fixed&&j;const Oe=e.isUndefined(ce)||e.isNull(ce)?C:ce;let Re="ellipsis"===Oe;const ke="title"===Oe,Me=!0===Oe||"tooltip"===Oe;let Ie,De=ke||Me||Re;const $e={},Ne=se||S,Fe=G[`${o}:${f.id}`],Le=D&&Z.showMessage&&("default"===Z.message?x||V.length>1:"inline"===Z.message),Ae={colid:f.id},Pe={$table:l,$grid:l.xegrid,seq:t,rowid:o,row:s,rowIndex:u,$rowIndex:d,_rowIndex:m,column:f,columnIndex:we,$columnIndex:g,_columnIndex:Se,fixed:a,type:Zl,isHidden:Te,level:i,visibleData:K,data:V,items:v};if(B&&!De&&(Re=De=!0),(ke||Me||ye||$)&&($e.onMouseenter=e=>{X()||(ke?ee(e.currentTarget,f):(Me||ye)&&l.triggerBodyTooltipEvent(e,Pe),l.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},Pe),e))}),(Me||ye||$)&&($e.onMouseleave=e=>{X()||((Me||ye)&&l.handleTargetLeaveEvent(e),l.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},Pe),e))}),(J.range||R)&&($e.onMousedown=e=>{l.triggerCellMousedownEvent(e,Pe)}),$e.onClick=e=>{l.triggerCellClickEvent(e,Pe)},$e.onDblclick=e=>{l.triggerCellDblclickEvent(e,Pe)},z.length){const e=function(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:a,rowspan:r,colspan:i}=e[o];if(a>-1&&n>-1&&r&&i){if(n===t&&a===l)return{rowspan:r,colspan:i};if(t>=n&&t<n+r&&l>=a&&l<a+i)return{rowspan:0,colspan:0}}}}(z,m,Se);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(Ae.rowspan=t),l>1&&(Ae.colspan=l)}}else if(T){const{rowspan:e=1,colspan:t=1}=T(Pe)||{};if(!e||!t)return null;e>1&&(Ae.rowspan=e),t>1&&(Ae.colspan=t)}Te&&z&&(Ae.colspan>1||Ae.rowspan>1)&&(Te=!1),!Te&&k&&(ie||re)&&(Q.showStatus||Q.showUpdateStatus)&&(Ie=l.isUpdateByRow(s,f.field));const Ve=[];if(Te&&(C?q:C))Ve.push(n("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":Me,"c--ellipsis":Re}],style:{maxHeight:De&&(ge||he)?`${ge||he}px`:""}}));else if(Ve.push(...(e=>{const{row:t,column:o}=e,{afterFullData:a}=p,{treeConfig:i}=r,s=N.value,{slots:c,treeNode:u}=o,{fullAllDataRowIdData:d}=p,m=d[me(l,t)];let f=0,g=0,h=[];if(m&&(f=m.level,g=m._index,h=m.items),c&&c.line)return l.callSlot(c.line,e);const v=l.eqRow(a[0],t);return i&&u&&(s.showLine||s.line)?[n("div",{class:"vxe-tree--line-wrapper"},[n("div",{class:"vxe-tree--line",style:{height:`${v?1:Y(0,h,g)}px`,left:f*s.indent+(f?2-U():0)+16+"px"}})])]:[]})(Pe),n("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":Me,"c--ellipsis":Re}],style:{maxHeight:De&&(ge||he)?`${ge||he}px`:""},title:ke?l.getCellLabel(s,f):null},f.renderCell(Pe))),Le&&Fe){const e=Fe.rule,t=pe?pe.valid:null,o=Object.assign(Object.assign({},Pe),Fe);Ve.push(n("div",{class:["vxe-cell--valid-error-hint",H(Z.className,o)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},t?l.callSlot(t,o):[n("span",{class:"vxe-cell--valid-error-msg"},Fe.content)]))}return n("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",f.id,{[`col--${Ne}`]:Ne,[`col--${ae}`]:ae,"col--last":g===h.length-1,"col--tree-node":de,"col--edit":Ee,"col--ellipsis":De,"fixed--hidden":Te,"col--dirty":Ie,"col--active":k&&Ee&&fe.row===s&&(fe.column===f||"row"===Q.mode),"col--valid-error":!!Fe,"col--current":_===f},H(xe,Pe),H(ue,Pe),H(y,Pe)],key:b||ne.useKey?f.id:g},Ae),{style:Object.assign({height:De&&(ge||he)?`${ge||he}px`:""},e.isFunction(Ce)?Ce(Pe):Ce,e.isFunction(w)?w(Pe):w)}),$e),Ve)},Z=(t,o,a)=>{const{stripe:i,rowKey:s,highlightHoverRow:u,rowClassName:d,rowStyle:m,showOverflow:f,editConfig:g,treeConfig:h}=r,{hasFixedColumn:v,treeExpandedMaps:b,scrollYLoad:x,rowExpandedMaps:C,expandColumn:y,selectRadioRow:w,pendingRowMaps:S,pendingRowList:T}=c,{fullAllDataRowIdData:O}=p,R=F.value,k=D.value,M=N.value,I=E.value,L=A.value,{transform:P}=M,V=M.children||M.childrenField,j=[];return o.forEach(((r,c)=>{const p={};let E=c;E=l.getRowIndex(r),(L.isHover||u)&&(p.onMouseenter=e=>{X()||l.triggerHoverEvent(e,{row:r,rowIndex:E})},p.onMouseleave=()=>{X()||l.clearHoverRow()});const D=me(l,r),N=O[D];let F=0,A=-1,B=0;N&&(F=N.level,A=N.seq,B=N._index);const _={$table:l,seq:A,rowid:D,fixed:t,type:Zl,level:F,row:r,rowIndex:E,$rowIndex:c,_rowIndex:B},z=y&&!!C[D];let W=!1,q=[],U=!1;if(g&&(U=l.isInsertByRow(r)),!h||x||P||(q=r[V],W=q&&q.length&&!!b[D]),j.push(n("tr",Object.assign({class:["vxe-body--row",h?`row--level-${F}`:"",{"row--stripe":i&&(l.getVTRowIndex(r)+1)%2==0,"is--new":U,"is--expand-row":z,"is--expand-tree":W,"row--new":U&&(I.showStatus||I.showInsertStatus),"row--radio":k.highlight&&l.eqRow(w,r),"row--checked":R.highlight&&l.isCheckedByCheckboxRow(r),"row--pending":T.length&&!!S[D]},H(d,_)],rowid:D,style:m?e.isFunction(m)?m(_):m:null,key:s||L.useKey||h?D:c},p),a.map(((e,l)=>K(A,D,t,F,r,E,c,B,e,l,a,o))))),z){const o=$.value,{height:i}=o,s={};i&&(s.height=`${i}px`),h&&(s.paddingLeft=F*M.indent+30+"px");const{showOverflow:u}=y,d=e.isUndefined(u)||e.isNull(u)?f:u,g={$table:l,seq:A,column:y,fixed:t,type:Zl,level:F,row:r,rowIndex:E,$rowIndex:c,_rowIndex:B};j.push(n("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${D}`,style:m?e.isFunction(m)?m(g):m:null},p),[n("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":t&&!v,"col--ellipsis":d},colspan:a.length},[n("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":i},style:s},[y.renderData(g)])])]))}W&&j.push(...Z(t,q,a))})),j};let J;const Q=(e,t,l,o)=>{(l||o)&&(l&&(ce(l),l.scrollTop=t),o&&(ce(o),o.scrollTop=t),clearTimeout(J),J=setTimeout((()=>{ue(l),ue(o),c.lastScrollTime=Date.now()}),300))},te=e=>{const{fixedType:o}=t,{highlightHoverRow:n}=r,{scrollXLoad:a,scrollYLoad:i}=c,{elemStore:s,lastScrollTop:u,lastScrollLeft:d}=p,f=A.value,g=m.value,h=b.value,v=x.value,S=C.value,E=y.value,T=w.value,O=V.value,R=g?g.$el:null,k=v?v.$el:null,M=h.$el,I=S?S.$el:null,D=E?E.$el:null,$=s["main-body-ySpace"],N=$?$.value:null,F=s["main-body-xSpace"],L=F?F.value:null,P=i&&N?N.clientHeight:M.clientHeight,j=a&&L?L.clientWidth:M.clientWidth;let B=O.scrollTop;const H=M.scrollLeft,_=H!==d,z=B!==u;p.lastScrollTop=B,p.lastScrollLeft=H,c.lastScrollTime=Date.now(),(f.isHover||n)&&l.clearHoverRow(),I&&"left"===o?(B=I.scrollTop,Q(0,B,M,D)):D&&"right"===o?(B=D.scrollTop,Q(0,B,M,I)):(_&&(R&&(R.scrollLeft=M.scrollLeft),k&&(k.scrollLeft=M.scrollLeft)),(I||D)&&(l.checkScrolling(),z&&Q(0,B,I,D))),a&&_&&l.triggerScrollXEvent(e),i&&z&&l.triggerScrollYEvent(e),_&&T&&T.reactData.visible&&T.updatePlacement(),l.dispatchEvent("scroll",{type:Zl,fixed:o,scrollTop:B,scrollLeft:H,scrollHeight:M.scrollHeight,scrollWidth:M.scrollWidth,bodyHeight:P,bodyWidth:j,isX:_,isY:z},e)};let le,oe=0,ne=0,ae=0,re=!1;const ie=e=>{const{deltaY:o,deltaX:n}=e,{highlightHoverRow:a}=r,{scrollYLoad:i}=c,{lastScrollTop:s,lastScrollLeft:u}=p,d=A.value,m=b.value,f=V.value,g=m.$el,h=o,v=n,x=h<0;if(x?f.scrollTop<=0:f.scrollTop>=f.scrollHeight-f.clientHeight)return;const w=f.scrollTop+h,S=g.scrollLeft+v,E=S!==u,T=w!==s;T&&(e.preventDefault(),p.lastScrollTop=w,p.lastScrollLeft=S,c.lastScrollTime=Date.now(),(d.isHover||a)&&l.clearHoverRow(),((e,o,n,a,r)=>{const{elemStore:i}=p,{scrollXLoad:s,scrollYLoad:u}=c,d=b.value,m=C.value,f=y.value,g=m?m.$el:null,h=f?f.$el:null,v=d.$el,x=i["main-body-ySpace"],w=x?x.value:null,S=i["main-body-xSpace"],E=S?S.value:null,T=u&&w?w.clientHeight:v.clientHeight,O=s&&E?E.clientWidth:v.clientWidth,R=re===o?Math.max(0,oe-ae):0;re=o,oe=Math.abs(o?n-R:n+R),ne=0,ae=0,clearTimeout(le);const k=()=>{if(ae<oe){const{fixedType:n}=t;ne=Math.max(5,Math.floor(1.5*ne)),ae+=ne,ae>oe&&(ne-=ae-oe);const{scrollTop:i,clientHeight:s,scrollHeight:c}=v,u=i+ne*(o?-1:1);v.scrollTop=u,g&&(g.scrollTop=u),h&&(h.scrollTop=u),(o?u<c-s:u>=0)&&(le=setTimeout(k,10)),l.dispatchEvent("scroll",{type:Zl,fixed:n,scrollTop:v.scrollTop,scrollLeft:v.scrollLeft,scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,bodyHeight:T,bodyWidth:O,isX:a,isY:r},e)}};k()})(e,x,h,E,T),i&&l.triggerScrollYEvent(e))};f((()=>{h((()=>{const{fixedType:e}=t,{elemStore:l}=p,o=`${e||"main"}-body-`,n=V.value;l[`${o}wrapper`]=V,l[`${o}table`]=j,l[`${o}colgroup`]=B,l[`${o}list`]=_,l[`${o}xSpace`]=z,l[`${o}ySpace`]=W,l[`${o}emptyBlock`]=q,n&&(n.onscroll=te,n._onscroll=te)}))})),v((()=>{const e=V.value;clearTimeout(le),e&&(e._onscroll=null,e.onscroll=null)})),g((()=>{const{fixedType:e}=t,{elemStore:l}=p,o=`${e||"main"}-body-`;l[`${o}wrapper`]=null,l[`${o}table`]=null,l[`${o}colgroup`]=null,l[`${o}list`]=null,l[`${o}xSpace`]=null,l[`${o}ySpace`]=null,l[`${o}emptyBlock`]=null}));return()=>{let{fixedColumn:e,fixedType:o,tableColumn:i}=t;const{keyboardConfig:d,showOverflow:m,spanMethod:f,mouseConfig:g}=r,{tableData:h,mergeList:v,scrollYLoad:b,isAllOverflow:x}=c,{visibleColumn:C}=p,{slots:y}=s,w=O.value,E=R.value,M=k.value,I=T.value;let D;o&&(i=c.expandColumn||!b&&!(m?x:m)||v.length||f||d&&M.isMerge?C:e);const $=y?y.empty:null;if($)D=l.callSlot($,{$table:l,$grid:l.xegrid});else{const e=E.name?Lt.renderer.get(E.name):null,t=e?e.renderTableEmptyView||e.renderEmpty:null;D=t?ke(t(E,{$table:l})):r.emptyText||S.i18n("vxe.table.emptyText")}return n("div",Object.assign({ref:V,class:["vxe-table--body-wrapper",o?`fixed-${o}--wrapper`:"body--wrapper"],xid:a},"wheel"===w.mode?{onWheel:ie}:{}),[o?u():n("div",{ref:z,class:"vxe-body--x-space"}),n("div",{ref:W,class:"vxe-body--y-space"}),n("table",{ref:j,class:"vxe-table--body",xid:a,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:B},i.map(((e,t)=>n("col",{name:e.id,key:t})))),n("tbody",{ref:_},Z(o,h,i))]),n("div",{class:"vxe-table--checkbox-range"}),g&&I.area?n("div",{class:"vxe-table--cell-area"},[n("span",{class:"vxe-table--cell-main-area"},I.extension?[n("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){l.triggerCellExtendMousedownEvent(e,{$table:l,fixed:o,type:Zl})}})]:[]),n("span",{class:"vxe-table--cell-copy-area"}),n("span",{class:"vxe-table--cell-extend-area"}),n("span",{class:"vxe-table--cell-multi-area"}),n("span",{class:"vxe-table--cell-active-area"})]):null,o?null:n("div",{class:"vxe-table--empty-block",ref:q},[n("div",{class:"vxe-table--empty-content"},D)])])}}}),eo="header",to=r({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(t){const o=i("$xetable",{}),{xID:a,props:r,reactData:s,internalData:c}=o,{refElem:p,refTableBody:m,refLeftContainer:v,refRightContainer:b,refCellResizeBar:x}=o.getRefMaps(),{computeColumnOpts:C}=o.getComputeMaps(),y=d([]),w=d(),S=d(),E=d(),T=d(),O=d(),R=d(),k=()=>{const{isGroup:e}=s;y.value=e?(e=>{let t=1;const l=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(l(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,l(e)}));const o=[];for(let n=0;n<t;n++)o.push([]);return ie(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o})(t.tableGroupColumn):[]},M=(l,n)=>{const{column:a}=n,{fixedType:r}=t,i=m.value,u=v.value,d=b.value,f=x.value,{clientX:g}=l,h=w.value,C=l.target,y=n.cell=C.parentNode;let S=0;const E=i.$el,T=le(C,h),O=C.clientWidth,R=Math.floor(O/2),k=function(t){const{$table:l,column:o,cell:n}=t,{props:a}=l,{computeResizableOpts:r}=l.getComputeMaps(),i=r.value,{minWidth:s}=i;if(s){const l=e.isFunction(s)?s(t):s;if("auto"!==l)return Math.max(1,e.toNumber(l))}const{showHeaderOverflow:c}=a,{showHeaderOverflow:u,minWidth:d}=o,p=e.isUndefined(u)||e.isNull(u)?c:u,m="title"===p||!0===p||"tooltip"===p||"ellipsis"===p;let f=e.floor(1.6*(e.toNumber(getComputedStyle(n).fontSize)||14))+(ge(n)+ge(ve(n,"")));if(m){const e=ge(ve(n,"--title>.vxe-cell--checkbox")),t=he(ve(n,">.vxe-cell--required-icon")),l=he(ve(n,">.vxe-cell--edit-icon")),o=he(ve(n,">.vxe-cell-title-prefix-icon")),a=he(ve(n,">.vxe-cell-title-suffix-icon")),r=he(ve(n,">.vxe-cell--sort"));f+=e+t+l+o+a+he(ve(n,">.vxe-cell--filter"))+r}if(d){const{refTableBody:t}=l.getRefMaps(),o=t.value,n=o?o.$el:null;if(n){if(q(d)){const t=(n.clientWidth-1)/100;return Math.max(f,Math.floor(e.toInteger(d)*t))}if(W(d))return Math.max(f,e.toInteger(d))}}return f}(n)-R;let M=T.left-y.clientWidth+O+k,I=T.left+R;const D=document.onmousemove,$=document.onmouseup,N="left"===r,F="right"===r,L=p.value;let A=0;if(N||F){const e=N?"nextElementSibling":"previousElementSibling";let t=y[e];for(;t&&!U(t,"fixed--hidden");)U(t,"col--group")||(A+=t.offsetWidth),t=t[e];F&&d&&(I=d.offsetLeft+A)}const P=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-g;let l=I+t;const o=r?0:E.scrollLeft;N?l=Math.min(l,(d?d.offsetLeft:E.clientWidth)-A-k):F?(M=(u?u.clientWidth:0)+A+k,l=Math.min(l,I+y.clientWidth-k)):M=Math.max(E.scrollLeft,M),S=Math.max(l,M),f.style.left=S-o+"px"};s._isResize=!0,G(L,"drag--resize"),f.style.display="block",document.onmousemove=P,document.onmouseup=function(e){document.onmousemove=D,document.onmouseup=$;const t=a.renderWidth+(F?I-S:S-I);a.resizeWidth=t,f.style.display="none",s._isResize=!1,c._lastResizeTime=Date.now(),o.analyColumnWidth(),o.recalculate(!0).then((()=>{o.saveCustomResizable(),o.updateCellAreas(),o.dispatchEvent("resizable-change",Object.assign(Object.assign({},n),{resizeWidth:t}),e)})),X(L,"drag--resize")},P(l),o.closeMenu&&o.closeMenu()};l((()=>t.tableColumn),k),f((()=>{h((()=>{const{fixedType:e}=t,{internalData:l}=o,{elemStore:n}=l,a=`${e||"main"}-header-`;n[`${a}wrapper`]=w,n[`${a}table`]=S,n[`${a}colgroup`]=E,n[`${a}list`]=T,n[`${a}xSpace`]=O,n[`${a}repair`]=R,k()}))})),g((()=>{const{fixedType:e}=t,{internalData:l}=o,{elemStore:n}=l,a=`${e||"main"}-header-`;n[`${a}wrapper`]=null,n[`${a}table`]=null,n[`${a}colgroup`]=null,n[`${a}list`]=null,n[`${a}xSpace`]=null,n[`${a}repair`]=null}));return()=>{const{fixedType:l,fixedColumn:i,tableColumn:d}=t,{resizable:p,border:m,columnKey:f,headerRowClassName:g,headerCellClassName:h,headerRowStyle:v,headerCellStyle:b,showHeaderOverflow:x,headerAlign:k,align:I,mouseConfig:D}=r,{isGroup:$,currentColumn:N,scrollXLoad:F,overflowX:L,scrollbarWidth:A}=s,{visibleColumn:P}=c,V=C.value;let j=y.value,B=d;return $?B=P:(l&&(F||x)&&(B=i),j=[B]),n("div",{ref:w,class:["vxe-table--header-wrapper",l?`fixed-${l}--wrapper`:"body--wrapper"],xid:a},[l?u():n("div",{ref:O,class:"vxe-body--x-space"}),n("table",{ref:S,class:"vxe-table--header",xid:a,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:E},B.map(((e,t)=>n("col",{name:e.id,key:t}))).concat(A?[n("col",{name:"col_gutter"})]:[])),n("thead",{ref:T},j.map(((t,a)=>n("tr",{class:["vxe-header--row",g?e.isFunction(g)?g({$table:o,$rowIndex:a,fixed:l,type:eo}):g:""],style:v?e.isFunction(v)?v({$table:o,$rowIndex:a,fixed:l,type:eo}):v:null},t.map(((r,i)=>{const{type:s,showHeaderOverflow:c,headerAlign:u,align:d,headerClassName:g}=r,v=r.children&&r.children.length,C=l?r.fixed!==l&&!v:!!r.fixed&&L,y=e.isUndefined(c)||e.isNull(c)?x:c,w=u||d||k||I;let S="ellipsis"===y;const E="title"===y,T=!0===y||"tooltip"===y;let O=E||T||S;const R=r.filters&&r.filters.some((e=>e.checked)),$=o.getColumnIndex(r),A=o.getVTColumnIndex(r),P={$table:o,$grid:o.xegrid,$rowIndex:a,column:r,columnIndex:$,$columnIndex:i,_columnIndex:A,fixed:l,type:eo,isHidden:C,hasFilter:R},j={onClick:e=>o.triggerHeaderCellClickEvent(e,P),onDblclick:e=>o.triggerHeaderCellDblclickEvent(e,P)};return F&&!O&&(S=O=!0),D&&(j.onMousedown=e=>o.triggerHeaderCellMousedownEvent(e,P)),n("th",Object.assign(Object.assign({class:["vxe-header--column",r.id,{[`col--${w}`]:w,[`col--${s}`]:s,"col--last":i===t.length-1,"col--fixed":r.fixed,"col--group":v,"col--ellipsis":O,"fixed--hidden":C,"is--sortable":r.sortable,"col--filter":!!r.filters,"is--filter-active":R,"col--current":N===r},g?e.isFunction(g)?g(P):g:"",h?e.isFunction(h)?h(P):h:""],colid:r.id,colspan:r.colSpan>1?r.colSpan:null,rowspan:r.rowSpan>1?r.rowSpan:null,style:b?e.isFunction(b)?b(P):b:null},j),{key:f||V.useKey||v?r.id:i}),[n("div",{class:["vxe-cell",{"c--title":E,"c--tooltip":T,"c--ellipsis":S}]},r.renderHeader(P)),C||v||!(e.isBoolean(r.resizable)?r.resizable:V.resizable||p)?null:n("div",{class:["vxe-resizable",{"is--line":!m||"none"===m}],onMousedown:e=>M(e,P)})])})).concat(A?[n("th",{class:"vxe-header--gutter col--gutter"})]:[])))))]),n("div",{ref:R,class:"vxe-table--header-border-line"})])}}}),lo="footer";const oo=r({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(t){const l=i("$xetable",{}),{xID:o,props:a,reactData:r,internalData:s}=l,{refTableHeader:c,refTableBody:p,refValidTooltip:m}=l.getRefMaps(),{computeTooltipOpts:v,computeColumnOpts:b}=l.getComputeMaps(),x=d(),C=d(),y=d(),w=d(),S=d(),E=e=>{const{fixedType:o}=t,{scrollXLoad:n}=r,{lastScrollLeft:a}=s,i=m.value,u=c.value,d=p.value,f=u?u.$el:null,g=x.value,h=d.$el,v=g.scrollLeft,b=v!==a;s.lastScrollLeft=v,r.lastScrollTime=Date.now(),f&&(f.scrollLeft=v),h&&(h.scrollLeft=v),n&&b&&l.triggerScrollXEvent(e),b&&i&&i.reactData.visible&&i.updatePlacement(),l.dispatchEvent("scroll",{type:lo,fixed:o,scrollTop:h.scrollTop,scrollLeft:v,isX:b,isY:!1},e)};f((()=>{h((()=>{const{fixedType:e}=t,{elemStore:l}=s,o=`${e||"main"}-footer-`;l[`${o}wrapper`]=x,l[`${o}table`]=C,l[`${o}colgroup`]=y,l[`${o}list`]=w,l[`${o}xSpace`]=S}))})),g((()=>{const{fixedType:e}=t,{elemStore:l}=s,o=`${e||"main"}-footer-`;l[`${o}wrapper`]=null,l[`${o}table`]=null,l[`${o}colgroup`]=null,l[`${o}list`]=null,l[`${o}xSpace`]=null}));return()=>{let{fixedType:i,fixedColumn:c,tableColumn:d,footerTableData:p}=t;const{footerRowClassName:m,footerCellClassName:f,footerRowStyle:g,footerCellStyle:h,footerAlign:T,footerSpanMethod:O,align:R,columnKey:k,showFooterOverflow:M}=a,{visibleColumn:I}=s,{scrollXLoad:D,overflowX:$,scrollbarWidth:N,currentColumn:F,mergeFooterList:L}=r,A=v.value,P=b.value;return i&&(d=r.expandColumn||!D&&!M||L.length&&O?I:c),n("div",{ref:x,class:["vxe-table--footer-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:o,onScroll:E},[i?u():n("div",{ref:S,class:"vxe-body--x-space"}),n("table",{ref:C,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0},[n("colgroup",{ref:y},d.map(((e,t)=>n("col",{name:e.id,key:t}))).concat(N?[n("col",{name:"col_gutter"})]:[])),n("tfoot",{ref:w},p.map(((t,o)=>{const a=o,r={$table:l,row:t,_rowIndex:o,$rowIndex:a,fixed:i,type:lo};return n("tr",{class:["vxe-footer--row",m?e.isFunction(m)?m(r):m:""],style:g?e.isFunction(g)?g(r):g:null},d.map(((r,s)=>{const{type:c,showFooterOverflow:u,footerAlign:m,align:g,footerClassName:v}=r,b=A.showAll,x=r.children&&r.children.length,C=i?r.fixed!==i&&!x:r.fixed&&$,y=e.isUndefined(u)||e.isNull(u)?M:u,w=m||g||T||R;let S="ellipsis"===y;const E="title"===y,I=!0===y||"tooltip"===y;let N=E||I||S;const V={colid:r.id},j={},B=l.getColumnIndex(r),_=l.getVTColumnIndex(r),z=_,W={$table:l,$grid:l.xegrid,row:t,rowIndex:o,_rowIndex:o,$rowIndex:a,column:r,columnIndex:B,$columnIndex:s,_columnIndex:_,itemIndex:z,items:t,fixed:i,type:lo,data:p};if(D&&!N&&(S=N=!0),(E||I||b)&&(j.onMouseenter=e=>{E?ee(e.currentTarget,r):(I||b)&&l.triggerFooterTooltipEvent(e,W)}),(I||b)&&(j.onMouseleave=e=>{(I||b)&&l.handleTargetLeaveEvent(e)}),j.onClick=e=>{l.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},W),e)},j.onDblclick=e=>{l.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},W),e)},L.length){const e=function(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:a,rowspan:r,colspan:i}=e[o];if(a>-1&&n>-1&&r&&i){if(n===t&&a===l)return{rowspan:r,colspan:i};if(t>=n&&t<n+r&&l>=a&&l<a+i)return{rowspan:0,colspan:0}}}}(L,o,_);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(V.rowspan=t),l>1&&(V.colspan=l)}}else if(O){const{rowspan:e=1,colspan:t=1}=O(W)||{};if(!e||!t)return null;e>1&&(V.rowspan=e),t>1&&(V.colspan=t)}return n("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",r.id,{[`col--${w}`]:w,[`col--${c}`]:c,"col--last":s===d.length-1,"fixed--hidden":C,"col--ellipsis":N,"col--current":F===r},H(v,W),H(f,W)]},V),{style:h?e.isFunction(h)?h(W):h:null}),j),{key:k||P.useKey?r.id:s}),[n("div",{class:["vxe-cell",{"c--title":E,"c--tooltip":I,"c--ellipsis":S}]},r.renderFooter(W))])})).concat(N?[n("td",{class:"vxe-footer--gutter col--gutter"})]:[]))})))])])}}}),no={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>S.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>S.table.resizable},stripe:{type:Boolean,default:()=>S.table.stripe},border:{type:[Boolean,String],default:()=>S.table.border},round:{type:Boolean,default:()=>S.table.round},size:{type:String,default:()=>S.table.size||S.size},fit:{type:Boolean,default:()=>S.table.fit},loading:Boolean,align:{type:String,default:()=>S.table.align},headerAlign:{type:String,default:()=>S.table.headerAlign},footerAlign:{type:String,default:()=>S.table.footerAlign},showHeader:{type:Boolean,default:()=>S.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>S.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>S.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>S.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>S.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>S.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>S.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>S.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>S.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>S.table.emptyText},keepSource:{type:Boolean,default:()=>S.table.keepSource},autoResize:{type:Boolean,default:()=>S.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>S.table.animat},delayHover:{type:Number,default:()=>S.table.delayHover},params:Object},ao=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],ro=B["-webkit"]&&!B.edge,io="VXE_TABLE_CUSTOM_COLUMN_WIDTH",so="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",co="VXE_TABLE_CUSTOM_COLUMN_FIXED",uo="VXE_TABLE_CUSTOM_COLUMN_SORT",po=r({name:"VxeTable",props:no,emits:ao,setup(t,r){const{slots:c,emit:p}=r,b=Lt.tooltip,w=e.uniqueId(),E=sl(t),R=x(),k=o({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),M={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let D={},V={};const j=d(),H=d(),_=d(),z=d(),Y=d(),K=d(),ee=d(),le=d(),oe=d(),ne=d(),ae=d(),ie=d(),ce=d(),ge=d(),he=d(),ve=d(),be=d(),ye=d(),we=d(),Se=d(),Ee=i("$xegrid",null);let Re;const Me=s((()=>Object.assign({},S.table.validConfig,t.validConfig))),Ie=s((()=>Object.assign({},S.table.scrollX,t.scrollX))),De=s((()=>Object.assign({},S.table.scrollY,t.scrollY))),$e=s((()=>({default:48,medium:44,small:40,mini:36}))),Ne=s((()=>Object.assign({},S.table.columnConfig,t.columnConfig))),Fe=s((()=>Object.assign({},S.table.rowConfig,t.rowConfig))),Le=s((()=>Object.assign({},S.table.resizeConfig,t.resizeConfig))),Ae=s((()=>Object.assign({},S.table.resizableConfig,t.resizableConfig))),Pe=s((()=>Object.assign({startIndex:0},S.table.seqConfig,t.seqConfig))),Ve=s((()=>Object.assign({},S.table.radioConfig,t.radioConfig))),je=s((()=>Object.assign({},S.table.checkboxConfig,t.checkboxConfig)));let Be=d();Be=s((()=>Object.assign({},S.tooltip,S.table.tooltipConfig,t.tooltipConfig)));const He=s((()=>{const e=Be.value;return Object.assign({},e)})),_e=s((()=>{const e=Be.value;return Object.assign({isArrow:!1},e)})),ze=s((()=>Object.assign({},S.table.editConfig,t.editConfig))),We=s((()=>Object.assign({orders:["asc","desc",null]},S.table.sortConfig,t.sortConfig))),qe=s((()=>Object.assign({},S.table.filterConfig,t.filterConfig))),Ue=s((()=>Object.assign({},S.table.mouseConfig,t.mouseConfig))),Xe=s((()=>Object.assign({},S.table.areaConfig,t.areaConfig))),Ge=s((()=>Object.assign({},S.table.keyboardConfig,t.keyboardConfig))),Ye=s((()=>Object.assign({},S.table.clipConfig,t.clipConfig))),Ke=s((()=>Object.assign({},S.table.fnrConfig,t.fnrConfig))),Ze=s((()=>Object.assign({},S.table.menuConfig,t.menuConfig))),Je=s((()=>{const e=Ze.value.header;return e&&e.options?e.options:[]})),Qe=s((()=>{const e=Ze.value.body;return e&&e.options?e.options:[]})),et=s((()=>{const e=Ze.value.footer;return e&&e.options?e.options:[]})),tt=s((()=>{const e=Ze.value,l=Je.value,o=Qe.value,n=et.value;return!!(t.menuConfig&&I(e)&&(l.length||o.length||n.length))})),lt=s((()=>{const{ctxMenuStore:e}=k,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),ot=s((()=>Object.assign({},S.table.exportConfig,t.exportConfig))),nt=s((()=>Object.assign({},S.table.importConfig,t.importConfig))),at=s((()=>Object.assign({},S.table.printConfig,t.printConfig))),rt=s((()=>Object.assign({},S.table.expandConfig,t.expandConfig))),it=s((()=>Object.assign({},S.table.treeConfig,t.treeConfig))),st=s((()=>Object.assign({},S.table.emptyRender,t.emptyRender))),ct=s((()=>Object.assign({},S.table.loadingConfig,t.loadingConfig))),ut=s((()=>t.border?Math.max(2,Math.ceil(k.scrollbarWidth/k.tableColumn.length)):1)),dt=s((()=>Object.assign({},S.table.customConfig,t.customConfig))),pt=s((()=>{const{collectColumn:e}=M;let t=0;return e.forEach((e=>{e.fixed&&t++})),t})),mt=s((()=>{const e=pt.value,t=Ne.value,{maxFixedSize:l}=t;return!!l&&e>=l})),ft=s((()=>{const{border:e}=t;return!0===e?"full":e||"default"})),gt=s((()=>{const{tableData:e}=k,{tableFullData:t}=M,l=je.value,{strict:o,checkMethod:n}=l;return!!o&&(!e.length&&!t.length||!!n&&t.every((e=>!n({row:e}))))})),ht={refElem:j,refTooltip:H,refValidTooltip:z,refTableFilter:K,refTableCustom:ee,refTableMenu:Y,refTableHeader:le,refTableBody:oe,refTableFooter:ne,refTableLeftHeader:ae,refTableLeftBody:ie,refTableLeftFooter:ce,refTableRightHeader:ge,refTableRightBody:he,refTableRightFooter:ve,refLeftContainer:be,refRightContainer:ye,refCellResizeBar:we},vt={computeSize:E,computeValidOpts:Me,computeSXOpts:Ie,computeSYOpts:De,computeColumnOpts:Ne,computeRowOpts:Fe,computeResizeleOpts:Le,computeResizableOpts:Ae,computeSeqOpts:Pe,computeRadioOpts:Ve,computeCheckboxOpts:je,computeTooltipOpts:Be,computeEditOpts:ze,computeSortOpts:We,computeFilterOpts:qe,computeMouseOpts:Ue,computeAreaOpts:Xe,computeKeyboardOpts:Ge,computeClipOpts:Ye,computeFNROpts:Ke,computeHeaderMenu:Je,computeBodyMenu:Qe,computeFooterMenu:et,computeIsMenu:tt,computeMenuOpts:Ze,computeExportOpts:ot,computeImportOpts:nt,computePrintOpts:at,computeExpandOpts:rt,computeTreeOpts:it,computeEmptyOpts:st,computeLoadingOpts:ct,computeCustomOpts:dt,computeFixedColumnSize:pt,computeIsMaxFixedColumn:mt,computeIsAllCheckboxDisabled:gt},bt={xID:w,props:t,context:r,instance:R,reactData:k,internalData:M,getRefMaps:()=>ht,getComputeMaps:()=>vt,xegrid:Ee},xt=(t,l,o)=>{const n=e.get(t,o),a=e.get(l,o);return!(!P(n)||!P(a))||(e.isString(n)||e.isNumber(n)?""+n==""+a:e.isEqual(n,a))},Ct=e=>{const t=We.value,{orders:l}=t,o=e.order||null,n=l.indexOf(o)+1;return l[n<l.length?n:0]},yt=t=>{const l=S.version,o=e.toStringJSON(localStorage.getItem(t)||"");return o&&o._v===l?o:{_v:l}},wt=t=>{const{fullAllDataRowIdData:l}=M,o={};return e.each(t,((e,t)=>{l[t]&&(o[t]=e)})),o},St=t=>{const{fullDataRowIdData:l}=M,o=[];return e.each(t,((e,t)=>{l[t]&&-1===bt.findRowIndexOf(o,l[t].row)&&o.push(l[t].row)})),o},Et=()=>{const{visibleColumn:e}=M,t=oe.value,l=t?t.$el:null;if(l){const{scrollLeft:t,clientWidth:o}=l,n=t+o;let a=-1,r=0,i=0;for(let l=0,s=e.length;l<s&&(r+=e[l].renderWidth,-1===a&&t<r&&(a=l),!(a>=0&&(i++,r>n)));l++);return{toVisibleIndex:Math.max(0,a),visibleSize:Math.max(8,i)}}return{toVisibleIndex:0,visibleSize:8}},Tt=(e,t,l)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o],{startIndex:a,endIndex:r}=t,i=n[l],s=i+n[l+"span"];i<a&&a<s&&(t.startIndex=i),i<r&&r<s&&(t.endIndex=s),t.startIndex===a&&t.endIndex===r||(o=-1)}},Ot=(l,o,n)=>{if(l){const{treeConfig:a}=t,{visibleColumn:r}=M;e.isArray(l)||(l=[l]),a&&l.length&&O("vxe.error.noTree",["merge-cells | merge-footer-items"]),l.forEach((t=>{let{row:l,col:a,rowspan:i,colspan:s}=t;if(n&&e.isNumber(l)&&(l=n[l]),e.isNumber(a)&&(a=r[a]),(n?l:e.isNumber(l))&&a&&(i||s)&&(i=e.toNumber(i)||1,s=e.toNumber(s)||1,i>1||s>1)){const t=e.findIndexOf(o,(e=>!(e._row!==l&&me(bt,e._row)!==me(bt,l)||e._col.id!==a&&e._col.id!==a.id))),r=o[t];if(r)r.rowspan=i,r.colspan=s,r._rowspan=i,r._colspan=s;else{const e=n?bt.findRowIndexOf(n,l):l,t=D.getVTColumnIndex(a);o.push({row:e,col:t,rowspan:i,colspan:s,_row:l,_col:a,_rowspan:i,_colspan:s})}}}))}},Rt=(l,o,n)=>{const a=[];if(l){const{treeConfig:r}=t,{visibleColumn:i}=M;e.isArray(l)||(l=[l]),r&&l.length&&O("vxe.error.noTree",["merge-cells | merge-footer-items"]),l.forEach((t=>{let{row:l,col:r}=t;n&&e.isNumber(l)&&(l=n[l]),e.isNumber(r)&&(r=i[r]);const s=e.findIndexOf(o,(e=>!(e._row!==l&&me(bt,e._row)!==me(bt,l)||e._col.id!==r&&e._col.id!==r.id)));if(s>-1){const e=o.splice(s,1);a.push(e[0])}}))}return a},kt=()=>{const{tableFullColumn:e}=M;e.forEach((e=>{e.order=null}))},Mt=l=>{const{parentHeight:o}=k,n=t[l];let a=0;if(n)if("auto"===n)a=o;else{const t=bt.getExcludeHeight();a=q(n)?Math.floor((e.toInteger(n)||1)/100*o):e.toNumber(n),a=Math.max(40,a-t)}return a},It=()=>{const{tableFullColumn:l,collectColumn:o}=M,n=M.fullColumnIdData={},a=M.fullColumnFieldData={};Ue.value,Ne.value,Fe.value;const r=o.some(F);let i,s,c=!!t.showOverflow;const u=(e,t,l,o,r)=>{const{id:u,field:d,fixed:p,type:m,treeNode:f}=e,g={column:e,colid:u,index:t,items:l,parent:r};d&&(a[d]=g),f?s||(s=e):"expand"===m&&(i||(i=e)),c&&!1===e.showOverflow&&(c=!1),n[u]&&O("vxe.error.colRepet",["colId",u]),n[u]=g};r?e.eachTree(o,((e,t,l,o,n,a)=>{e.level=a.length,u(e,t,l,0,n)})):l.forEach(u),k.isGroup=r,k.treeNodeColumn=s,k.expandColumn=i,k.isAllOverflow=c},Dt=()=>{M.customHeight=Mt("height"),M.customMinHeight=Mt("minHeight"),M.customMaxHeight=Mt("maxHeight")},$t=()=>{const l=le.value,o=oe.value,n=ne.value,a=o?o.$el:null,r=l?l.$el:null,i=n?n.$el:null;if(!a)return;let s=0;const c=a.clientWidth-1;let u=c,d=u/100;const{fit:p}=t,{columnStore:m}=k,{resizeList:f,pxMinList:g,pxList:v,scaleList:b,scaleMinList:x,autoList:C}=m;if(g.forEach((t=>{const l=e.toInteger(t.minWidth);s+=l,t.renderWidth=l})),x.forEach((t=>{const l=Math.floor(e.toInteger(t.minWidth)*d);s+=l,t.renderWidth=l})),b.forEach((t=>{const l=Math.floor(e.toInteger(t.width)*d);s+=l,t.renderWidth=l})),v.forEach((t=>{const l=e.toInteger(t.width);s+=l,t.renderWidth=l})),f.forEach((t=>{const l=e.toInteger(t.resizeWidth);s+=l,t.renderWidth=l})),u-=s,d=u>0?Math.floor(u/(x.length+g.length+C.length)):0,p?u>0&&x.concat(g).forEach((e=>{s+=d,e.renderWidth+=d})):d=40,C.forEach((e=>{const t=Math.max(d,40);e.renderWidth=t,s+=t})),p){const e=b.concat(x).concat(g).concat(C);let t=e.length-1;if(t>0){let l=c-s;if(l>0){for(;l>0&&t>=0;)l--,e[t--].renderWidth++;s=c}}}const y=a.offsetHeight,w=a.scrollHeight>a.clientHeight;let S=0;w&&(S=Math.max(a.offsetWidth-a.clientWidth,0)),k.scrollbarWidth=S,k.overflowY=w,M.tableWidth=s,M.tableHeight=y;let E=0;r&&(E=r.clientHeight,h((()=>{r&&a&&r.scrollLeft!==a.scrollLeft&&(r.scrollLeft=a.scrollLeft)}))),M.headerHeight=E;let T=!1,O=0,R=0;i?(O=i.offsetHeight,T=s>i.clientWidth,T&&(R=Math.max(O-i.clientHeight,0))):(T=s>c,T&&(R=Math.max(y-a.clientHeight,0))),M.footerHeight=O,k.overflowX=T,k.scrollbarHeight=R,Dt(),k.parentHeight=Math.max(M.headerHeight+O+20,V.getParentHeight()),T&&V.checkScrolling()},Nt=t=>{const{sortBy:l,sortType:o}=t;return n=>{let a;return a=l?e.isFunction(l)?l({row:n,column:t}):e.get(n,l):V.getCellLabel(n,t),o&&"auto"!==o?"number"===o?e.toNumber(a):"string"===o?e.toValueString(a):a:isNaN(a)?a:e.toNumber(a)}},Ft=()=>{const{treeConfig:l}=t,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:a}=M,{afterTreeFullData:r}=M,i=it.value,s=i.children||i.childrenField,c={};l?e.eachTree(r,((e,t,l,o)=>{const r=me(bt,e),i=a[r],s=o.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(i)i.seq=s,i._index=t;else{const l={row:e,rowid:r,seq:s,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};a[r]=l,n[r]=l}c[r]=e}),{children:i.transform?i.mapChildrenField:s}):o.forEach(((e,t)=>{const l=me(bt,e),o=a[l],r=t+1;if(o)o.seq=r,o._index=t;else{const o={row:e,rowid:l,seq:r,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};a[l]=o,n[l]=o}c[l]=e})),M.afterFullRowMaps=c},At=()=>{const{treeConfig:l}=t,{treeExpandedMaps:o}=k,n=it.value;if(l&&n.transform){const t=[],l={};return e.eachTree(M.afterTreeFullData,((e,n,a,r,i)=>{const s=me(bt,e),c=me(bt,i);(!i||l[c]&&o[c])&&(l[s]=1,t.push(e))}),{children:n.mapChildrenField}),M.afterFullData=t,xl(t),t}return M.afterFullData},Pt=()=>{const{border:l,showFooter:o,showOverflow:n,showHeaderOverflow:a,showFooterOverflow:r,mouseConfig:i,spanMethod:s,footerSpanMethod:c,keyboardConfig:u}=t,{isGroup:d,currentRow:p,tableColumn:m,scrollXLoad:f,scrollYLoad:g,scrollbarWidth:v,scrollbarHeight:b,columnStore:x,editStore:C,mergeList:y,mergeFooterList:w,isAllOverflow:S}=k;let{visibleColumn:E,fullColumnIdData:T,tableHeight:O,tableWidth:R,headerHeight:I,footerHeight:$,elemStore:N,customHeight:F,customMinHeight:L,customMaxHeight:A}=M;const P=Se.value,V=ut.value,j=Ue.value,H=Ge.value,_=N["main-body-wrapper"],z=_?_.value:null;return P&&(P.style.top=`${I}px`,P.style.height=z?z.offsetHeight-b+"px":""),F>0&&o&&(F+=b),["main","left","right"].forEach(((t,i)=>{const p=i>0?t:"",h="left"===p;let C,M=[];p&&(M=h?x.leftList:x.rightList,C=h?be.value:ye.value),["header","body","footer"].forEach((i=>{const x=N[`${t}-${i}-wrapper`],P=x?x.value:null,j=N[`${t}-${i}-table`],_=j?j.value:null;if("header"===i){let o=R,n=m;d?n=E:p&&(f||a)&&(n=M),o=n.reduce(((e,t)=>e+t.renderWidth),0),_&&(_.style.width=o?`${o+v}px`:"");const r=N[`${t}-${i}-repair`],s=r?r.value:null;s&&(s.style.width=`${R}px`);const c=N[`${t}-${i}-list`],u=c?c.value:null;d&&u&&e.arrayEach(u.querySelectorAll(".col--group"),(t=>{const o=D.getColumnNode(t);if(o){const n=o.item,{showHeaderOverflow:r}=n,i=e.isBoolean(r)?r:a,s="title"===i||(!0===i||"tooltip"===i)||"ellipsis"===i;let c=0,u=0;s&&e.eachTree(n.children,(e=>{e.children&&n.children.length||u++,c+=e.renderWidth}),{children:"children"}),t.style.width=s?c-u-(l?2:0)+"px":""}}))}else if("body"===i){const e=N[`${t}-${i}-emptyBlock`],l=e?e.value:null;if(re(P)){let e=0;const t=L-I-$;if(A&&(e=A-I-$,p&&(e-=o?0:b),e=Math.max(t,e),P.style.maxHeight=`${e}px`),F){let l=F-I-$;p&&(l-=o?0:b),e&&(l=Math.min(e,l)),P.style.height=`${Math.max(t,l)}px`}else P.style.height="";P.style.minHeight=`${t}px`}C&&(re(P)&&(P.style.top=`${I}px`),C.style.height=(F>0?F-I-$:O)+I+$-b*(o?2:1)+"px",C.style.width=`${M.reduce(((e,t)=>e+t.renderWidth),h?0:v)}px`);let a=R,r=m;p&&(r=k.expandColumn||!g&&!(n?S:n)||y.length||s||u&&H.isMerge?E:M),a=r.reduce(((e,t)=>e+t.renderWidth),0),_&&(_.style.width=a?`${a}px`:"",_.style.paddingRight=v&&p&&(B["-moz"]||B.safari)?`${v}px`:""),l&&(l.style.width=a?`${a}px`:"")}else if("footer"===i){let e=R,t=m;p&&(t=k.expandColumn||!f&&!r||w.length&&c?E:M),e=t.reduce(((e,t)=>e+t.renderWidth),0),re(P)&&(C&&(P.style.top=`${F>0?F-$:O+I}px`),P.style.marginTop=-Math.max(1,b)+"px"),_&&(_.style.width=e?`${e+v}px`:"")}const z=N[`${t}-${i}-colgroup`],W=z?z.value:null;W&&e.arrayEach(W.children,(l=>{const o=l.getAttribute("name");if("col_gutter"===o&&(l.style.width=`${v}px`),T[o]){const s=T[o].column,{showHeaderOverflow:c,showFooterOverflow:u,showOverflow:d}=s;let p;l.style.width=`${s.renderWidth}px`,p="header"===i?e.isUndefined(c)||e.isNull(c)?a:c:"footer"===i?e.isUndefined(u)||e.isNull(u)?r:u:e.isUndefined(d)||e.isNull(d)?n:d;let m="title"===p||(!0===p||"tooltip"===p)||"ellipsis"===p;const f=N[`${t}-${i}-list`],h=f?f.value:null;g&&!m&&(m=!0),h&&e.arrayEach(h.querySelectorAll(`.${s.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),l=e.querySelector(".vxe-cell");let o=s.renderWidth;if(l){if(t>1){const e=D.getColumnIndex(s);for(let l=1;l<t;l++){const t=D.getColumns(e+l);t&&(o+=t.renderWidth)}}l.style.width=m?o-V*t+"px":""}}))}}))}))})),p&&D.setCurrentRow(p),i&&j.selected&&C.selected.row&&C.selected.column&&bt.addCellSelectedClass(),h()},Vt=e=>bt.triggerValidate?bt.triggerValidate(e):h(),jt=(e,t)=>{Vt("blur").catch((e=>e)).then((()=>{bt.handleActived(t,e).then((()=>Vt("change"))).catch((e=>e))}))},Bt=(e,t)=>{const{checkboxReserveRowMap:l}=M;if(je.value.reserve){const o=me(bt,e);t?l[o]=e:l[o]&&delete l[o]}},Ht=(e,t)=>{const l=Ve.value,{checkMethod:o}=l;return e&&(t||!o||o({row:e}))&&(k.selectRadioRow=e,(e=>{Ve.value.reserve&&(M.radioReserveRow=e)})(e)),h()},el=(t,l,o)=>(t&&!e.isArray(t)&&(t=[t]),t.forEach((e=>V.handleSelectRow({row:e},!!l,o))),h()),tl=(l,o)=>{const{treeConfig:n}=t,{selectCheckboxMaps:a}=k,{afterFullData:r,afterFullRowMaps:i,checkboxReserveRowMap:s}=M,c=it.value,u=c.children||c.childrenField,d=je.value,{checkField:p,reserve:m,checkStrictly:f,checkMethod:g}=d,v=d.indeterminateField||d.halfField,b={};if(n||e.each(a,((e,t)=>{i[t]||(b[t]=e)})),f)k.isAllSelected=l;else{if(p){const t=t=>{(o||!g||g({row:t}))&&(l&&(b[me(bt,t)]=t),e.set(t,p,l)),n&&v&&e.set(t,v,!1)};n?e.eachTree(r,t,{children:u}):r.forEach(t)}else n?l?e.eachTree(r,(e=>{(o||!g||g({row:e}))&&(b[me(bt,e)]=e)}),{children:u}):!o&&g&&e.eachTree(r,(e=>{const t=me(bt,e);!g({row:e})&&a[t]&&(b[t]=e)}),{children:u}):l?!o&&g?r.forEach((e=>{const t=me(bt,e);(a[t]||g({row:e}))&&(b[t]=e)})):r.forEach((e=>{b[me(bt,e)]=e})):!o&&g&&r.forEach((e=>{const t=me(bt,e);!g({row:e})&&a[t]&&(b[t]=e)}));m&&(l?e.each(b,((e,t)=>{s[t]=e})):r.forEach((e=>Bt(e,!1)))),k.selectCheckboxMaps=p?{}:b}return k.treeIndeterminateMaps={},M.treeIndeterminateRowMaps={},V.checkSelectionStatus(),h()},ll=t=>{const l=it.value,o=je.value,{transform:n,loadMethod:a}=l,{checkStrictly:r}=o;return new Promise((l=>{if(a){const{treeExpandLazyLoadedMaps:o}=k,{fullAllDataRowIdData:i}=M,s=me(bt,t),c=i[s];o[s]=t,a({$table:bt,row:t}).then((l=>{if(c.treeLoaded=!0,o[s]&&delete o[s],e.isArray(l)||(l=[]),l)return D.loadTreeChildren(t,l).then((e=>{const{treeExpandedMaps:l}=k;return e.length&&!l[s]&&(l[s]=t),!r&&D.isCheckedByCheckboxRow(t)&&el(e,!0),h().then((()=>{if(n)return V.handleTableData()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=k;c.treeLoaded=!1,e[s]&&delete e[s]})).finally((()=>{h().then((()=>D.recalculate())).then((()=>l()))}))}else l()}))},ol=(e,t)=>{const{treeExpandedReserveRowMap:l}=M;if(it.value.reserve){const o=me(bt,e);t?l[o]=e:l[o]&&delete l[o]}},nl=e=>new Promise((t=>{const l=rt.value,{loadMethod:o}=l;if(o){const{fullAllDataRowIdData:l}=M,{rowExpandLazyLoadedMaps:n}=k,a=me(bt,e),r=l[a];n[a]=e,o({$table:bt,row:e,rowIndex:D.getRowIndex(e),$rowIndex:D.getVMRowIndex(e)}).then((()=>{const{rowExpandedMaps:t}=k;r.expandLoaded=!0,t[a]=e})).catch((()=>{r.expandLoaded=!1})).finally((()=>{const{rowExpandLazyLoadedMaps:e}=k;e[a]&&delete e[a],h().then((()=>D.recalculate())).then((()=>t()))}))}else t()})),rl=(e,t)=>{const{rowExpandedReserveRowMap:l}=M;if(rt.value.reserve){const o=me(bt,e);t?l[o]=e:l[o]&&delete l[o]}},cl=()=>h().then((()=>{const{scrollXLoad:t,scrollYLoad:l}=k,{scrollXStore:o,scrollYStore:n}=M,a=De.value,r=Ie.value;if(t){const{visibleSize:t}=Et(),l=r.oSize?e.toNumber(r.oSize):B.edge?5:0;o.offsetSize=l,o.visibleSize=t,o.endIndex=Math.max(o.startIndex+o.visibleSize+l,o.endIndex),V.updateScrollXData()}else V.updateScrollXSpace();const{rowHeight:i,visibleSize:s}=(()=>{const e=le.value,t=oe.value,l=t?t.$el:null,o=E.value,n=$e.value;if(l){const t=e?e.$el:null;let a,r=0;return a=l.querySelector("tr"),!a&&t&&(a=t.querySelector("tr")),a&&(r=a.clientHeight),r||(r=n[o||"default"]),{rowHeight:r,visibleSize:Math.max(8,Math.ceil(l.clientHeight/r)+2)}}return{rowHeight:0,visibleSize:8}})();if(n.rowHeight=i,l){const t=a.oSize?e.toNumber(a.oSize):B.edge?10:0;n.offsetSize=t,n.visibleSize=s,n.endIndex=Math.max(n.startIndex+s+t,n.endIndex),V.updateScrollYData()}else V.updateScrollYSpace();k.rowHeight=i,h(Pt)})),ul=l=>{const{keepSource:n,treeConfig:a}=t,{editStore:r,scrollYLoad:i}=k,{scrollYStore:s,scrollXStore:c,lastScrollLeft:u,lastScrollTop:d}=M,p=it.value,{transform:m}=p,f=p.children||p.childrenField;let g=[],v=o(l?l.slice(0):[]);a&&(m?(g=e.toArrayTree(v,{key:p.rowField,parentKey:p.parentField,children:f,mapChildren:p.mapChildrenField}),v=g.slice(0)):g=v.slice(0)),s.startIndex=0,s.endIndex=1,c.startIndex=0,c.endIndex=1,k.scrollVMLoading=!1,r.insertMaps={},r.removeMaps={};const b=xl(v);return k.scrollYLoad=b,M.tableFullData=v,M.tableFullTreeData=g,V.cacheRowMap(!0),M.tableSynchData=l,n&&V.cacheSourceMap(v),bt.clearCellAreas&&t.mouseConfig&&(bt.clearCellAreas(),bt.clearCopyCellArea()),D.clearMergeCells(),D.clearMergeFooterItems(),V.handleTableData(!0),D.updateFooter(),h().then((()=>{Dt(),Pt()})).then((()=>{cl()})).then((()=>(b&&(s.endIndex=s.visibleSize),(()=>{const{treeConfig:e}=t,{expandColumn:l,currentRow:o,selectCheckboxMaps:n,selectRadioRow:a,rowExpandedMaps:r,treeExpandedMaps:i}=k,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:u}=M,d=rt.value,p=it.value,m=Ve.value,f=je.value;if(a&&!c[me(bt,a)]&&(k.selectRadioRow=null),m.reserve&&u){const e=me(bt,u);s[e]&&Ht(s[e].row,!0)}k.selectCheckboxMaps=wt(n),f.reserve&&el(St(M.checkboxReserveRowMap),!0,!0),o&&!c[me(bt,o)]&&(k.currentRow=null),k.rowExpandedMaps=l?wt(r):{},l&&d.reserve&&D.setRowExpand(St(M.rowExpandedReserveRowMap),!0),k.treeExpandedMaps=e?wt(i):{},e&&p.reserve&&D.setTreeExpand(St(M.treeExpandedReserveRowMap),!0)})(),V.checkSelectionStatus(),new Promise((e=>{h().then((()=>D.recalculate())).then((()=>{let t=u,l=d;const o=Ie.value,n=De.value;o.scrollToLeftOnChange&&(t=0),n.scrollToTopOnChange&&(l=0),i===b?se(bt,t,l).then(e):setTimeout((()=>se(bt,t,l).then(e)))}))})))))},pl=()=>{(()=>{const{checkboxConfig:e}=t;if(e){const{fullDataRowIdData:e}=M,t=je.value,{checkAll:l,checkRowKeys:o}=t;if(l)tl(!0,!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),el(t,!0,!0)}}})(),(()=>{const{radioConfig:e}=t;if(e){const{fullDataRowIdData:e}=M,t=Ve.value,{checkRowKey:l,reserve:o}=t;if(l&&(e[l]&&Ht(e[l].row,!0),o)){const e=pe(bt);M.radioReserveRow={[e]:l}}}})(),(()=>{const{expandConfig:e}=t;if(e){const{fullDataRowIdData:e}=M,t=rt.value,{expandAll:l,expandRowKeys:o}=t;if(l)D.setAllRowExpand(!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),D.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:l}=t;if(l){const{tableFullData:t}=M,l=it.value,{expandAll:o,expandRowKeys:n}=l,a=l.children||l.childrenField;if(o)D.setAllTreeExpand(!0);else if(n){const l=[],o=pe(bt);n.forEach((n=>{const r=e.findTree(t,(t=>n===e.get(t,o)),{children:a});r&&l.push(r.item)})),D.setTreeExpand(l,!0)}}})(),(()=>{const{mergeCells:e}=t;e&&D.setMergeCells(e)})(),(()=>{const{mergeFooterItems:e}=t;e&&D.setMergeFooterItems(e)})(),h((()=>setTimeout((()=>D.recalculate()))))},ml=()=>{(()=>{const{sortConfig:l}=t;if(l){const t=We.value;let{defaultSort:o}=t;o&&(e.isArray(o)||(o=[o]),o.length&&((l.multiple?o:o.slice(0,1)).forEach(((e,t)=>{const{field:l,order:o}=e;if(l&&o){const e=D.getColumnByField(l);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}})),t.remote||V.handleTableData(!0).then(Pt)))}})()},fl=()=>{const{scrollXLoad:e}=k,{visibleColumn:t,scrollXStore:l,fullColumnIdData:o}=M,n=e?t.slice(l.startIndex,l.endIndex):t.slice(0);n.forEach(((e,t)=>{const l=e.id,n=o[l];n&&(n.$index=t)})),k.tableColumn=n},gl=()=>{const{mergeList:e,mergeFooterList:t}=k,{scrollXStore:l}=M,{startIndex:o,endIndex:n,offsetSize:a}=l,{toVisibleIndex:r,visibleSize:i}=Et(),s={startIndex:Math.max(0,r-1-a),endIndex:r+i+a};Tt(e.concat(t),s,"col");const{startIndex:c,endIndex:u}=s;(r<=o||r>=n-i-1)&&(o===c&&n===u||(l.startIndex=c,l.endIndex=u,V.updateScrollXData())),D.closeTooltip()},hl=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?hl(e.children):[e])})),t},vl=()=>{const t=[],l=[],o=[],{isGroup:n,columnStore:a}=k,r=Ie.value,{collectColumn:i,tableFullColumn:s,scrollXStore:c,fullColumnIdData:u}=M;if(n){const n=[],a=[],r=[];e.eachTree(i,((n,a,r,i,s)=>{const c=F(n);s&&s.fixed&&(n.fixed=s.fixed),s&&n.fixed!==s.fixed&&O("vxe.error.groupFixed"),c?n.visible=!!e.findTree(n.children,(e=>!F(e)&&e.visible)):n.visible&&("left"===n.fixed?t.push(n):"right"===n.fixed?o.push(n):l.push(n))})),i.forEach((e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?r.push(e):a.push(e))})),k.tableGroupColumn=n.concat(a).concat(r)}else s.forEach((e=>{e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?o.push(e):l.push(e))}));const d=t.concat(l).concat(o),p=!!r.enabled&&r.gt>-1&&(0===r.gt||r.gt<s.length);if(k.hasFixedColumn=t.length>0||o.length>0,Object.assign(a,{leftList:t,centerList:l,rightList:o}),p){const{visibleSize:e}=Et();c.startIndex=0,c.endIndex=e,c.visibleSize=e}return d.length===M.visibleColumn.length&&M.visibleColumn.every(((e,t)=>e===d[t]))||(D.clearMergeCells(),D.clearMergeFooterItems()),k.scrollXLoad=p,d.forEach(((e,t)=>{const l=e.id,o=u[l];o&&(o._index=t)})),M.visibleColumn=d,fl(),D.updateFooter().then((()=>D.recalculate())).then((()=>(D.updateCellAreas(),D.recalculate())))},bl=l=>{M.collectColumn=l;const o=hl(l);return M.tableFullColumn=o,(()=>{const{collectColumn:e}=M;e.forEach(((e,t)=>{const l=t+1;e.sortNumber=l,e.renderSortNumber=l}))})(),(()=>{const{id:l,customConfig:o}=t,n=dt.value,{storage:a}=n,r=!0===a,i=r?{}:Object.assign({},a||{}),s=r||i.resizable,c=r||i.visible,u=r||i.fixed,d=r||i.sort;if(o&&(s||c||u||d)){const t={};if(!l)return void O("vxe.error.reqProp",["id"]);if(s){const o=yt(io)[l];o&&e.each(o,((e,l)=>{t[l]={resizeWidth:e}}))}if(u){const e=yt(co)[l];e&&e.split(",").forEach((e=>{const[l,o]=e.split("|");t[l]?t[l].fixed=o:t[l]={fixed:o}}))}let o=!1;if(d){const n=yt(uo)[l];n&&e.each(n,((e,l)=>{t[l]?t[l].renderSortNumber=e:t[l]={renderSortNumber:e},o||(o=!0)}))}if(c){const e=yt(so)[l];if(e){const l=e.split("|"),o=l[0]?l[0].split(","):[],n=l[1]?l[1].split(","):[];o.forEach((e=>{t[e]?t[e].visible=!1:t[e]={visible:!1}})),n.forEach((e=>{t[e]?t[e].visible=!0:t[e]={visible:!0}}))}}let{collectColumn:n}=M;const a={};e.eachTree(n,(e=>{const t=e.getKey();t&&(a[t]=e)})),e.each(t,(({visible:t,resizeWidth:l,fixed:o,renderSortNumber:n},r)=>{const i=a[r];i&&(e.isNumber(l)&&(i.resizeWidth=l),e.isBoolean(t)&&(i.visible=t),o&&(i.fixed=o),n&&(i.renderSortNumber=Number(n)))})),o&&(n=e.orderBy(n,"renderSortNumber"),M.collectColumn=n,M.tableFullColumn=hl(n))}})(),It(),vl().then((()=>{k.scrollXLoad&&gl()})),D.clearMergeCells(),D.clearMergeFooterItems(),V.handleTableData(!0),h().then((()=>(Re&&Re.syncUpdate({collectColumn:l,$table:bt}),D.recalculate())))},xl=e=>{const{treeConfig:l}=t,o=De.value,n=it.value,{transform:a}=n,r=e||M.tableFullData,i=(a||!l)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<r.length);return k.scrollYLoad=i,i},Cl=(t,l)=>{const{treeExpandedMaps:o,treeExpandLazyLoadedMaps:n,treeNodeColumn:a}=k,r=Object.assign({},o),{fullAllDataRowIdData:i,tableFullData:s}=M,c=it.value,{reserve:u,lazy:d,accordion:p,toggleMethod:m}=c,f=c.children||c.childrenField,g=c.hasChild||c.hasChildField,h=[],v=D.getColumnIndex(a),b=D.getVMColumnIndex(a);let x=m?t.filter((e=>m({$table:bt,expanded:l,column:a,columnIndex:v,$columnIndex:b,row:e}))):t;if(p){x=x.length?[x[x.length-1]]:[];const t=e.findTree(s,(e=>e===x[0]),{children:f});t&&t.items.forEach((e=>{const t=me(bt,e);r[t]&&delete r[t]}))}return l?x.forEach((e=>{const t=me(bt,e);if(!r[t]){const l=i[t];d&&e[g]&&!l.treeLoaded&&!n[t]?h.push(ll(e)):e[f]&&e[f].length&&(r[t]=e)}})):x.forEach((e=>{const t=me(bt,e);r[t]&&delete r[t]})),u&&x.forEach((e=>ol(e,l))),k.treeExpandedMaps=r,Promise.all(h).then((()=>D.recalculate()))},yl=e=>{const{mergeList:t}=k,{scrollYStore:l}=M,{startIndex:o,endIndex:n,visibleSize:a,offsetSize:r,rowHeight:i}=l,s=(e.currentTarget||e.target).scrollTop,c=Math.floor(s/i),u={startIndex:Math.max(0,c-1-r),endIndex:c+a+r};Tt(t,u,"row");const{startIndex:d,endIndex:p}=u;(c<=o||c>=n-a-1)&&(o===d&&n===p||(l.startIndex=d,l.endIndex=p,V.updateScrollYData()))},wl=e=>function(t){const{fullAllDataRowIdData:l}=M;if(t){const o=l[me(bt,t)];if(o)return o[e]}return-1},Sl=e=>function(t){const{fullColumnIdData:l}=M;if(t){const o=l[t.id];if(o)return o[e]}return-1},El=e.debounce((function(e){yl(e)}),20,{leading:!1,trailing:!0});let Tl;D={dispatchEvent(e,t,l){p(e,Object.assign({$table:bt,$grid:Ee,$event:l},t))},clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:l}=e;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(bt),syncData:()=>(T("vxe.error.delFunc",["syncData","getData"]),h().then((()=>(k.tableData=[],p("update:data",M.tableFullData),h())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=k;return V.handleTableData(!0).then((()=>{if(D.updateFooter(),e||t)return e&&V.updateScrollXSpace(),t&&V.updateScrollYSpace(),D.refreshScroll()})).then((()=>(D.updateCellAreas(),D.recalculate(!0)))).then((()=>{setTimeout((()=>bt.recalculate()),50)}))},loadData(e){const{inited:t,initStatus:l}=M;return ul(e).then((()=>(M.inited=!0,M.initStatus=!0,l||pl(),t||ml(),D.recalculate())))},reloadData(e){const{inited:t}=M;return D.clearAll().then((()=>(M.inited=!0,M.initStatus=!0,ul(e)))).then((()=>(pl(),t||ml(),D.recalculate())))},setRow(t,l){if(l){let o=t;e.isArray(t)||(o=[t]),o.forEach((e=>Object.assign(e,l)))}return h()},reloadRow(l,o,n){const{keepSource:a}=t,{tableData:r}=k,{tableSourceData:i}=M;if(a){const t=i[D.getRowIndex(l)];if(t&&l)if(n){const a=e.get(o||l,n);e.set(l,n,a),e.set(t,n,a)}else{const n=e.clone(Object.assign({},o),!0);e.destructuring(t,Object.assign(l,n))}k.tableData=r.slice(0)}return h()},loadTreeChildren(l,o){const{keepSource:n}=t,{tableSourceData:a,fullDataRowIdData:r,fullAllDataRowIdData:i,sourceDataRowIdData:s}=M,c=it.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,m=i[me(bt,l)],f=m?m.level:0;return D.createData(o).then((t=>{if(n){const o=me(bt,l),n=e.findTree(a,(e=>o===me(bt,e)),{children:p});n&&(n.item[p]=e.clone(t,!0)),t.forEach((t=>{const l=me(bt,t);s[l]=e.clone(t,!0)}))}return e.eachTree(t,((e,t,l,o,n,a)=>{const s=me(bt,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:l,parent:n||m.row,level:f+a.length};r[s]=c,i[s]=c}),{children:p}),l[p]=t,u&&(l[d]=t),Ft(),t}))},loadColumn(t){const l=e.mapTree(t,(e=>o(jl.createColumn(bt,e))));return bl(l)},reloadColumn:e=>D.clearAll().then((()=>D.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=M,l=e.getAttribute("rowid");if(l){const e=t[l];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=M,l=e.getAttribute("colid");if(l){const e=t[l];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:wl("seq"),getRowIndex:wl("index"),getVTRowIndex:wl("_index"),getVMRowIndex:wl("$index"),getColumnIndex:Sl("index"),getVTColumnIndex:Sl("_index"),getVMColumnIndex:Sl("$index"),createData:e=>h().then((()=>o(V.defineField(e)))),createRow(t){const l=e.isArray(t);return l||(t=[t||{}]),D.createData(t).then((e=>l?e:e[0]))},revertData(l,o){const{keepSource:n}=t,{tableSourceData:a,sourceDataRowIdData:r}=M;if(!n)return h();let i=l;return l?e.isArray(l)||(i=[l]):i=e.toArray(bt.getUpdateRecords()),i.length&&i.forEach((t=>{if(!D.isInsertByRow(t)){const l=me(bt,t),n=r[l];n&&t&&(o?e.set(t,o,e.clone(e.get(n,o),!0)):e.destructuring(t,e.clone(n,!0)))}})),l?h():D.reloadData(a)},clearData(t,l){const{tableFullData:o,visibleColumn:n}=M;return arguments.length?t&&!e.isArray(t)&&(t=[t]):t=o,l?t.forEach((t=>e.set(t,l,null))):t.forEach((e=>{n.forEach((t=>{t.field&&Ce(e,t,null)}))})),h()},isInsertByRow(e){const{editStore:t}=k,l=me(bt,e);return t.insertMaps[l]},removeInsertRow(){const{editStore:e}=k;return e.insertMaps={},bt.remove(bt.getInsertRecords())},isUpdateByRow(e,l){const{keepSource:o}=t,{tableFullColumn:n,fullDataRowIdData:a,sourceDataRowIdData:r}=M;if(o){const t=me(bt,e);if(!a[t])return!1;const o=r[t];if(o){if(arguments.length>1)return!xt(o,e,l);for(let t=0,l=n.length;t<l;t++){const l=n[t].field;if(l&&!xt(o,e,l))return!0}}}return!1},getColumns(t){const l=M.visibleColumn;return e.isUndefined(t)?l.slice(0):l[t]},getColumnById(e){const t=M.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=M.fullColumnFieldData;return e&&t[e]?t[e].column:null},getTableColumn:()=>({collectColumn:M.collectColumn.slice(0),fullColumn:M.tableFullColumn.slice(0),visibleColumn:M.visibleColumn.slice(0),tableColumn:k.tableColumn.slice(0)}),getData(l){const o=t.data||M.tableSynchData;return e.isUndefined(l)?o.slice(0):o[l]},getCheckboxRecords(l){const{treeConfig:o}=t,{tableFullData:n,afterFullData:a,afterTreeFullData:r,tableFullTreeData:i,fullDataRowIdData:s,afterFullRowMaps:c}=M,u=it.value,d=je.value,{transform:p,mapChildrenField:m}=u,{checkField:f}=d,g=u.children||u.childrenField;let h=[];const v=l?p?i:n:p?r:a;if(f)h=o?e.filterTree(v,(t=>e.get(t,f)),{children:p?m:g}):v.filter((t=>e.get(t,f)));else{const{selectCheckboxMaps:t}=k;e.each(t,((e,t)=>{l?s[t]&&h.push(s[t].row):c[t]&&h.push(c[t])}))}return h},getParentRow(l){const{treeConfig:o}=t,{fullDataRowIdData:n}=M;if(l&&o){let t;if(t=e.isString(l)?l:me(bt,l),t){const e=n[t];return e?e.parent:null}}return null},getRowById(t){const{fullDataRowIdData:l}=M,o=e.eqNull(t)?"":encodeURIComponent(t||"");return l[o]?l[o].row:null},getRowid:e=>me(bt,e),getTableData(){const{tableData:e,footerTableData:l}=k,{tableFullData:o,afterFullData:n,tableFullTreeData:a}=M;return{fullData:t.treeConfig?a.slice(0):o.slice(0),visibleData:n.slice(0),tableData:e.slice(0),footerData:l.slice(0)}},setColumnFixed(t,l){const o=fe(bt,t),n=Te(bt,o),a=mt.value,r=Ne.value,{maxFixedSize:i}=r;return n&&n.fixed!==l?!n.fixed&&a?(Lt.modal&&Lt.modal.message({status:"error",content:S.i18n("vxe.table.maxFixedCol",[i])}),h()):(e.eachTree([n],(e=>{e.fixed=l})),V.saveCustomFixed(),D.refreshColumn()):h()},clearColumnFixed(t){const l=fe(bt,t),o=Te(bt,l);return o&&o.fixed?(e.eachTree([o],(e=>{e.fixed=null})),V.saveCustomFixed(),D.refreshColumn()):h()},hideColumn(e){const t=fe(bt,e);return t&&t.visible?(t.visible=!1,V.handleCustom()):h()},showColumn(e){const t=fe(bt,e);return t&&!t.visible?(t.visible=!0,V.handleCustom()):h()},setColumnWidth(t,l){const o=fe(bt,t);if(o){const t=e.toInteger(l);let n=t;if(q(l)){const e=oe.value,l=e?e.$el:null,o=l?l.clientWidth-1:0;n=Math.floor(t*o)}o.renderWidth=n}return h()},getColumnWidth(e){const t=fe(bt,e);return t?t.renderWidth:0},resetColumn(t){const{collectColumn:l}=M,o=dt.value,{checkMethod:n}=o,a=Object.assign({visible:!0,resizable:!0===t,fixed:!0===t,sort:!0===t},t);return e.eachTree(l,(e=>{a.resizable&&(e.resizeWidth=0),a.fixed&&(e.fixed=e.defaultFixed),a.sort&&(e.renderSortNumber=e.sortNumber),n&&!n({column:e})||(e.visible=e.defaultVisible)})),a.resizable&&V.saveCustomResizable(!0),a.sort&&V.saveCustomSort(!0),a.fixed&&V.saveCustomFixed(),V.handleCustom()},refreshColumn(t){if(t){const t=e.orderBy(M.collectColumn,"renderSortNumber");M.collectColumn=t;const l=hl(t);M.tableFullColumn=l,It()}return vl().then((()=>D.refreshScroll())).then((()=>D.recalculate()))},refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=M,l=oe.value,o=ne.value,n=ie.value,a=he.value,r=l?l.$el:null,i=n?n.$el:null,s=a?a.$el:null,c=o?o.$el:null;return new Promise((l=>{if(e||t)return se(bt,e,t).then().then((()=>{setTimeout(l,30)}));J(r,t),J(i,t),J(s,t),Q(c,e),setTimeout(l,30)}))},recalculate:e=>($t(),!0===e?cl().then((()=>($t(),cl()))):cl()),openTooltip(e,t){const l=_.value;return l?l.open(e,t):h()},closeTooltip(){const{tooltipStore:e}=k,t=H.value,l=_.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1}),t&&t.close()),l&&l.close(),h()},isAllCheckboxChecked:()=>k.isAllSelected,isAllCheckboxIndeterminate:()=>!k.isAllSelected&&k.isIndeterminate,getCheckboxIndeterminateRecords(l){const{treeConfig:o}=t,{fullDataRowIdData:n}=M,{treeIndeterminateMaps:a}=k;if(o){const t=[],o=[];return e.each(a,((e,l)=>{e&&(t.push(e),n[l]&&o.push(e))})),l?t:o}return[]},setCheckboxRow:(e,t)=>el(e,t,!0),isCheckedByCheckboxRow(t){const{selectCheckboxMaps:l}=k,o=je.value,{checkField:n}=o;return n?e.get(t,n):!!l[me(bt,t)]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateMaps:t}=k;return!!t[me(bt,e)]&&!D.isCheckedByCheckboxRow(e)},toggleCheckboxRow(t){const{selectCheckboxMaps:l}=k,o=je.value,{checkField:n}=o,a=n?!e.get(t,n):!l[me(bt,t)];return V.handleSelectRow({row:t},a,!0),h()},setAllCheckboxRow:e=>tl(e,!0),getRadioReserveRecord(l){const{treeConfig:o}=t,{fullDataRowIdData:n,radioReserveRow:a,afterFullData:r}=M,i=Ve.value,s=it.value,c=s.children||s.childrenField;if(i.reserve&&a){const t=me(bt,a);if(l){if(!n[t])return a}else{const l=pe(bt);if(o){if(e.findTree(r,(o=>t===e.get(o,l)),{children:c}))return a}else if(!r.some((o=>t===e.get(o,l))))return a}}return null},clearRadioReserve:()=>(M.radioReserveRow=null,h()),getCheckboxReserveRecords(l){const{treeConfig:o}=t,{afterFullData:n,fullDataRowIdData:a,checkboxReserveRowMap:r}=M,i=je.value,s=it.value,c=s.children||s.childrenField,u=[];if(i.reserve){const t={};o?e.eachTree(n,(e=>{t[me(bt,e)]=1}),{children:c}):n.forEach((e=>{t[me(bt,e)]=1})),e.each(r,((e,o)=>{e&&(l?a[o]||u.push(e):t[o]||u.push(e))}))}return u},clearCheckboxReserve:()=>(M.checkboxReserveRowMap={},h()),toggleAllCheckboxRow:()=>(V.triggerCheckAllEvent(null,!k.isAllSelected),h()),clearCheckboxRow(){const{treeConfig:l}=t,{tableFullData:o}=M,n=it.value,a=n.children||n.childrenField,r=je.value,{checkField:i,reserve:s}=r,c=r.indeterminateField||r.halfField;if(i){const t=t=>{l&&c&&e.set(t,c,!1),e.set(t,i,!1)};l?e.eachTree(o,t,{children:a}):o.forEach(t)}return s&&o.forEach((e=>Bt(e,!1))),k.isAllSelected=!1,k.isIndeterminate=!1,k.selectCheckboxMaps={},k.treeIndeterminateMaps={},h()},setCurrentRow(l){const o=Fe.value,n=j.value;return D.clearCurrentRow(),k.currentRow=l,(o.isCurrent||t.highlightCurrentRow)&&n&&e.arrayEach(n.querySelectorAll(`[rowid="${me(bt,l)}"]`),(e=>G(e,"row--current"))),h()},isCheckedByRadioRow:e=>bt.eqRow(k.selectRadioRow,e),setRadioRow:e=>Ht(e,!0),clearCurrentRow(){const t=j.value;return k.currentRow=null,M.hoverRow=null,t&&e.arrayEach(t.querySelectorAll(".row--current"),(e=>X(e,"row--current"))),h()},clearRadioRow:()=>(k.selectRadioRow=null,h()),getCurrentRecord:()=>Fe.value.isCurrent||t.highlightCurrentRow?k.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:l}=M,{selectRadioRow:o}=k;if(o){const n=me(bt,o);if(e){if(t[n])return o}else if(l[n])return o}return null},getCurrentColumn:()=>Ne.value.isCurrent||t.highlightCurrentColumn?k.currentColumn:null,setCurrentColumn(e){const t=fe(bt,e);return t&&(D.clearCurrentColumn(),k.currentColumn=t),h()},clearCurrentColumn:()=>(k.currentColumn=null,h()),setPendingRow(t,l){const o=Object.assign({},k.pendingRowMaps),n=[...k.pendingRowList];return t&&!e.isArray(t)&&(t=[t]),l?t.forEach((e=>{const t=me(bt,e);t&&!o[t]&&(n.push(e),o[t]=e)})):t.forEach((e=>{const t=me(bt,e);if(t&&o[t]){const l=bt.findRowIndexOf(n,e);l>-1&&n.splice(l,1),delete o[t]}})),k.pendingRowMaps=o,k.pendingRowList=n,h()},togglePendingRow(t){const l=Object.assign({},k.pendingRowMaps),o=[...k.pendingRowList];return t&&!e.isArray(t)&&(t=[t]),t.forEach((e=>{const t=me(bt,e);if(t)if(l[t]){const n=bt.findRowIndexOf(o,e);n>-1&&o.splice(n,1),delete l[t]}else o.push(e),l[t]=e})),k.pendingRowMaps=l,k.pendingRowList=o,h()},hasPendingByRow(e){const{pendingRowMaps:t}=k;return!!t[me(bt,e)]},getPendingRecords(){const{pendingRowList:e}=k;return e.slice(0)},clearPendingRow:()=>(k.pendingRowMaps={},k.pendingRowList=[],h()),sort(t,l){const o=We.value,{multiple:n,remote:a,orders:r}=o;return t&&e.isString(t)&&(t=[{field:t,order:l}]),e.isArray(t)||(t=[t]),t.length?(n||kt(),(n?t:[t[0]]).forEach(((t,l)=>{let{field:o,order:n}=t,a=o;e.isString(o)&&(a=D.getColumnByField(o)),a&&a.sortable&&(-1===r.indexOf(n)&&(n=Ct(a)),a.order!==n&&(a.order=n),a.sortTime=Date.now()+l)})),a||V.handleTableData(!0),h().then((()=>(D.updateCellAreas(),Pt())))):h()},clearSort(e){const t=We.value;if(e){const t=fe(bt,e);t&&(t.order=null)}else kt();return t.remote||V.handleTableData(!0),h().then(Pt)},isSort(e){if(e){const t=fe(bt,e);return!!t&&(t.sortable&&!!t.order)}return D.getSortColumns().length>0},getSortColumns(){const t=We.value,{multiple:l,chronological:o}=t,n=[],{tableFullColumn:a}=M;return a.forEach((e=>{const{field:t,order:l}=e;e.sortable&&l&&n.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})})),l&&o&&n.length>1?e.orderBy(n,"sortTime"):n},closeFilter(){const{filterStore:e}=k,{column:t,visible:l}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),l&&bt.dispatchEvent("filter-visible",{column:t,property:t.field,field:t.field,filterList:bt.getCheckedFilters(),visible:!1},null),h()},isActiveFilterByColumn(e){const t=fe(bt,e);return t?t.filters&&t.filters.some((e=>e.checked)):bt.getCheckedFilters().length>0},isFilter:e=>D.isActiveFilterByColumn(e),isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=M,l=t[me(bt,e)];return l&&!!l.expandLoaded},clearRowExpandLoaded(e){const{rowExpandLazyLoadedMaps:t}=k,{fullAllDataRowIdData:l}=M,o=rt.value,{lazy:n}=o,a=me(bt,e),r=l[a];return n&&r&&(r.expandLoaded=!1,delete t[a]),h()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=k,l=rt.value,{lazy:o}=l,n=me(bt,e);return o&&!t[n]&&D.clearRowExpandLoaded(e).then((()=>nl(e))),h()},reloadExpandContent:e=>D.reloadRowExpand(e),toggleRowExpand:e=>D.setRowExpand(e,!D.isRowExpandByRow(e)),setAllRowExpand(l){const o=it.value,{tableFullData:n,tableFullTreeData:a}=M,r=o.children||o.childrenField;let i=[];return t.treeConfig?e.eachTree(a,(e=>{i.push(e)}),{children:r}):i=n,D.setRowExpand(i,l)},setRowExpand(t,l){const{rowExpandedMaps:o,rowExpandLazyLoadedMaps:n,expandColumn:a}=k,{fullAllDataRowIdData:r}=M;let i=Object.assign({},o);const s=rt.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,m=[],f=D.getColumnIndex(a),g=D.getVMColumnIndex(a);if(t){e.isArray(t)||(t=[t]),d&&(i={},t=t.slice(t.length-1,t.length));const o=p?t.filter((e=>p({$table:bt,expanded:l,column:a,columnIndex:f,$columnIndex:g,row:e,rowIndex:D.getRowIndex(e),$rowIndex:D.getVMRowIndex(e)}))):t;l?o.forEach((e=>{const t=me(bt,e);if(!i[t]){const l=r[t];u&&!l.expandLoaded&&!n[t]?m.push(nl(e)):i[t]=e}})):o.forEach((e=>{const t=me(bt,e);i[t]&&delete i[t]})),c&&o.forEach((e=>rl(e,l)))}return k.rowExpandedMaps=i,Promise.all(m).then((()=>D.recalculate()))},isRowExpandByRow(e){const{rowExpandedMaps:t}=k;return!!t[me(bt,e)]},isExpandByRow:e=>D.isRowExpandByRow(e),clearRowExpand(){const{tableFullData:e}=M,t=rt.value,{reserve:l}=t,o=D.getRowExpandRecords();return k.rowExpandedMaps={},l&&e.forEach((e=>rl(e,!1))),h().then((()=>{o.length&&D.recalculate()}))},clearRowExpandReserve:()=>(M.rowExpandedReserveRowMap={},h()),getRowExpandRecords(){const t=[];return e.each(k.rowExpandedMaps,(e=>{e&&t.push(e)})),t},getTreeExpandRecords(){const t=[];return e.each(k.treeExpandedMaps,(e=>{e&&t.push(e)})),t},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=M,l=t[me(bt,e)];return l&&!!l.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandedMaps:t}=k,{fullAllDataRowIdData:l}=M,o=it.value,{transform:n,lazy:a}=o,r=me(bt,e),i=l[r];return a&&i&&(i.treeLoaded=!1,t[r]&&delete t[r]),n?(At(),V.handleTableData()):h()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=k,l=it.value,o=l.hasChild||l.hasChildField,{transform:n,lazy:a}=l,r=me(bt,e);return a&&e[o]&&!t[r]&&D.clearTreeExpandLoaded(e).then((()=>ll(e))).then((()=>{if(n)return At(),V.handleTableData()})).then((()=>D.recalculate())),h()},reloadTreeChilds:e=>D.reloadTreeExpand(e),toggleTreeExpand:e=>D.setTreeExpand(e,!D.isTreeExpandByRow(e)),setAllTreeExpand(t){const{tableFullData:l}=M,o=it.value,{transform:n,lazy:a}=o,r=o.children||o.childrenField,i=[];return e.eachTree(l,(e=>{const t=e[r];(a||t&&t.length)&&i.push(e)}),{children:r}),D.setTreeExpand(i,t).then((()=>{if(n)return At(),D.recalculate()}))},setTreeExpand(t,l){const o=it.value,{transform:n}=o;return t&&(e.isArray(t)||(t=[t]),t.length)?n?((e,t)=>Cl(e,t).then((()=>(At(),V.handleTableData()))).then((()=>D.recalculate())))(t,l):Cl(t,l):h()},isTreeExpandByRow(e){const{treeExpandedMaps:t}=k;return!!t[me(bt,e)]},clearTreeExpand(){const{tableFullTreeData:t}=M,l=it.value,o=l.children||l.childrenField,{transform:n,reserve:a}=l,r=D.getTreeExpandRecords();return k.treeExpandedMaps={},a&&e.eachTree(t,(e=>ol(e,!1)),{children:o}),V.handleTableData().then((()=>{if(n)return At(),V.handleTableData()})).then((()=>{if(r.length)return D.recalculate()}))},clearTreeExpandReserve:()=>(M.treeExpandedReserveRowMap={},h()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=k,l=oe.value.$el;return{virtualX:e,virtualY:t,scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}},scrollTo(t,l){const o=oe.value,n=ne.value,a=he.value,r=o?o.$el:null,i=a?a.$el:null,s=n?n.$el:null;return e.isNumber(t)&&Q(s||r,t),e.isNumber(l)&&J(i||r,l),k.scrollXLoad||k.scrollYLoad?new Promise((e=>{setTimeout((()=>{h((()=>{e()}))}),50)})):h()},scrollToRow(e,l){const o=[];return e&&(t.treeConfig?o.push(V.scrollToTreeRow(e)):o.push(Oe(bt,e))),l&&o.push(D.scrollToColumn(l)),Promise.all(o)},scrollToColumn(e){const{fullColumnIdData:t}=M,l=fe(bt,e);return l&&t[l.id]?function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollXLoad:a}=l,{visibleColumn:r}=o,i=n.value,s=i?i.$el:null;if(s){const l=s.querySelector(`.${t.id}`);if(l){const t=s.clientWidth,o=s.scrollLeft,n=l.offsetParent,a=l.offsetLeft+(n?n.offsetLeft:0),r=l.clientWidth;if(a<o||a>o+t)return e.scrollTo(a);if(a+r>=t+o)return e.scrollTo(o+r)}else if(a){let l=0;for(let e=0;e<r.length&&r[e]!==t;e++)l+=r[e].renderWidth;return e.scrollTo(l)}}return Promise.resolve()}(bt,l):h()},clearScroll(){const{scrollXStore:e,scrollYStore:t}=M,l=oe.value,o=ne.value,n=he.value,a=l?l.$el:null,r=n?n.$el:null,i=o?o.$el:null;return r&&(ue(r),r.scrollTop=0),i&&(i.scrollLeft=0),a&&(ue(a),a.scrollTop=0,a.scrollLeft=0),e.startIndex=0,t.startIndex=0,h()},updateFooter(){const{showFooter:e,footerData:l,footerMethod:o}=t,{visibleColumn:n,afterFullData:a}=M;let r=[];return e&&l&&l.length?r=l.slice(0):e&&o&&(r=n.length?o({columns:n,data:a,$table:bt,$grid:Ee}):[]),k.footerTableData=r,h()},updateStatus(l,o){const n=!e.isUndefined(o);return h().then((()=>{const{editRules:e}=t,{validStore:a}=k,r=oe.value;if(l&&r&&e){const{row:e,column:t}=l,r="change";if(bt.hasCellRules&&bt.hasCellRules(r,e,t)){const l=V.getCell(e,t);if(l)return bt.validCellRules(r,e,t,o).then((()=>{n&&a.visible&&Ce(e,t,o),bt.clearValidate(e,t)})).catch((({rule:a})=>{n&&Ce(e,t,o),bt.showValidTooltip({rule:a,row:e,column:t,cell:l})}))}}}))},setMergeCells:e=>(t.spanMethod&&O("vxe.error.errConflicts",["merge-cells","span-method"]),Ot(e,k.mergeList,M.afterFullData),h().then((()=>(D.updateCellAreas(),Pt())))),removeMergeCells(e){t.spanMethod&&O("vxe.error.errConflicts",["merge-cells","span-method"]);const l=Rt(e,k.mergeList,M.afterFullData);return h().then((()=>(D.updateCellAreas(),Pt(),l)))},getMergeCells:()=>k.mergeList.slice(0),clearMergeCells:()=>(k.mergeList=[],h().then((()=>Pt()))),setMergeFooterItems:e=>(t.footerSpanMethod&&O("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Ot(e,k.mergeFooterList),h().then((()=>(D.updateCellAreas(),Pt())))),removeMergeFooterItems(e){t.footerSpanMethod&&O("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=Rt(e,k.mergeFooterList);return h().then((()=>(D.updateCellAreas(),Pt(),l)))},getMergeFooterItems:()=>k.mergeFooterList.slice(0),clearMergeFooterItems:()=>(k.mergeFooterList=[],h().then((()=>Pt()))),updateCellAreas(){const{mouseConfig:e}=t,l=Ue.value;return e&&l.area&&bt.handleUpdateCellAreas?bt.handleUpdateCellAreas():h()},focus:()=>(M.isActivated=!0,h()),blur:()=>(M.isActivated=!1,h()),connect:e=>(e?(Re=e,Re.syncUpdate({collectColumn:M.collectColumn,$table:bt})):O("vxe.error.barUnableLink"),h())};const Ol=e=>{const{editStore:l,ctxMenuStore:o,filterStore:n,customStore:a}=k,{mouseConfig:r,editRules:i}=t,s=j.value,c=ze.value,u=Me.value,d=Xe.value,{actived:p}=l,m=z.value,f=K.value,g=ee.value,h=Y.value;if(f&&(te(e,s,"vxe-cell--filter").flag||te(e,f.$el).flag||te(e,document.body,"vxe-table--ignore-clear").flag||V.preventEvent(e,"event.clearFilter",n.args,D.closeFilter)),g&&(a.btnEl===e.target||te(e,document.body,"vxe-toolbar-custom-target").flag||te(e,g.$el).flag||te(e,document.body,"vxe-table--ignore-clear").flag||V.preventEvent(e,"event.clearCustom",{},(()=>{bt.closeCustom&&bt.closeCustom()}))),p.row){if(!1!==c.autoClear){const l=p.args.cell;l&&te(e,l).flag||m&&te(e,m.$el).flag||(!M._lastCallTime||M._lastCallTime+50<Date.now())&&(te(e,document.body,"vxe-table--ignore-clear").flag||V.preventEvent(e,"event.clearEdit",p.args,(()=>{let l;if("row"===c.mode){const t=te(e,s,"vxe-body--row"),o=t.flag?D.getRowNode(t.targetElem):null;l=!!o&&!bt.eqRow(o.item,p.args.row)}else l=!te(e,s,"col--edit").flag;if(l||(l=te(e,s,"vxe-header--row").flag),l||(l=te(e,s,"vxe-footer--row").flag),!l&&t.height&&!k.overflowY){const t=e.target;U(t,"vxe-table--body-wrapper")&&(l=e.offsetY<t.clientHeight)}!l&&te(e,s).flag||setTimeout((()=>bt.clearEdit(e)))})))}}else r&&(te(e,s).flag||Ee&&te(e,Ee.getRefMaps().refElem.value).flag||h&&te(e,h.getRefMaps().refElem.value).flag||Re&&te(e,Re.getRefMaps().refElem.value).flag||(bt.clearSelected&&bt.clearSelected(),d.autoClear&&bt.clearCellAreas&&(te(e,document.body,"vxe-table--ignore-areas-clear").flag||V.preventEvent(e,"event.clearAreas",{},(()=>{bt.clearCellAreas(),bt.clearCopyCellArea()})))));bt.closeMenu&&o.visible&&h&&!te(e,h.getRefMaps().refElem.value).flag&&bt.closeMenu();const v=te(e,Ee?Ee.getRefMaps().refElem.value:s).flag;!v&&i&&u.autoClear&&(k.validErrorMaps={}),M.isActivated=v},Rl=()=>{D.closeFilter(),bt.closeMenu&&bt.closeMenu()},kl=()=>{D.closeTooltip(),bt.closeMenu&&bt.closeMenu()},Ml=e=>{const{mouseConfig:l,keyboardConfig:o}=t,{filterStore:n,ctxMenuStore:a,editStore:r}=k,i=Ue.value,s=Ge.value,{actived:c}=r;al(e,zt)&&V.preventEvent(e,"event.keydown",null,(()=>{if(D.dispatchEvent("keydown-start",{},e),o&&l&&i.area&&bt.handleKeyboardEvent)bt.handleKeyboardEvent(e);else if((c.row||n.visible||a.visible)&&(e.stopPropagation(),bt.closeMenu&&bt.closeMenu(),D.closeFilter(),o&&s.isEsc&&c.row)){const t=c.args;bt.clearEdit(e),i.selected&&h((()=>bt.handleSelected(t,e)))}D.dispatchEvent("keydown",{},e),D.dispatchEvent("keydown-end",{},e)}))},Il=l=>{M.isActivated&&V.preventEvent(l,"event.keydown",null,(()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:a,editConfig:r,highlightCurrentRow:i}=t,{ctxMenuStore:s,editStore:c,currentRow:u}=k,d=tt.value,p=Qe.value,m=Ge.value,f=Ue.value,g=ze.value,v=it.value,b=lt.value,x=Fe.value,{selected:C,actived:y}=c,w=v.children||v.childrenField,S=l.keyCode,E=al(l,zt),T=al(l,Xt),O=al(l,qt),R=al(l,Wt),$=al(l,Gt),N=al(l,Jt),L=al(l,Kt),A=al(l,Qt),P=al(l,Zt),j=al(l,Ut),B=al(l,_t),H=al(l,Yt),_=l.metaKey,z=l.ctrlKey,W=l.shiftKey,q=l.altKey,U=N||L||A||P,X=d&&s.visible&&(R||$||U),G=I(r)&&y.column&&y.row;let Y;if(X)l.preventDefault(),s.showChild&&F(s.selected)?bt.moveCtxMenu(l,s,"selectChild",N,!1,s.selected.children):bt.moveCtxMenu(l,s,"selected",A,!0,b);else if(n&&o&&f.area&&bt.handleKeyboardEvent)bt.handleKeyboardEvent(l);else if(E){if(bt.closeMenu&&bt.closeMenu(),D.closeFilter(),n&&m.isEsc&&y.row){const e=y.args;bt.clearEdit(l),f.selected&&h((()=>bt.handleSelected(e,l)))}}else if($&&n&&m.isChecked&&C.row&&C.column&&("checkbox"===C.column.type||"radio"===C.column.type))l.preventDefault(),"checkbox"===C.column.type?V.handleToggleCheckRowEvent(l,C.args):V.triggerRadioRowEvent(l,C.args);else if(B&&I(r))G||C.row&&C.column&&(l.preventDefault(),bt.handleActived(C.args,l));else if(H)M._keyCtx=C.row&&C.column&&p.length,clearTimeout(Tl),Tl=setTimeout((()=>{M._keyCtx=!1}),1e3);else if(R&&!q&&n&&m.isEnter&&(C.row||y.row||a&&(x.isCurrent||i)&&u)){if(z)y.row&&(Y=y.args,bt.clearEdit(l),f.selected&&h((()=>bt.handleSelected(Y,l))));else if(C.row||y.row){const e=C.row?C.args:y.args;W?m.enterToTab?bt.moveTabSelected(e,W,l):bt.moveSelected(e,N,!0,A,!1,l):m.enterToTab?bt.moveTabSelected(e,W,l):bt.moveSelected(e,N,!1,A,!0,l)}else if(a&&(x.isCurrent||i)&&u){const e=u[w];if(e&&e.length){l.preventDefault();const t=e[0];Y={$table:bt,row:t,rowIndex:D.getRowIndex(t),$rowIndex:D.getVMRowIndex(t)},D.setTreeExpand(u,!0).then((()=>D.scrollToRow(t))).then((()=>V.triggerCurrentRowEvent(l,Y)))}}}else if(U&&n&&m.isArrow)G||(C.row&&C.column?bt.moveSelected(C.args,N,L,A,P,l):(L||P)&&(x.isCurrent||i)&&bt.moveCurrentRow(L,P,l));else if(O&&n&&m.isTab)C.row||C.column?bt.moveTabSelected(C.args,W,l):(y.row||y.column)&&bt.moveTabSelected(y.args,W,l);else if(n&&I(r)&&(j||(a&&(x.isCurrent||i)&&u?T&&m.isArrow:T))){if(!G){const{delMethod:t,backMethod:o}=m;if(m.isDel&&(C.row||C.column)){const e={row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:bt};t?t(e):Ce(C.row,C.column,null),T?o?o({row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:bt}):bt.handleActived(C.args,l):j&&D.updateFooter(),bt.dispatchEvent("cell-delete-value",e,l)}else if(T&&m.isArrow&&a&&(x.isCurrent||i)&&u){const{parent:t}=e.findTree(M.afterFullData,(e=>e===u),{children:w});t&&(l.preventDefault(),Y={$table:bt,row:t,rowIndex:D.getRowIndex(t),$rowIndex:D.getVMRowIndex(t)},D.setTreeExpand(t,!1).then((()=>D.scrollToRow(t))).then((()=>V.triggerCurrentRowEvent(l,Y))))}}}else if(n&&I(r)&&m.isEdit&&!z&&!_&&($||S>=48&&S<=57||S>=65&&S<=90||S>=96&&S<=111||S>=186&&S<=192||S>=219&&S<=222)){const{editMethod:e}=m;if(C.column&&C.row&&I(C.column.editRender)){const t=g.beforeEditMethod||g.activeMethod;if(!t||t(Object.assign(Object.assign({},C.args),{$table:bt,$grid:Ee}))){e?e({row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:bt,$grid:Ee}):(Ce(C.row,C.column,null),bt.handleActived(C.args,l));const t=g.afterEditMethod;t&&h((()=>{t({row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:bt,$grid:Ee})}))}}}D.dispatchEvent("keydown",{},l)}))},Dl=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:a}=k,{isActivated:r}=M,i=Ue.value,s=Ge.value,{actived:c}=n;r&&!a.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handlePasteCellAreaEvent&&bt.handlePasteCellAreaEvent(e),D.dispatchEvent("paste",{},e))},$l=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:a}=k,{isActivated:r}=M,i=Ue.value,s=Ge.value,{actived:c}=n;r&&!a.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handleCopyCellAreaEvent&&bt.handleCopyCellAreaEvent(e),D.dispatchEvent("copy",{},e))},Nl=e=>{const{keyboardConfig:l,mouseConfig:o}=t,{editStore:n,filterStore:a}=k,{isActivated:r}=M,i=Ue.value,s=Ge.value,{actived:c}=n;r&&!a.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&bt.handleCutCellAreaEvent&&bt.handleCutCellAreaEvent(e),D.dispatchEvent("cut",{},e))},Fl=()=>{bt.closeMenu&&bt.closeMenu(),D.updateCellAreas(),D.recalculate(!0)},Ll=e=>{const t=H.value;clearTimeout(M.tooltipTimeout),e?D.closeTooltip():t&&t.setActived(!0)},Al=(t,l,o,n,a)=>{a.cell=l;const{tooltipStore:r}=k,i=Be.value,{column:s,row:c}=a,{showAll:u,contentMethod:d}=i,p=d?d(a):null,m=d&&!e.eqNull(p),f=m?p:e.toString("html"===s.type?o.innerText:o.textContent).trim(),g=o.scrollWidth>o.clientWidth;return f&&(u||m||g)&&(Object.assign(r,{row:c,column:s,visible:!0}),h((()=>{const e=H.value;e&&e.open(g?o:n||o,A(f))}))),h()};V={getSetupOptions:()=>S,updateAfterDataIndex:Ft,callSlot(t,l){if(t){if(Ee)return Ee.callSlot(t,l);if(e.isFunction(t))return ke(t(l))}return[]},getParentElem(){const e=j.value;if(Ee){const e=Ee.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:l}=t,o=j.value;if(o){const t=o.parentNode,n="auto"===l?Z(t):0;return Math.floor(Ee?Ee.getParentHeight():e.toNumber(getComputedStyle(t).height)-n)}return 0},getExcludeHeight:()=>Ee?Ee.getExcludeHeight():0,defineField(l){const{treeConfig:o}=t,n=rt.value,a=it.value,r=Ve.value,i=je.value,s=a.children||a.childrenField,c=pe(bt);return e.isArray(l)||(l=[l]),l.map((t=>{M.tableFullColumn.forEach((l=>{const{field:o,editRender:n}=l;if(o&&!e.has(t,o)&&!t[o]){let a=null;if(n){const{defaultValue:t}=n;e.isFunction(t)?a=t({column:l}):e.isUndefined(t)||(a=t)}e.set(t,o,a)}}));return[r.labelField,i.checkField,i.labelField,n.labelField].forEach((l=>{l&&P(e.get(t,l))&&e.set(t,l,null)})),o&&a.lazy&&e.isUndefined(t[s])&&(t[s]=null),P(e.get(t,c))&&e.set(t,c,de()),t}))},handleTableData(l){const{scrollYLoad:o}=k,{scrollYStore:n,fullDataRowIdData:a}=M;let r=M.afterFullData;l&&((()=>{const{treeConfig:l}=t,{tableFullColumn:o,tableFullData:n,tableFullTreeData:a}=M,r=qe.value,i=We.value,s=it.value,{transform:c}=s,{remote:u,filterMethod:d}=r,{remote:p,sortMethod:m,multiple:f,chronological:g}=i;let h=[],v=[];if(u&&p)l&&c?(v=e.searchTree(a,(()=>!0),Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?a.slice(0):n.slice(0),v=h);else{const t=[];let r=[];if(o.forEach((e=>{const{field:l,sortable:o,order:n,filters:a}=e;if(!u&&a&&a.length){const l=[],o=[];a.forEach((e=>{e.checked&&(o.push(e),l.push(e.value))})),o.length&&t.push({column:e,valueList:l,itemList:o})}!p&&o&&n&&r.push({column:e,field:l,property:l,order:n,sortTime:e.sortTime})})),f&&g&&r.length>1&&(r=e.orderBy(r,"sortTime")),!u&&t.length){const o=l=>t.every((({column:t,valueList:o,itemList:n})=>{const{filterMethod:a,filterRender:r}=t,i=r?Lt.renderer.get(r.name):null,s=i?i.filterMethod:null,c=i?i.defaultFilterMethod:null,u=xe(l,t);return a?n.some((e=>a({value:e.value,option:e,cellValue:u,row:l,column:t,$table:bt}))):s?n.some((e=>s({value:e.value,option:e,cellValue:u,row:l,column:t,$table:bt}))):d?d({options:n,values:o,cellValue:u,row:l,column:t}):c?n.some((e=>c({value:e.value,option:e,cellValue:u,row:l,column:t,$table:bt}))):o.indexOf(e.get(l,t.field))>-1}));l&&c?(v=e.searchTree(a,o,Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?a.filter(o):n.filter(o),v=h)}else l&&c?(v=e.searchTree(a,(()=>!0),Object.assign(Object.assign({},s),{original:!0})),h=v):(h=l?a.slice(0):n.slice(0),v=h);if(!p&&r.length)if(l&&c){if(m){const t=m({data:v,sortList:r,$table:bt});v=e.isArray(t)?t:v}else v=e.orderBy(v,r.map((({column:e,order:t})=>[Nt(e),t])));h=v}else{if(m){const t=m({data:h,sortList:r,$table:bt});h=e.isArray(t)?t:h}else h=e.orderBy(h,r.map((({column:e,order:t})=>[Nt(e),t])));v=h}}M.afterFullData=h,M.afterTreeFullData=v,Ft()})(),r=At());const i=o?r.slice(n.startIndex,n.endIndex):r.slice(0);return i.forEach(((e,t)=>{const l=me(bt,e),o=a[l];o&&(o.$index=t)})),k.tableData=i,h()},cacheRowMap(l){const{treeConfig:o}=t,n=it.value;let{fullDataRowIdData:a,fullAllDataRowIdData:r,tableFullData:i,tableFullTreeData:s}=M;const c=n.children||n.childrenField,u=n.hasChild||n.hasChildField,d=pe(bt),p=o&&n.lazy,m=(t,n,i,s,m,f)=>{let g=me(bt,t);const h=o&&s?function(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")}(s):n+1,v=f?f.length-1:0;P(g)&&(g=de(),e.set(t,d,g)),p&&t[u]&&e.isUndefined(t[c])&&(t[c]=null);const b={row:t,rowid:g,seq:h,index:o&&m?-1:n,_index:-1,$index:-1,items:i,parent:m,level:v};l&&(a[g]=b),r[g]=b};l&&(a=M.fullDataRowIdData={}),r=M.fullAllDataRowIdData={},o?e.eachTree(s,m,{children:c}):i.forEach(m)},cacheSourceMap(l){const{treeConfig:o}=t,n=it.value;let{sourceDataRowIdData:a}=M;const r=e.clone(l,!0),i=pe(bt);a=M.sourceDataRowIdData={};const s=t=>{let l=me(bt,t);P(l)&&(l=de(),e.set(t,i,l)),a[l]=t};if(o){const t=n.children||n.childrenField;e.eachTree(r,s,{children:n.transform?n.mapChildrenField:t})}else r.forEach(s);M.tableSourceData=r},analyColumnWidth(){const{tableFullColumn:e}=M,t=Ne.value,{width:l,minWidth:o}=t,n=[],a=[],r=[],i=[],s=[],c=[];e.forEach((e=>{l&&!e.width&&(e.width=l),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?n.push(e):W(e.width)?a.push(e):q(e.width)?i.push(e):W(e.minWidth)?r.push(e):q(e.minWidth)?s.push(e):c.push(e))})),Object.assign(k.columnStore,{resizeList:n,pxList:a,pxMinList:r,scaleList:i,scaleMinList:s,autoList:c})},saveCustomResizable(l){const{id:o,customConfig:n}=t,a=dt.value,{collectColumn:r}=M,{storage:i}=a,s=!0===i,c=s?{}:Object.assign({},i||{}),u=s||c.resizable;if(n&&u){const t=yt(io);let n;if(!o)return void O("vxe.error.reqProp",["id"]);l||(n=e.isPlainObject(t[o])?t[o]:{},e.eachTree(r,(e=>{if(e.resizeWidth){const t=e.getKey();t&&(n[t]=e.renderWidth)}}))),t[o]=e.isEmpty(n)?void 0:n,localStorage.setItem(io,e.toJSONString(t))}},saveCustomSort(l){const{id:o,customConfig:n}=t,a=dt.value,{collectColumn:r}=M,{storage:i}=a,s=!0===i,c=s?{}:Object.assign({},i||{}),u=s||c.sort;if(n&&u){const t=yt(uo);let n;if(!o)return void O("vxe.error.reqProp",["id"]);l||(n=e.isPlainObject(t[o])?t[o]:{},r.forEach((e=>{if(e.sortNumber!==e.renderSortNumber){const t=e.getKey();t&&(n[t]=e.renderSortNumber)}}))),t[o]=e.isEmpty(n)?void 0:n,localStorage.setItem(uo,e.toJSONString(t))}},saveCustomFixed(){const{id:l,customConfig:o}=t,{collectColumn:n}=M,a=dt.value,{storage:r}=a,i=!0===r,s=i?{}:Object.assign({},r||{}),c=i||s.fixed;if(o&&c){const t=yt(co),o=[];if(!l)return void O("vxe.error.reqProp",["id"]);e.eachTree(n,(e=>{if(e.fixed&&e.fixed!==e.defaultFixed){const t=e.getKey();t&&o.push(`${t}|${e.fixed}`)}})),t[l]=o.join(",")||void 0,localStorage.setItem(co,e.toJSONString(t))}},saveCustomVisible(){const{id:l,customConfig:o}=t,{collectColumn:n}=M,a=dt.value,{checkMethod:r,storage:i}=a,s=!0===i,c=s?{}:Object.assign({},i||{}),u=s||c.visible;if(o&&u){const t=yt(so),o=[],a=[];if(!l)return void O("vxe.error.reqProp",["id"]);e.eachTree(n,(e=>{if(!r||r({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&o.push(t)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&a.push(t)}})),t[l]=[o.join(",")].concat(a.length?[a.join(",")]:[]).join("|")||void 0,localStorage.setItem(so,e.toJSONString(t))}},handleCustom(){const{mouseConfig:e}=t;return e&&(bt.clearSelected&&bt.clearSelected(),bt.clearCellAreas&&(bt.clearCellAreas(),bt.clearCopyCellArea())),V.saveCustomVisible(),V.saveCustomSort(),V.analyColumnWidth(),D.refreshColumn(!0)},handleUpdateDataQueue(){k.upDataFlag++},handleRefreshColumnQueue(){k.reColumnFlag++},preventEvent(e,t,l,o,n){let a,r=Lt.interceptor.get(t);return r.length||"event.clearEdit"!==t||(r=Lt.interceptor.get("event.clearActived")),r.some((t=>!1===t(Object.assign({$grid:Ee,$table:bt,$event:e},l))))||o&&(a=o()),n&&n(),a},checkSelectionStatus(){const{treeConfig:l}=t,{selectCheckboxMaps:o,treeIndeterminateMaps:n}=k,{afterFullData:a}=M,r=je.value,{checkField:i,checkStrictly:s,checkMethod:c}=r,u=r.indeterminateField||r.halfField;if(!s){const t=[];let r=!1,s=!1,d=!1;i?(r=a.every(c?l=>c({row:l})?!!e.get(l,i):(t.push(l),!0):t=>e.get(t,i)),s=r&&a.length!==t.length,d=l?u?!s&&a.some((t=>e.get(t,i)||e.get(t,u)||!!n[me(bt,t)])):!s&&a.some((t=>e.get(t,i)||!!n[me(bt,t)])):u?!s&&a.some((t=>e.get(t,i)||e.get(t,u))):!s&&a.some((t=>e.get(t,i)))):(r=a.every(c?e=>c({row:e})?!!o[me(bt,e)]:(t.push(e),!0):e=>o[me(bt,e)]),s=r&&a.length!==t.length,d=l?!s&&a.some((e=>{const t=me(bt,e);return n[t]||o[t]})):!s&&a.some((e=>o[me(bt,e)]))),k.isAllSelected=s,k.isIndeterminate=d}},handleSelectRow({row:l},o,n){const{treeConfig:a}=t,{selectCheckboxMaps:r,treeIndeterminateMaps:i}=k,s=Object.assign({},r),{afterFullData:c}=M,u=it.value,d=u.children||u.childrenField,p=je.value,{checkField:m,checkStrictly:f,checkMethod:g}=p,h=p.indeterminateField||p.halfField,v=me(bt,l);if(m)if(a&&!f){-1===o?(i[v]||(h&&e.set(l,h,!0),i[v]=l),e.set(l,m,!1)):e.eachTree([l],(t=>{(bt.eqRow(t,l)||n||!g||g({row:t}))&&(e.set(t,m,o),h&&e.set(l,h,!1),delete i[me(bt,t)],Bt(l,o))}),{children:d});const t=e.findTree(c,(e=>bt.eqRow(e,l)),{children:d});if(t&&t.parent){let l;const a=[],r={};!n&&g?t.items.forEach((e=>{if(g({row:e})){const t=me(bt,e);r[t]=e,a.push(e)}})):t.items.forEach((e=>{const t=me(bt,e);r[t]=e,a.push(e)}));if(e.find(t.items,(e=>!!i[me(bt,e)])))l=-1;else{const n=[];t.items.forEach((t=>{e.get(t,m)&&n.push(t)})),l=n.filter((e=>r[me(bt,e)])).length===a.length||!(!n.length&&-1!==o)&&-1}return k.selectCheckboxMaps=s,V.handleSelectRow({row:t.parent},l,n)}}else(n||!g||g({row:l}))&&(e.set(l,m,o),Bt(l,o));else if(a&&!f){-1===o?(i[v]||(h&&e.set(l,h,!0),i[v]=l),s[v]&&delete s[v]):e.eachTree([l],(t=>{const a=me(bt,t);(bt.eqRow(t,l)||n||!g||g({row:t}))&&(o?s[a]=t:s[a]&&delete s[a],h&&e.set(l,h,!1),delete i[me(bt,t)],Bt(l,o))}),{children:d});const t=e.findTree(c,(e=>bt.eqRow(e,l)),{children:d});if(t&&t.parent){let l;const a=[],r={};!n&&g?t.items.forEach((e=>{if(g({row:e})){const t=me(bt,e);r[t]=e,a.push(e)}})):t.items.forEach((e=>{const t=me(bt,e);r[t]=e,a.push(e)}));if(e.find(t.items,(e=>!!i[me(bt,e)])))l=-1;else{const e=[];t.items.forEach((t=>{const l=me(bt,t);s[l]&&e.push(t)})),l=e.filter((e=>r[me(bt,e)])).length===a.length||!(!e.length&&-1!==o)&&-1}return k.selectCheckboxMaps=s,V.handleSelectRow({row:t.parent},l,n)}}else(n||!g||g({row:l}))&&(o?s[v]||(s[v]=l):s[v]&&delete s[v],Bt(l,o));k.selectCheckboxMaps=s,V.checkSelectionStatus()},triggerHeaderTitleEvent(e,t,l){const o=t.content||t.message;if(o){const{tooltipStore:t}=k,{column:n}=l,a=L(o);Ll(!0),t.row=null,t.column=n,t.visible=!0,h((()=>{const t=H.value;t&&t.open(e.currentTarget,a)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:l}=k,{column:o}=t,n=e.currentTarget;Ll(!0),l.column===o&&l.visible||Al(0,n,n,null,t)},triggerBodyTooltipEvent(e,l){const{editConfig:o}=t,{editStore:n}=k,{tooltipStore:a}=k,r=ze.value,{actived:i}=n,{row:s,column:c}=l,u=e.currentTarget;if(Ll(a.column!==c||a.row!==s),c.editRender&&I(o)){if("row"===r.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(a.column!==c||a.row!==s||!a.visible){let e,t;c.treeNode?(e=u.querySelector(".vxe-tree-cell"),"html"===c.type&&(t=u.querySelector(".vxe-cell--html"))):t=u.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),Al(0,u,e||u.children[0],t,l)}},triggerFooterTooltipEvent(e,t){const{column:l}=t,{tooltipStore:o}=k,n=e.currentTarget;Ll(o.column!==l||!!o.row),o.column===l&&o.visible||Al(0,n,n.querySelector(".vxe-cell--item")||n.children[0],null,t)},handleTargetLeaveEvent(){const e=Be.value;let t=H.value;t&&t.setActived(!1),e.enterable?M.tooltipTimeout=setTimeout((()=>{t=H.value,t&&!t.isActived()&&D.closeTooltip()}),e.leaveDelay):D.closeTooltip()},triggerHeaderCellClickEvent(e,l){const{_lastResizeTime:o}=M,n=We.value,a=Ne.value,{column:r}=l,i=e.currentTarget,s=o&&o>Date.now()-300,c=te(e,i,"vxe-cell--sort").flag,u=te(e,i,"vxe-cell--filter").flag;"cell"!==n.trigger||s||c||u||V.triggerSortEvent(e,r,Ct(r)),D.dispatchEvent("header-cell-click",Object.assign({triggerResizable:s,triggerSort:c,triggerFilter:u,cell:i},l),e),(a.isCurrent||t.highlightCurrentColumn)&&D.setCurrentColumn(r)},triggerHeaderCellDblclickEvent(e,t){D.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(e,l){const{highlightCurrentRow:o,editConfig:n}=t,{editStore:a}=k,r=rt.value,i=ze.value,s=it.value,c=Ve.value,u=je.value,d=Ge.value,p=Fe.value,{actived:m,focused:f}=a,{row:g,column:h}=l,{type:v,treeNode:b}=h,x="radio"===v,C="checkbox"===v,y="expand"===v,w=e.currentTarget,S=x&&te(e,w,"vxe-cell--radio").flag,E=C&&te(e,w,"vxe-cell--checkbox").flag,T=b&&te(e,w,"vxe-tree--btn-wrapper").flag,O=y&&te(e,w,"vxe-table--expanded").flag;l=Object.assign({cell:w,triggerRadio:S,triggerCheckbox:E,triggerTreeNode:T,triggerExpandNode:O},l),E||S||(!O&&("row"===r.trigger||y&&"cell"===r.trigger)&&V.triggerRowExpandEvent(e,l),("row"===s.trigger||b&&"cell"===s.trigger)&&V.triggerTreeExpandEvent(e,l)),T||(O||((p.isCurrent||o)&&(E||S||V.triggerCurrentRowEvent(e,l)),!S&&("row"===c.trigger||x&&"cell"===c.trigger)&&V.triggerRadioRowEvent(e,l),!E&&("row"===u.trigger||C&&"cell"===u.trigger)&&V.handleToggleCheckRowEvent(e,l)),I(n)&&(d.arrowCursorLock&&e&&"cell"===i.mode&&e.target&&/^input|textarea$/i.test(e.target.tagName)&&(f.column=h,f.row=g),"manual"===i.trigger?m.args&&m.row===g&&h!==m.column&&jt(e,l):m.args&&g===m.row&&h===m.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&m.row===g)&&jt(e,l))),D.dispatchEvent("cell-click",l,e)},triggerCellDblclickEvent(e,l){const{editConfig:o}=t,{editStore:n}=k,a=ze.value,{actived:r}=n,i=e.currentTarget;l=Object.assign({cell:i},l),I(o)&&"dblclick"===a.trigger&&(r.args&&e.currentTarget===r.args.cell||("row"===a.mode?Vt("blur").catch((e=>e)).then((()=>{bt.handleActived(l,e).then((()=>Vt("change"))).catch((e=>e))})):"cell"===a.mode&&bt.handleActived(l,e).then((()=>Vt("change"))).catch((e=>e)))),D.dispatchEvent("cell-dblclick",l,e)},handleToggleCheckRowEvent(t,l){const{selectCheckboxMaps:o}=k,n=je.value,{checkField:a}=n,{row:r}=l;let i=!1;i=a?!e.get(r,a):!o[me(bt,r)],t?V.triggerCheckRowEvent(t,l,i):V.handleSelectRow(l,i)},triggerCheckRowEvent(e,l,o){const n=je.value,{row:a}=l,{afterFullData:r}=M,{checkMethod:i}=n;if(n.isShiftKey&&e.shiftKey&&!t.treeConfig){const t=D.getCheckboxRecords();if(t.length){const o=t[0],n=D.getVTRowIndex(a),i=D.getVTRowIndex(o);if(n!==i){D.setAllCheckboxRow(!1);const t=n<i?r.slice(n,i+1):r.slice(i,n+1);return el(t,!0,!1),void D.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:t},l),e)}}}i&&!i({row:a})||(V.handleSelectRow(l,o),D.dispatchEvent("checkbox-change",Object.assign({records:D.getCheckboxRecords(),reserves:D.getCheckboxReserveRecords(),indeterminates:D.getCheckboxIndeterminateRecords(),checked:o},l),e))},triggerCheckAllEvent(e,t){tl(t),e&&D.dispatchEvent("checkbox-all",{records:D.getCheckboxRecords(),reserves:D.getCheckboxReserveRecords(),indeterminates:D.getCheckboxIndeterminateRecords(),checked:t},e)},triggerRadioRowEvent(e,t){const{selectRadioRow:l}=k,{row:o}=t,n=Ve.value;let a=o,r=l!==a;r?Ht(a):n.strict||(r=l===a,r&&(a=null,D.clearRadioRow())),r&&D.dispatchEvent("radio-change",Object.assign({oldValue:l,newValue:a},t),e)},triggerCurrentRowEvent(e,t){const{currentRow:l}=k,{row:o}=t,n=l!==o;D.setCurrentRow(o),n&&D.dispatchEvent("current-change",Object.assign({oldValue:l,newValue:o},t),e)},triggerRowExpandEvent(e,t){const{rowExpandLazyLoadedMaps:l,expandColumn:o}=k,n=rt.value,{row:a}=t,{lazy:r}=n,i=me(bt,a);if(!r||!l[i]){const t=!D.isRowExpandByRow(a),l=D.getColumnIndex(o),n=D.getVMColumnIndex(o);D.setRowExpand(a,t),D.dispatchEvent("toggle-row-expand",{expanded:t,column:o,columnIndex:l,$columnIndex:n,row:a,rowIndex:D.getRowIndex(a),$rowIndex:D.getVMRowIndex(a)},e)}},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:l}=k,o=it.value,{row:n,column:a}=t,{lazy:r}=o,i=me(bt,n);if(!r||!l[i]){const t=!D.isTreeExpandByRow(n),l=D.getColumnIndex(a),o=D.getVMColumnIndex(a);D.setTreeExpand(n,t),D.dispatchEvent("toggle-tree-expand",{expanded:t,column:a,columnIndex:l,$columnIndex:o,row:n},e)}},triggerSortEvent(e,l,o){const{mouseConfig:n}=t,a=We.value,r=Ue.value,{field:i,sortable:s}=l;if(s){o&&l.order!==o?D.sort({field:i,order:o}):D.clearSort(a.multiple?l:null);const t={$table:bt,$event:e,column:l,field:i,property:i,order:l.order,sortList:D.getSortColumns(),sortTime:l.sortTime};n&&r.area&&bt.handleSortEvent&&bt.handleSortEvent(e,t),D.dispatchEvent("sort-change",t,e)}},triggerScrollXEvent(){gl()},triggerScrollYEvent(e){const{scrollYStore:t}=M,{adaptive:l,offsetSize:o,visibleSize:n}=t;ro&&l&&2*o+n<=40?yl(e):El(e)},scrollToTreeRow(l){const{treeConfig:o}=t,{tableFullData:n}=M,a=[];if(o){const t=it.value,o=t.children||t.childrenField,r=e.findTree(n,(e=>bt.eqRow(e,l)),{children:o});if(r){const e=r.nodes;e.forEach(((t,l)=>{l<e.length-1&&!D.isTreeExpandByRow(t)&&a.push(D.setTreeExpand(t,!0))}))}}return Promise.all(a).then((()=>Oe(bt,l)))},updateScrollYStatus:xl,updateScrollXSpace(){const{isGroup:e,scrollXLoad:t,scrollbarWidth:l}=k,{visibleColumn:o,scrollXStore:n,elemStore:a,tableWidth:r}=M,i=le.value,s=oe.value,c=ne.value,u=s?s.$el:null;if(u){const s=i?i.$el:null,d=c?c.$el:null,p=s?s.querySelector(".vxe-table--header"):null,m=u.querySelector(".vxe-table--body"),f=d?d.querySelector(".vxe-table--footer"):null,g=o.slice(0,n.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";t&&(v=`${g}px`),p&&(p.style.marginLeft=e?"":v),m.style.marginLeft=v,f&&(f.style.marginLeft=v);["main"].forEach((e=>{["header","body","footer"].forEach((o=>{const n=a[`${e}-${o}-xSpace`],i=n?n.value:null;i&&(i.style.width=t?`${r+("header"===o?l:0)}px`:"")}))})),h(Pt)}},updateScrollYSpace(){const{scrollYLoad:e}=k,{scrollYStore:t,elemStore:l,afterFullData:o}=M,{startIndex:n,rowHeight:a}=t,r=o.length*a,i=Math.max(0,n*a);let s="",c="";e&&(s=`${i}px`,c=`${r}px`),["main","left","right"].forEach((e=>{const t=l[`${e}-body-table`],o=t?t.value:null;o&&(o.style.marginTop=s),["header","body","footer"].forEach((t=>{const o=l[`${e}-${t}-ySpace`],n=o?o.value:null;n&&(n.style.height=c)}))})),h(Pt)},updateScrollXData(){h((()=>{fl(),V.updateScrollXSpace()}))},updateScrollYData(){h((()=>{V.handleTableData(),V.updateScrollYSpace()}))},checkScrolling(){const e=be.value,t=ye.value,l=oe.value,o=l?l.$el:null;o&&(e&&(o.scrollLeft>0?G(e,"scrolling--middle"):X(e,"scrolling--middle")),t&&(o.clientWidth<o.scrollWidth-Math.ceil(o.scrollLeft)?G(t,"scrolling--middle"):X(t,"scrolling--middle")))},updateZindex(){t.zIndex?M.tZindex=t.zIndex:M.tZindex<N()&&(M.tZindex=$())},handleCheckedCheckboxRow:el,triggerHoverEvent(e,{row:t}){V.setHoverRow(t)},setHoverRow(t){const l=me(bt,t),o=j.value;V.clearHoverRow(),o&&e.arrayEach(o.querySelectorAll(`[rowid="${l}"]`),(e=>G(e,"row--hover"))),M.hoverRow=t},clearHoverRow(){const t=j.value;t&&e.arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),(e=>X(e,"row--hover"))),M.hoverRow=null},getCell(e,t){const l=me(bt,e),o=oe.value,n=ie.value,a=he.value;let r;return t&&(t.fixed&&("left"===t.fixed?n&&(r=n.$el):a&&(r=a.$el)),r||(r=o.$el),r)?r.querySelector(`.vxe-body--row[rowid="${l}"] .${t.id}`):null},getCellLabel(t,l){const o=l.formatter,n=xe(t,l);let a=n;if(o){let r;const{fullAllDataRowIdData:i}=M,s=me(bt,t),c=l.id,u=i[s];if(u&&(r=u.formatData,r||(r=i[s].formatData={}),u&&r[c]&&r[c].value===n))return r[c].label;const d={cellValue:n,row:t,rowIndex:D.getRowIndex(t),column:l,columnIndex:D.getColumnIndex(l)};if(e.isString(o)){const e=Lt.formats.get(o);a=e&&e.cellFormatMethod?e.cellFormatMethod(d):""}else if(e.isArray(o)){const e=Lt.formats.get(o[0]);a=e&&e.cellFormatMethod?e.cellFormatMethod(d,...o.slice(1)):""}else a=o(d);r&&(r[c]={value:n,label:a})}return a},findRowIndexOf:(t,l)=>l?e.findIndexOf(t,(e=>bt.eqRow(e,l))):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||me(bt,e)===me(bt,t))},Object.assign(bt,D,V);const Pl=e=>{const{showHeader:l,showFooter:o}=t,{tableData:a,tableColumn:r,tableGroupColumn:i,columnStore:s,footerTableData:c}=k,d="left"===e,p=d?s.leftList:s.rightList;return n("div",{ref:d?be:ye,class:`vxe-table--fixed-${e}-wrapper`},[l?n(to,{ref:d?ae:ge,fixedType:e,tableData:a,tableColumn:r,tableGroupColumn:i,fixedColumn:p}):u(),n(Ql,{ref:d?ie:he,fixedType:e,tableData:a,tableColumn:r,fixedColumn:p}),o?n(oo,{ref:d?ce:ve,footerTableData:c,tableColumn:r,fixedColumn:p,fixedType:e}):u()])},Vl=()=>{const e=st.value,l={$table:bt};if(c.empty)return c.empty(l);{const t=e.name?Lt.renderer.get(e.name):null,o=t?t.renderTableEmptyView||t.renderEmpty:null;if(o)return ke(o(e,l))}return L(t.emptyText)||S.i18n("vxe.table.emptyText")};function Bl(){const e=j.value;e&&e.clientWidth&&e.clientHeight&&D.recalculate()}const Hl=d(0);l((()=>t.data?t.data.length:-1),(()=>{Hl.value++})),l((()=>t.data),(()=>{Hl.value++})),l(Hl,(()=>{const{inited:e,initStatus:l}=M;ul(t.data||[]).then((()=>{M.inited=!0,M.initStatus=!0,l||pl(),e||ml(),D.recalculate()}))}));const _l=d(0);l((()=>k.staticColumns.length),(()=>{_l.value++})),l((()=>k.staticColumns),(()=>{_l.value++})),l(_l,(()=>{bl(k.staticColumns)}));const zl=d(0);l((()=>k.tableColumn.length),(()=>{zl.value++})),l((()=>k.tableColumn),(()=>{zl.value++})),l(zl,(()=>{V.analyColumnWidth()})),l((()=>k.upDataFlag),(()=>{h((()=>{D.updateData()}))})),l((()=>k.reColumnFlag),(()=>{h((()=>{D.refreshColumn()}))})),l((()=>t.showHeader),(()=>{h((()=>{D.recalculate(!0).then((()=>D.refreshScroll()))}))})),l((()=>t.showFooter),(()=>{h((()=>{D.recalculate(!0).then((()=>D.refreshScroll()))}))}));const Wl=d(0);l((()=>t.footerData?t.footerData.length:-1),(()=>{Wl.value++})),l((()=>t.footerData),(()=>{Wl.value++})),l(Wl,(()=>{D.updateFooter()})),l((()=>t.height),(()=>{h((()=>D.recalculate(!0)))})),l((()=>t.maxHeight),(()=>{h((()=>D.recalculate(!0)))})),l((()=>t.syncResize),(e=>{e&&(Bl(),h((()=>{Bl(),setTimeout((()=>Bl()))})))}));const ql=d(0);l((()=>t.mergeCells?t.mergeCells.length:-1),(()=>{ql.value++})),l((()=>t.mergeCells),(()=>{ql.value++})),l(ql,(()=>{D.clearMergeCells(),h((()=>{t.mergeCells&&D.setMergeCells(t.mergeCells)}))}));const Ul=d(0);let Xl;l((()=>t.mergeFooterItems?t.mergeFooterItems.length:-1),(()=>{Ul.value++})),l((()=>t.mergeFooterItems),(()=>{Ul.value++})),l(Ul,(()=>{D.clearMergeFooterItems(),h((()=>{t.mergeFooterItems&&D.setMergeFooterItems(t.mergeFooterItems)}))})),Lt.hooks.forEach((t=>{const{setupTable:l}=t;if(l){const t=l(bt);t&&e.isObject(t)&&Object.assign(bt,t)}})),V.preventEvent(null,"created",{$table:bt}),C((()=>{D.recalculate().then((()=>D.refreshScroll())),V.preventEvent(null,"activated",{$table:bt})})),y((()=>{M.isActivated=!1,V.preventEvent(null,"deactivated",{$table:bt})})),f((()=>{h((()=>{const{data:l,treeConfig:o,showOverflow:n}=t,{scrollXStore:a,scrollYStore:r}=M,i=De.value;if(ze.value,it.value,Ve.value,je.value,rt.value,Fe.value,Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==i.adaptive}),Object.assign(a,{startIndex:0,endIndex:0,visibleSize:0}),ul(l||[]).then((()=>{l&&l.length&&(M.inited=!0,M.initStatus=!0,pl(),ml()),Pt()})),t.autoResize){const l=Le.value,{refreshDelay:o}=l,n=j.value,a=V.getParentElem(),r=o?e.throttle((()=>D.recalculate(!0)),o,{leading:!0,trailing:!0}):null;Xl=Kl(r?()=>{t.autoResize&&requestAnimationFrame(r)}:()=>{t.autoResize&&D.recalculate(!0)}),n&&Xl.observe(n),a&&Xl.observe(a)}})),il.on(bt,"paste",Dl),il.on(bt,"copy",$l),il.on(bt,"cut",Nl),il.on(bt,"mousedown",Ol),il.on(bt,"blur",Rl),il.on(bt,"mousewheel",kl),il.on(bt,"keydown",Il),il.on(bt,"resize",Fl),bt.handleGlobalContextmenuEvent&&il.on(bt,"contextmenu",bt.handleGlobalContextmenuEvent),V.preventEvent(null,"mounted",{$table:bt})})),v((()=>{Xl&&Xl.disconnect(),D.closeFilter(),bt.closeMenu&&bt.closeMenu(),V.preventEvent(null,"beforeUnmount",{$table:bt})})),g((()=>{il.off(bt,"paste"),il.off(bt,"copy"),il.off(bt,"cut"),il.off(bt,"mousedown"),il.off(bt,"blur"),il.off(bt,"mousewheel"),il.off(bt,"keydown"),il.off(bt,"resize"),il.off(bt,"contextmenu"),V.preventEvent(null,"unmounted",{$table:bt})}));return bt.renderVN=()=>{const{loading:e,stripe:l,showHeader:o,height:r,treeConfig:i,mouseConfig:s,showFooter:d,highlightCell:p,highlightHoverRow:m,highlightHoverColumn:f,editConfig:g,editRules:h}=t,{isGroup:v,overflowX:x,overflowY:C,scrollXLoad:y,scrollYLoad:T,scrollbarHeight:O,tableData:R,tableColumn:M,tableGroupColumn:I,footerTableData:D,initStore:$,columnStore:N,filterStore:F,customStore:L}=k,{leftList:A,rightList:P}=N,V=c.loading,B=He.value,W=Me.value,q=it.value,U=Fe.value,X=Ne.value,G=E.value,Z=ft.value,J=Ue.value,Q=_e.value,te=ct.value,ae=tt.value;return n("div",{ref:j,class:["vxe-table","vxe-table--render-default",`tid_${w}`,`border--${Z}`,{[`size--${G}`]:G,[`valid-msg--${W.msgMode}`]:!!h,"vxe-editable":!!g,"old-cell-valid":h&&"obsolete"===S.cellVaildMode,"cell--highlight":p,"cell--selected":s&&J.selected,"cell--area":s&&J.area,"row--highlight":U.isHover||m,"column--highlight":X.isHover||f,"is--header":o,"is--footer":d,"is--group":v,"is--tree-line":i&&(q.showLine||q.line),"is--fixed-left":A.length,"is--fixed-right":P.length,"is--animat":!!t.animat,"is--round":t.round,"is--stripe":!i&&l,"is--loading":e,"is--empty":!e&&!R.length,"is--scroll-y":C,"is--scroll-x":x,"is--virtual-x":y,"is--virtual-y":T}],onKeydown:Ml},[n("div",{class:"vxe-table-slots"},c.default?c.default({}):[]),n("div",{class:"vxe-table--render-wrapper"},[n("div",{class:"vxe-table--main-wrapper"},[o?n(to,{ref:le,tableData:R,tableColumn:M,tableGroupColumn:I}):u(),n(Ql,{ref:oe,tableData:R,tableColumn:M}),d?n(oo,{ref:ne,footerTableData:D,tableColumn:M}):u()]),n("div",{class:"vxe-table--fixed-wrapper"},[A&&A.length&&x?Pl("left"):u(),P&&P.length&&x?Pl("right"):u()])]),n("div",{ref:Se,class:"vxe-table--empty-placeholder"},[n("div",{class:"vxe-table--empty-content"},Vl())]),n("div",{class:"vxe-table--border-line"}),n("div",{ref:we,class:"vxe-table--resizable-bar",style:x?{"padding-bottom":`${O}px`}:null}),n(dl,{class:"vxe-table--loading",modelValue:e,icon:te.icon,text:te.text},V?{default:()=>V({$table:bt,$grid:Ee})}:{}),$.custom?n(a("vxe-table-custom-panel"),{ref:ee,customStore:L}):u(),$.filter?n(a("vxe-table-filter-panel"),{ref:K,filterStore:F}):u(),$.import&&t.importConfig?n(a("vxe-table-import-panel"),{defaultOptions:k.importParams,storeData:k.importStore}):u(),$.export&&(t.exportConfig||t.printConfig)?n(a("vxe-table-export-panel"),{defaultOptions:k.exportParams,storeData:k.exportStore}):u(),ae?n(a("vxe-table-menu-panel"),{ref:Y}):u(),b?n(a("vxe-tooltip"),{ref:_,isArrow:!1,enterable:!1}):u(),b?n(a("vxe-tooltip"),Object.assign({ref:H},B)):u(),b&&t.editRules&&W.showMessage&&("default"===W.message?!r:"tooltip"===W.message)?n(a("vxe-tooltip"),Object.assign({ref:z,class:[{"old-cell-valid":h&&"obsolete"===S.cellVaildMode},"vxe-table--valid-error"]},"tooltip"===W.message||1===R.length?Q:{})):u()])},m("xecolgroup",null),m("$xetable",bt),bt},render(){return this.renderVN()}}),mo=Object.assign(po,{install:function(e){e.component(po.name,po)}}),fo=mo;jt.component(po.name,po);const go=Object.assign(wl,{install:function(e){e.component(wl.name,wl)}}),ho=go;jt.component(wl.name,wl);const vo=r({name:"VxePager",props:{size:{type:String,default:()=>S.pager.size||S.size},layouts:{type:Array,default:()=>S.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>S.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>S.pager.pagerCount||7},pageSizes:{type:Array,default:()=>S.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>S.pager.align},border:{type:Boolean,default:()=>S.pager.border},background:{type:Boolean,default:()=>S.pager.background},perfect:{type:Boolean,default:()=>S.pager.perfect},autoHidden:{type:Boolean,default:()=>S.pager.autoHidden},transfer:{type:Boolean,default:()=>S.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(t,a){const{slots:r,emit:c}=a,u=e.uniqueId(),p=sl(t),m=i("$xegrid",null),f=o({inpCurrPage:t.currentPage}),g=d(),v={refElem:g},b={xID:u,props:t,context:a,getRefMaps:()=>v};let x={},C={};const y=(e,t)=>Math.max(Math.ceil(e/t),1),w=s((()=>y(t.total,t.pageSize))),E=(e,l)=>{c("update:currentPage",l),e&&l!==t.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:t.pageSize,currentPage:l},e)},T=(e,l)=>{c("update:currentPage",e),l&&e!==t.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:t.pageSize,currentPage:e},l)},O=t=>{const l=t.target,o=e.toInteger(l.value),n=w.value,a=o<=0?1:o>=n?n:o,r=e.toValueString(a);l.value=r,f.inpCurrPage=r,T(a,t)},R=s((()=>{const{pagerCount:e}=t,l=w.value>e?e-2:e,o=[];for(let t=0;t<l;t++)o.push(t);return o})),k=s((()=>Math.floor((t.pagerCount-2)/2))),M=s((()=>t.pageSizes.map((t=>e.isNumber(t)?{value:t,label:`${S.i18n("vxe.pager.pagesize",[t])}`}:Object.assign({value:"",label:""},t))))),I=e=>{const{currentPage:l}=t;l>1&&T(1,e)},D=e=>{const{currentPage:l}=t,o=w.value;l<o&&T(o,e)},$=e=>{const{currentPage:l}=t,o=w.value;l>1&&T(Math.min(o,Math.max(l-1,1)),e)},N=e=>{const{currentPage:l}=t,o=w.value;l<o&&T(Math.min(o,l+1),e)},F=e=>{const l=R.value;T(Math.max(t.currentPage-l.length,1),e)},L=e=>{const l=w.value,o=R.value;T(Math.min(t.currentPage+o.length,l),e)},A=l=>{const{value:o}=l,n=e.toNumber(o),a=y(t.total,n);let r=t.currentPage;r>a&&(r=a,c("update:currentPage",a)),c("update:pageSize",n),x.dispatchEvent("page-change",{type:"size",pageSize:n,currentPage:r})},P=e=>{const t=e.target;f.inpCurrPage=t.value},V=e=>{al(e,Wt)?O(e):al(e,Kt)?(e.preventDefault(),N(e)):al(e,Zt)&&(e.preventDefault(),$(e))},j=()=>n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage<=1}],type:"button",title:S.i18n("vxe.pager.homePageTitle"),onClick:I},[n("i",{class:["vxe-pager--btn-icon",t.iconHomePage||S.icon.PAGER_HOME]})]),B=()=>n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage<=1}],type:"button",title:S.i18n("vxe.pager.prevPageTitle"),onClick:$},[n("i",{class:["vxe-pager--btn-icon",t.iconPrevPage||S.icon.PAGER_PREV_PAGE]})]),H=e=>n(e||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!e,"is--disabled":t.currentPage<=1}],type:"button",title:S.i18n("vxe.pager.prevJumpTitle"),onClick:F},[e?n("i",{class:["vxe-pager--jump-more-icon",t.iconJumpMore||S.icon.PAGER_JUMP_MORE]}):null,n("i",{class:["vxe-pager--jump-icon",t.iconJumpPrev||S.icon.PAGER_JUMP_PREV]})]),_=e=>{const l=w.value;return n(e||"button",{class:["vxe-pager--jump-next",{"is--fixed":!e,"is--disabled":t.currentPage>=l}],type:"button",title:S.i18n("vxe.pager.nextJumpTitle"),onClick:L},[e?n("i",{class:["vxe-pager--jump-more-icon",t.iconJumpMore||S.icon.PAGER_JUMP_MORE]}):null,n("i",{class:["vxe-pager--jump-icon",t.iconJumpNext||S.icon.PAGER_JUMP_NEXT]})])},z=()=>{const e=w.value;return n("button",{class:["vxe-pager--next-btn",{"is--disabled":t.currentPage>=e}],type:"button",title:S.i18n("vxe.pager.nextPageTitle"),onClick:N},[n("i",{class:["vxe-pager--btn-icon",t.iconNextPage||S.icon.PAGER_NEXT_PAGE]})])},W=()=>{const e=w.value;return n("button",{class:["vxe-pager--prev-btn",{"is--disabled":t.currentPage>=e}],type:"button",title:S.i18n("vxe.pager.endPageTitle"),onClick:D},[n("i",{class:["vxe-pager--btn-icon",t.iconEndPage||S.icon.PAGER_END]})])},q=e=>{const{currentPage:l,pagerCount:o}=t,a=[],r=w.value,i=R.value,s=k.value,c=r>o,u=c&&l>s+1,d=c&&l<r-s;let p=1;return c&&(p=l>=r-s?Math.max(r-i.length+1,1):Math.max(l-s,1)),e&&u&&a.push(n("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>E(e,1)},1),H("span")),i.forEach(((e,t)=>{const o=p+t;o<=r&&a.push(n("button",{key:o,class:["vxe-pager--num-btn",{"is--active":l===o}],type:"button",onClick:e=>E(e,o)},o))})),e&&d&&a.push(_("button"),n("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>E(e,r)},r)),n("span",{class:"vxe-pager--btn-wrapper"},a)},U=()=>q(!0),X=()=>{const e=M.value;return n(go,{class:"vxe-pager--sizes",modelValue:t.pageSize,placement:"top",transfer:t.transfer,options:e,onChange:A})},G=e=>n("span",{class:"vxe-pager--jump"},[e?n("span",{class:"vxe-pager--goto-text"},S.i18n("vxe.pager.goto")):null,n("input",{class:"vxe-pager--goto",value:f.inpCurrPage,type:"text",autocomplete:"off",onInput:P,onKeydown:V,onBlur:O}),e?n("span",{class:"vxe-pager--classifier-text"},S.i18n("vxe.pager.pageClassifier")):null]),Y=()=>G(!0),K=()=>{const e=w.value;return n("span",{class:"vxe-pager--count"},[n("span",{class:"vxe-pager--separator"}),n("span",e)])},Z=()=>n("span",{class:"vxe-pager--total"},S.i18n("vxe.pager.total",[t.total]));x={dispatchEvent(e,t,l){c(e,Object.assign({$pager:b,$event:l},t))},homePage:()=>(I(),h()),endPage:()=>(D(),h()),prevPage:()=>($(),h()),nextPage:()=>(N(),h()),prevJump:()=>(F(),h()),nextJump:()=>(L(),h())},C={handlePrevPage:$,handleNextPage:N,handlePrevJump:F,handleNextJump:L},Object.assign(b,x,C),l((()=>t.currentPage),(e=>{f.inpCurrPage=e}));return b.renderVN=()=>{const{align:l,layouts:o,className:a}=t,i=[],s=p.value,c=w.value;return r.left&&i.push(n("span",{class:"vxe-pager--left-wrapper"},r.left({$grid:m}))),o.forEach((e=>{let t;switch(e){case"Home":t=j;break;case"PrevJump":t=H;break;case"PrevPage":t=B;break;case"Number":t=q;break;case"JumpNumber":t=U;break;case"NextPage":t=z;break;case"NextJump":t=_;break;case"End":t=W;break;case"Sizes":t=X;break;case"FullJump":t=Y;break;case"Jump":t=G;break;case"PageCount":t=K;break;case"Total":t=Z}t&&i.push(t())})),r.right&&i.push(n("span",{class:"vxe-pager--right-wrapper"},r.right({$grid:m}))),n("div",{ref:g,class:["vxe-pager",a?e.isFunction(a)?a({$pager:b}):a:"",{[`size--${s}`]:s,[`align--${l}`]:l,"is--border":t.border,"is--background":t.background,"is--perfect":t.perfect,"is--hidden":t.autoHidden&&1===c,"is--loading":t.loading}]},[n("div",{class:"vxe-pager--wrapper"},i)])},b},render(){return this.renderVN()}}),bo=Object.assign(vo,{install:function(e){e.component(vo.name,vo)}}),xo=bo;jt.component(vo.name,vo);const Co=Object.assign(cl,{install(e){e.component(cl.name,cl)}});jt.component(cl.name,cl);const yo=r({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>S.toolbar.buttons},tools:{type:Array,default:()=>S.toolbar.tools},perfect:{type:Boolean,default:()=>S.toolbar.perfect},size:{type:String,default:()=>S.toolbar.size||S.size},className:[String,Function]},emits:["button-click","tool-click"],setup(t,l){const{slots:a,emit:r}=l,c=e.uniqueId(),p=sl(t),m=o({isRefresh:!1,columns:[]}),f=d(),g={refElem:f},v={xID:c,props:t,context:l,reactData:m,getRefMaps:()=>g};let b={};const x=i("$xegrid",null);let C;const y=d(0),w=s((()=>Object.assign({},S.toolbar.refresh,t.refresh))),E=s((()=>Object.assign({},S.toolbar.import,t.import))),R=s((()=>Object.assign({},S.toolbar.export,t.export))),k=s((()=>Object.assign({},S.toolbar.print,t.print))),M=s((()=>Object.assign({},S.toolbar.zoom,t.zoom))),I=s((()=>Object.assign({},S.toolbar.custom,t.custom))),D=s((()=>{if((y.value||C)&&C){const{computeCustomOpts:e}=C.getComputeMaps();return e.value}return{}})),$=s((()=>D.value.trigger)),N=()=>{if(C)return!0;O("vxe.error.barUnableLink")},F=({$event:e})=>{C&&(C.triggerCustomEvent?C.triggerCustomEvent(e):O("vxe.error.reqModule",["VxeTableCustomModule"]))},L=({$event:e})=>{C?C.customOpenEvent(e):O("vxe.error.reqModule",["VxeTableCustomModule"])},A=({$event:e})=>{const{customStore:t}=C.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||C.customColseEvent(e)}),350)},P=e=>{const{isRefresh:t}=m,l=w.value;if(!t){const t=l.queryMethod||l.query;if(t){m.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{m.isRefresh=!1}))}catch(o){m.isRefresh=!1}}else x&&(m.isRefresh=!0,x.triggerToolbarCommitEvent({code:l.code||"reload"},e).catch((e=>e)).then((()=>{m.isRefresh=!1})))}},V=e=>{x&&x.triggerZoomEvent(e)},j=(e,t)=>{const{code:l}=t;if(l)if(x)x.triggerToolbarBtnEvent(t,e);else{const o=Lt.commands.get(l),n={code:l,button:t,$table:C,$grid:x,$event:e};o&&o.commandMethod&&o.commandMethod(n),v.dispatchEvent("button-click",n,e)}},B=(e,t)=>{const{code:l}=t;if(l)if(x)x.triggerToolbarTolEvent(t,e);else{const o=Lt.commands.get(l),n={code:l,tool:t,$table:C,$grid:x,$event:e};o&&o.commandMethod&&o.commandMethod(n),v.dispatchEvent("tool-click",n,e)}},H=()=>{N()&&C.openImport()},_=()=>{N()&&C.openExport()},z=()=>{N()&&C.openPrint()},W=(e,t)=>{const{dropdowns:l}=e;return l?l.map(((e,l)=>!1===e.visible?u():n(Co,{key:l,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,onClick:l=>t?j(l,e):B(l,e)}))):[]},q=()=>{const{buttons:l}=t,o=a.buttons;if(o)return ke(o({$grid:x,$table:C}));const r=[];return l&&l.forEach((t=>{const{dropdowns:l,buttonRender:o}=t;if(!1!==t.visible){const a=o?Lt.renderer.get(o.name):null;if(o&&a&&a.renderToolbarButton){const l=a.toolbarButtonClassName,i={$grid:x,$table:C,button:t};r.push(n("span",{class:["vxe-button--item",l?e.isFunction(l)?l(i):l:""]},ke(a.renderToolbarButton(o,i))))}else r.push(n(Co,{disabled:t.disabled,loading:t.loading,type:t.type,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:e=>j(e,t)},l&&l.length?{dropdowns:()=>W(t,!0)}:{}))}})),r},U=()=>{const{tools:l}=t,o=a.tools;if(o)return ke(o({$grid:x,$table:C}));const r=[];return l&&l.forEach(((t,l)=>{const{dropdowns:o,toolRender:a}=t;if(!1!==t.visible){const i=a?a.name:null,s=a?Lt.renderer.get(i):null;if(a&&s&&s.renderToolbarTool){const l=s.toolbarToolClassName,o={$grid:x,$table:C,tool:t};r.push(n("span",{key:i,class:["vxe-tool--item",l?e.isFunction(l)?l(o):l:""]},ke(s.renderToolbarTool(a,o))))}else r.push(n(Co,{key:l,disabled:t.disabled,loading:t.loading,type:t.type,icon:t.icon,circle:t.circle,round:t.round,status:t.status,content:t.name,destroyOnClose:t.destroyOnClose,placement:t.placement,transfer:t.transfer,onClick:e=>B(e,t)},o&&o.length?{dropdowns:()=>W(t,!1)}:{}))}})),r},X=()=>{const e=E.value;return n(Co,{key:"import",circle:!0,icon:e.icon||S.icon.TOOLBAR_TOOLS_IMPORT,title:S.i18n("vxe.toolbar.import"),onClick:H})},G=()=>{const e=R.value;return n(Co,{key:"export",circle:!0,icon:e.icon||S.icon.TOOLBAR_TOOLS_EXPORT,title:S.i18n("vxe.toolbar.export"),onClick:_})},Y=()=>{const e=k.value;return n(Co,{key:"print",circle:!0,icon:e.icon||S.icon.TOOLBAR_TOOLS_PRINT,title:S.i18n("vxe.toolbar.print"),onClick:z})},K=()=>{const e=w.value;return n(Co,{key:"refresh",circle:!0,icon:m.isRefresh?e.iconLoading||S.icon.TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||S.icon.TOOLBAR_TOOLS_REFRESH,title:S.i18n("vxe.toolbar.refresh"),onClick:P})},Z=()=>{const e=M.value;return x?n(Co,{key:"zoom",circle:!0,icon:x.isMaximized()?e.iconOut||S.icon.TOOLBAR_TOOLS_MINIMIZE:e.iconIn||S.icon.TOOLBAR_TOOLS_FULLSCREEN,title:S.i18n("vxe.toolbar.zoom"+(x.isMaximized()?"Out":"In")),onClick:V}):u()},J=()=>{const e=I.value,t=$.value,l={};return"manual"===t||("hover"===t?(l.onMouseenter=L,l.onMouseleave=A):l.onClick=F),n(Co,Object.assign({key:"custom",circle:!0,icon:e.icon||S.icon.TOOLBAR_TOOLS_CUSTOM,title:S.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},l))};b={dispatchEvent(e,t,l){r(e,Object.assign({$toolbar:v,$event:l},t))},syncUpdate(e){const{collectColumn:t}=e;C=e.$table,m.columns=t,y.value++}},Object.assign(v,b),h((()=>{const{refresh:e}=t,l=w.value,o=l.queryMethod||l.query;!e||x||o||T("vxe.error.notFunc",["queryMethod"]),I.value}));return v.renderVN=()=>{const{perfect:l,loading:o,refresh:a,zoom:r,custom:i,className:s}=t,c=p.value;return n("div",{ref:f,class:["vxe-toolbar",s?e.isFunction(s)?s({$toolbar:v}):s:"",{[`size--${c}`]:c,"is--perfect":l,"is--loading":o}]},[n("div",{class:"vxe-buttons--wrapper"},q()),n("div",{class:"vxe-tools--wrapper"},U()),n("div",{class:"vxe-tools--operate"},[t.import?X():u(),t.export?G():u(),t.print?Y():u(),a?K():u(),r&&x?Z():u(),i?J():u()])])},v},render(){return this.renderVN()}}),wo=Object.assign(yo,{install:function(e){e.component(yo.name,yo)}});jt.component(yo.name,yo);class So{constructor(t,l){Object.assign(this,{id:e.uniqueId("item_"),title:l.title,field:l.field,span:l.span,align:l.align,titleAlign:l.titleAlign,titleWidth:l.titleWidth,titleColon:l.titleColon,titleAsterisk:l.titleAsterisk,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,titleOverflow:l.titleOverflow,showTitle:l.showTitle,resetValue:l.resetValue,visibleMethod:l.visibleMethod,visible:l.visible,folding:l.folding,collapseNode:l.collapseNode,className:l.className,contentClassName:l.contentClassName,contentStyle:l.contentStyle,titleClassName:l.titleClassName,titleStyle:l.titleStyle,itemRender:l.itemRender,rules:l.rules,showError:!1,errRule:null,slots:l.slots,children:[]})}update(e,t){this[e]=t}}function Eo(e,t){return t instanceof So?t:new So(e,t)}function To(t,l){return l?e.isString(l)?t.getItemByField(l):l:null}function Oo(e,t){let{visibleMethod:l,itemRender:o,visible:n,field:a}=t;if(!1===n)return n;const r=I(o)?Lt.renderer.get(o.name):null;if(!l&&r&&r.itemVisibleMethod&&(l=r.itemVisibleMethod),!l)return!0;const{data:i}=e.props;return l({data:i,field:a,property:a,item:t,$form:e,$grid:e.xegrid})}function Ro(e,t){Object.keys(e).forEach((o=>{l((()=>e[o]),(e=>{t.update(o,e)}))}))}function ko(t,l,o,n){const{reactData:a}=t,{staticItems:r}=a,i=l.parentNode,s=n?n.formItem:null,c=s?s.children:r;i&&(c.splice(e.arrayIndexOf(i.children,l),0,o),a.staticItems=r.slice(0))}function Mo(t,l){const{reactData:o}=t,{staticItems:n}=o,a=e.findIndexOf(n,(e=>e.id===l.id));a>-1&&n.splice(a,1),o.staticItems=n.slice(0)}const Io=Object.assign(kl,{install:function(e){Lt.tooltip=!0,e.component(kl.name,kl)}});function Do(e){return n("span",{class:"vxe-form--item-title-prefix"},[n("i",{class:e.icon||S.icon.FORM_PREFIX})])}function $o(e){return n("span",{class:"vxe-form--item-title-suffix"},[n("i",{class:e.icon||S.icon.FORM_SUFFIX})])}function No(e,t){const{data:l}=e.props,{computeTooltipOpts:o}=e.getComputeMaps(),{slots:a,field:r,itemRender:i,titlePrefix:s,titleSuffix:c}=t,u=o.value,d=I(i)?Lt.renderer.get(i.name):null,p={data:l,field:r,property:r,item:t,$form:e,$grid:e.xegrid},m=a?a.title:null,f=[],g=[];s&&g.push(s.content||s.message?n(Io,Object.assign(Object.assign(Object.assign({},u),s),{content:L(s.content||s.message)}),{default:()=>Do(s)}):Do(s)),g.push(n("span",{class:"vxe-form--item-title-label"},d&&d.renderItemTitle?ke(d.renderItemTitle(i,p)):m?e.callSlot(m,p):L(t.title))),f.push(n("div",{class:"vxe-form--item-title-content"},g));const h=[];return c&&h.push(c.content||c.message?n(Io,Object.assign(Object.assign(Object.assign({},u),c),{content:L(c.content||c.message)}),{default:()=>$o(c)}):$o(c)),f.push(n("div",{class:"vxe-form--item-title-postfix"},h)),f}jt.component(kl.name,kl);const Fo=r({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(t){const l=i("$xeform",{}),o={itemConfig:t.itemConfig};m("$xeformiteminfo",o),m("$xeformgather",null);return{renderVN:()=>{const{reactData:o}=l,{data:a,rules:r,span:i,align:s,titleAlign:c,titleWidth:d,titleColon:p,titleAsterisk:m,titleOverflow:f,vertical:g}=l.props,{computeValidOpts:h}=l.getComputeMaps(),v=t.itemConfig,{collapseAll:b}=o,x=h.value,{slots:C,title:y,visible:w,folding:E,field:T,collapseNode:O,itemRender:R,showError:k,errRule:M,className:D,titleOverflow:$,vertical:N,children:F,showTitle:A,contentClassName:P,contentStyle:V,titleClassName:j,titleStyle:B}=v,H=I(R)?Lt.renderer.get(R.name):null,_=H?H.itemClassName:"",z=H?H.itemStyle:null,W=H?H.itemContentClassName:"",q=H?H.itemContentStyle:null,U=H?H.itemTitleClassName:"",X=H?H.itemTitleStyle:null,G=C?C.default:null,Y=C?C.title:null,K=v.span||i,Z=v.align||s,J=e.eqNull(v.titleAlign)?c:v.titleAlign,Q=e.eqNull(v.titleWidth)?d:v.titleWidth,ee=e.eqNull(v.titleColon)?p:v.titleColon,te=e.eqNull(v.titleAsterisk)?m:v.titleAsterisk,le=e.isUndefined($)||e.isNull($)?f:$,oe=e.isUndefined(N)||e.isNull(N)?g:N,ne="title"===le,ae=!0===le||"tooltip"===le,re=ne||ae||"ellipsis"===le,ie={data:a,field:T,property:T,item:v,$form:l,$grid:l.xegrid};if(!1===w)return u();let se=!1;if(r){const e=r[T];e&&(se=e.some((e=>e.required)))}if(F&&F.length>0){const t=F.map(((e,t)=>n(Fo,{key:t,itemConfig:e})));return t.length?n("div",{class:["vxe-form--gather vxe-form--item-row",v.id,K?`vxe-form--item-col_${K} is--span`:"",D?e.isFunction(D)?D(ie):D:""]},t):u()}let ce=[];G?ce=l.callSlot(G,ie):H&&H.renderItemContent?ce=ke(H.renderItemContent(R,ie)):T&&(ce=[e.toValueString(e.get(a,T))]),O&&ce.push(n("div",{class:"vxe-form--item-trigger-node",onClick:l.toggleCollapseEvent},[n("span",{class:"vxe-form--item-trigger-text"},b?S.i18n("vxe.form.unfolding"):S.i18n("vxe.form.folding")),n("i",{class:["vxe-form--item-trigger-icon",b?S.icon.FORM_FOLDING:S.icon.FORM_UNFOLDING]})])),M&&x.showMessage&&ce.push(n("div",{class:"vxe-form--item-valid",style:M.maxWidth?{width:`${M.maxWidth}px`}:null},M.content));const ue=ae?{onMouseenter(e){l.triggerTitleTipEvent(e,ie)},onMouseleave:l.handleTitleTipLeaveEvent}:{};return n("div",{class:["vxe-form--item",v.id,K?`vxe-form--item-col_${K} is--span`:"",D?e.isFunction(D)?D(ie):D:"",_?e.isFunction(_)?_(ie):_:"",{"is--title":y,"is--colon":ee,"is--vertical":oe,"is--asterisk":te,"is--required":se,"is--hidden":E&&b,"is--active":Oo(l,v),"is--error":k}],style:e.isFunction(z)?z(ie):z},[n("div",{class:"vxe-form--item-inner"},[!1!==A&&(y||Y)?n("div",Object.assign({class:["vxe-form--item-title",J?`align--${J}`:"",re?"is--ellipsis":"",U?e.isFunction(U)?U(ie):U:"",j?e.isFunction(j)?j(ie):j:""],style:Object.assign({},e.isFunction(X)?X(ie):X,e.isFunction(B)?B(ie):B,Q?{width:isNaN(Q)?Q:`${Q}px`}:null),title:ne?L(y):null},ue),No(l,v)):null,n("div",{class:["vxe-form--item-content",Z?`align--${Z}`:"",W?e.isFunction(W)?W(ie):W:"",P?e.isFunction(P)?P(ie):P:""],style:Object.assign({},e.isFunction(q)?q(ie):q,e.isFunction(V)?V(ie):V)},ce)])])}}},render(){return this.renderVN()}});class Lo{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return L(this.$options.content||this.$options.message)}get message(){return this.content}}const Ao=(t,l)=>{const{type:o,min:n,max:a,pattern:r}=t,i="number"===o,s=i?e.toNumber(l):e.getSize(l);return!(!i||!isNaN(l))||(!e.eqNull(n)&&s<e.toNumber(n)||(!e.eqNull(a)&&s>e.toNumber(a)||!(!r||(e.isRegExp(r)?r:new RegExp(r)).test(l))))};const Po=r({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>S.form.size||S.size},span:{type:[String,Number],default:()=>S.form.span},align:{type:String,default:()=>S.form.align},titleAlign:{type:String,default:()=>S.form.titleAlign},titleWidth:{type:[String,Number],default:()=>S.form.titleWidth},titleColon:{type:Boolean,default:()=>S.form.titleColon},titleAsterisk:{type:Boolean,default:()=>S.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>S.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>S.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(t,a){const r=Lt.tooltip,{slots:c,emit:p}=a,f=e.uniqueId(),g=sl(t),v=o({collapseAll:t.collapseStatus,staticItems:[],formItems:[]}),b=o({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),x=i("$xegrid",null),C=d(),y=d();let w={};const E=s((()=>Object.assign({},S.form.validConfig,t.validConfig))),T=s((()=>Object.assign({},S.tooltip,S.form.tooltipConfig,t.tooltipConfig))),O={refElem:C},R={computeSize:g,computeValidOpts:E,computeTooltipOpts:T},k={xID:f,props:t,context:a,reactData:v,xegrid:x,getRefMaps:()=>O,getComputeMaps:()=>R},M=t=>(t.length,v.staticItems=e.mapTree(t,(e=>Eo(k,e)),{children:"children"}),h()),D=()=>{const t=[];return e.eachTree(v.formItems,(e=>{t.push(e)}),{children:"children"}),t},$=t=>{const l=e.findTree(v.formItems,(e=>e.field===t),{children:"children"});return l?l.item:null},N=()=>v.collapseAll,F=()=>{const e=!N();return v.collapseAll=e,p("update:collapseStatus",e),h()},L=t=>{if(t){let l=t;e.isArray(t)||(l=[t]),l.forEach((e=>{if(e){const t=To(k,e);t&&(t.showError=!1)}}))}else D().forEach((e=>{e.showError=!1}));return h()},A=()=>{const{data:l}=t,o=D();return l&&o.forEach((t=>{const{field:o,resetValue:n,itemRender:a}=t;if(I(a)){const r=Lt.renderer.get(a.name);r&&r.itemResetMethod?r.itemResetMethod({data:l,field:o,property:o,item:t,$form:k,$grid:k.xegrid}):o&&e.set(l,o,null===n?function(t,l){return e.isArray(t)&&(l=[]),l}(e.get(l,o),void 0):e.clone(n,!0))}})),L()},V=e=>{e.preventDefault(),A(),w.dispatchEvent("reset",{data:t.data},e)},j=(l,o,n)=>{const{data:a,rules:r}=t,i={};return e.isArray(o)||(o=[o]),Promise.all(o.map((t=>{const o=[],s=[];if(t&&r){const i=e.get(r,t);if(i){const r=e.isUndefined(n)?e.get(a,t):n;i.forEach((n=>{const{type:c,trigger:u,required:d,validator:p}=n;if("all"===l||!u||l===u)if(p){const l={itemValue:r,rule:n,rules:i,data:a,field:t,property:t,$form:k};let c;if(e.isString(p)){const e=Lt.validators.get(p);e&&e.itemValidatorMethod&&(c=e.itemValidatorMethod(l))}else c=p(l);c&&(e.isError(c)?o.push(new Lo({type:"custom",trigger:u,content:c.message,rule:new Lo(n)})):c.catch&&s.push(c.catch((e=>{o.push(new Lo({type:"custom",trigger:u,content:e?e.message:n.content||n.message,rule:new Lo(n)}))}))))}else{const t="array"===c,l=e.isArray(r);let a=!0;a=t||l?!l||!r.length:e.isString(r)?P(r.trim()):P(r),(d?a||Ao(n,r):!a&&Ao(n,r))&&o.push(new Lo(n))}}))}}return Promise.all(s).then((()=>{o.length&&(i[t]=o.map((e=>({$form:k,rule:e,data:a,field:t,property:t}))))}))}))).then((()=>{if(!e.isEmpty(i))return Promise.reject(i)}))};let B;const H=(e,l,o)=>{const{data:n,rules:a}=t,r=E.value,i={},s=[],c=[];return clearTimeout(B),n&&a?(e.forEach((e=>{const{field:t}=e;t&&!function(e,t){const{reactData:l}=e,{collapseAll:o}=l,{folding:n,visible:a}=t;return!1===a||n&&o}(k,e)&&Oo(k,e)&&c.push(j(l||"all",t).then((()=>{e.errRule=null})).catch((l=>{const o=l[t];return i[t]||(i[t]=[]),i[t].push(o),s.push(t),e.errRule=o[0].rule,Promise.reject(o)})))})),Promise.all(c).then((()=>{o&&o()})).catch((()=>new Promise((t=>{B=window.setTimeout((()=>{e.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==r.autoPos&&h((()=>{(e=>{const t=C.value;for(let o=0;o<e.length;o++){const n=e[o],a=$(n);if(a&&I(a.itemRender)){const{itemRender:e}=a,n=Lt.renderer.get(e.name);let r=null;if(o||(l=t.querySelector(`.${a.id}`))&&(l[ne]?l[ne]():l[ae]&&l[ae]()),e.autofocus&&(r=t.querySelector(`.${a.id} ${e.autofocus}`)),!r&&n&&n.autofocus&&(r=t.querySelector(`.${a.id} ${n.autofocus}`)),r){r.focus();break}}}var l})(s)})),o?(o(i),t()):t(i)}))))):(o&&o(),Promise.resolve())},_=e=>{e.preventDefault(),t.preventSubmit||(L(),H(D()).then((l=>{l?w.dispatchEvent("submit-invalid",{data:t.data,errMap:l},e):w.dispatchEvent("submit",{data:t.data},e)})))},z=()=>{const{tooltipStore:e}=b,t=y.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),h()},W=(e,t,l)=>t?j(e?["blur"].includes(e.type)?"blur":"change":"all",t,l).then((()=>{L(t)})).catch((e=>{const l=e[t],o=$(t);l&&o&&(o.showError=!0,o.errRule=l[0].rule)})):h();w={dispatchEvent(e,t,l){p(e,Object.assign({$form:k,$grid:x,$event:l},t))},reset:A,validate:e=>(L(),H(D(),"",e)),validateField:(t,l)=>{let o=[];return o=e.isArray(t)?t:[t],H(o.map((e=>To(k,e))),"",l)},clearValidate:L,updateStatus:(e,t)=>{const{field:l}=e;return W(new Event("change"),l,t)},toggleCollapse:F,getItems:D,getItemByField:$,closeTooltip:z};const q={callSlot:(t,l)=>t&&(e.isString(t)&&(t=c[t]||null),e.isFunction(t))?ke(t(l)):[],triggerItemEvent:W,toggleCollapseEvent:e=>{F();const l=N();w.dispatchEvent("toggle-collapse",{status:l,collapse:l,data:t.data},e),w.dispatchEvent("collapse",{status:l,collapse:l,data:t.data},e)},triggerTitleTipEvent:(e,t)=>{const{item:l}=t,{tooltipStore:o}=b,n=y.value,a=e.currentTarget.children[0],r=(a.textContent||"").trim(),i=a.scrollWidth>a.clientWidth;clearTimeout(b.tooltipTimeout),o.item!==l&&z(),r&&i&&(Object.assign(o,{item:l,visible:!0}),n&&n.open(a,r))},handleTitleTipLeaveEvent:()=>{const e=T.value;let t=y.value;t&&t.setActived(!1),e.enterable?b.tooltipTimeout=setTimeout((()=>{t=y.value,t&&!t.isActived()&&z()}),e.leaveDelay):z()}};Object.assign(k,w,q);const U=d(0);l((()=>v.staticItems.length),(()=>{U.value++})),l((()=>v.staticItems),(()=>{U.value++})),l(U,(()=>{v.formItems=v.staticItems}));const X=d(0);l((()=>t.items?t.items.length:-1),(()=>{X.value++})),l((()=>t.items),(()=>{X.value++})),l(X,(()=>{M(t.items||[])})),l((()=>t.collapseStatus),(e=>{v.collapseAll=!!e}));return k.renderVN=()=>{const{loading:l,className:o,data:a,customLayout:i}=t,{formItems:s}=v,d=g.value,p=T.value,m=c.default;return n("form",{ref:C,class:["vxe-form",o?e.isFunction(o)?o({items:s,data:a,$form:k}):o:"",{[`size--${d}`]:d,"is--loading":l}],onSubmit:_,onReset:V},[n("div",{class:"vxe-form--wrapper vxe-form--item-row"},i?m?m({}):[]:s.map(((e,t)=>n(Fo,{key:t,itemConfig:e})))),n("div",{class:"vxe-form-slots",ref:"hideItem"},i?[]:m?m({}):[]),n(dl,{class:"vxe-form--loading",modelValue:l}),r?n(Io,Object.assign({ref:y},p)):u()])},t.items&&M(t.items),m("$xeform",k),m("$xeformgather",null),m("$xeformitem",null),m("$xeformiteminfo",null),k},render(){return this.renderVN()}}),Vo=Object.assign(Po,{install(e){e.component(Po.name,Po)}});jt.component(Po.name,Po);const jo=Object.keys(no),Bo=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],Ho=[...ao,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],_o=r({name:"VxeGrid",props:Object.assign(Object.assign({},no),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>S.grid.size||S.size}}),emits:Ho,setup(t,a){const{slots:r,emit:i}=a,c=e.uniqueId(),u=x(),p=sl(t),v=o({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:S.pager.pageSize||10,currentPage:1}}),b=d(),C=d(),y=d(),w=d(),E=d(),T=d(),R=d(),k=d(),M=d(),D=d(),F=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const l=C.value;if(l&&l[e])return l[e](...t)}})),t},L=F(Bo);Bo.forEach((e=>{L[e]=(...t)=>{const l=C.value;if(l&&l[e])return l&&l[e](...t)}}));const A=s((()=>Object.assign({},S.grid.proxyConfig,t.proxyConfig))),P=s((()=>!1!==A.value.message)),V=s((()=>Object.assign({},S.grid.pagerConfig,t.pagerConfig))),j=s((()=>Object.assign({},S.grid.formConfig,t.formConfig))),B=s((()=>Object.assign({},S.grid.toolbarConfig,t.toolbarConfig))),H=s((()=>Object.assign({},S.grid.zoomConfig,t.zoomConfig))),_=s((()=>v.isZMax?{zIndex:v.tZindex}:null)),z=s((()=>{const e={},l=t;return jo.forEach((t=>{e[t]=l[t]})),e})),W={refElem:b,refTable:C,refForm:y,refToolbar:w,refPager:E},q={computeProxyOpts:A,computePagerOpts:V,computeFormOpts:j,computeToolbarOpts:B,computeZoomOpts:H},U={xID:c,props:t,context:a,instance:u,reactData:v,getRefMaps:()=>W,getComputeMaps:()=>q};let X={};const G=s((()=>{const{seqConfig:e,pagerConfig:l,loading:o,editConfig:n,proxyConfig:a}=t,{isZMax:r,tableLoading:i,tablePage:s,tableData:c}=v,u=z.value,d=A.value,p=V.value,m=Object.assign({},u);return r&&(u.maxHeight?m.maxHeight="auto":m.height="auto"),a&&I(d)&&(m.loading=o||i,m.data=c,l&&d.seq&&I(p)&&(m.seqConfig=Object.assign({},e,{startIndex:(s.currentPage-1)*s.pageSize}))),n&&(m.editConfig=Object.assign({},n)),m})),J=()=>{const e=B.value;t.toolbarConfig&&I(e)&&h((()=>{const e=C.value,t=w.value;e&&t&&e.connect(t)}))},Q=()=>{const{tablePage:e}=v,{pagerConfig:l}=t,o=V.value,{currentPage:n,pageSize:a}=o;l&&I(o)&&(n&&(e.currentPage=n),a&&(e.pageSize=a))},ee=(t,l)=>{const o=A.value,n=(o.response||o.props||{}).message;let a;return t&&n&&(a=e.isFunction(n)?n({data:t,$grid:U}):e.get(t,n)),a||S.i18n(l)},te=(e,t,l)=>{const o=P.value,n=L.getCheckboxRecords();if(o){if(n.length)return Lt.modal.confirm({id:`cfm_${e}`,content:S.i18n(t),escClosable:!0}).then((e=>{if("confirm"===e)return l()}));Lt.modal.message({id:`msg_${e}`,content:S.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else n.length&&l();return Promise.resolve()},le=e=>{const{proxyConfig:l}=t,{tablePage:o}=v,{currentPage:n,pageSize:a}=e,r=A.value;o.currentPage=n,o.pageSize=a,X.dispatchEvent("page-change",e),l&&I(r)&&X.commitProxy("query").then((t=>{X.dispatchEvent("proxy-query",t,e.$event)}))},oe=e=>{const l=C.value,{proxyConfig:o}=t,{computeSortOpts:n}=l.getComputeMaps(),a=A.value;n.value.remote&&(v.sortData=e.sortList,o&&I(a)&&(v.tablePage.currentPage=1,X.commitProxy("query").then((t=>{X.dispatchEvent("proxy-query",t,e.$event)})))),X.dispatchEvent("sort-change",e)},ne=e=>{const l=C.value,{proxyConfig:o}=t,{computeFilterOpts:n}=l.getComputeMaps(),a=A.value;n.value.remote&&(v.filterData=e.filterList,o&&I(a)&&(v.tablePage.currentPage=1,X.commitProxy("query").then((t=>{X.dispatchEvent("proxy-query",t,e.$event)})))),X.dispatchEvent("filter-change",e)},ae=e=>{const{proxyConfig:l}=t,o=A.value;l&&I(o)&&X.commitProxy("reload").then((t=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},t),{isReload:!0}),e.$event)})),X.dispatchEvent("form-submit",e)},re=e=>{const{proxyConfig:l}=t,o=A.value;l&&I(o)&&X.commitProxy("reload").then((t=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},t),{isReload:!0}),e.$event)})),X.dispatchEvent("form-reset",e)},ie=e=>{X.dispatchEvent("form-submit-invalid",e)},se=e=>{h((()=>L.recalculate(!0))),X.dispatchEvent("form-toggle-collapse",e),X.dispatchEvent("form-collapse",e)},ce=e=>{const{isZMax:t}=v;return(e?!t:t)&&(v.isZMax=!t,v.tZindex<N()&&(v.tZindex=$())),h().then((()=>L.recalculate(!0))).then((()=>v.isZMax))},ue=(t,l)=>{const o=t[l];if(o){if(!e.isString(o))return o;if(r[o])return r[o]}return null},de=["Form","Toolbar","Top","Table","Bottom","Pager"],pe=()=>{const{layouts:l}=t,o=[];return(l&&l.length?l:S.grid.layouts||de).forEach((l=>{switch(l){case"Form":o.push((()=>{const{formConfig:l,proxyConfig:o}=t,{formData:a}=v,i=A.value,s=j.value,c=[];if(l&&I(s)||r.form){let t=[];if(r.form)t=r.form({$grid:U});else if(s.items){const l={};if(!s.inited){s.inited=!0;const e=i.beforeItem;i&&e&&s.items.forEach((t=>{e({$grid:U,item:t})}))}s.items.forEach((t=>{e.each(t.slots,(t=>{e.isFunction(t)||r[t]&&(l[t]=r[t])}))})),t.push(n(Vo,Object.assign(Object.assign({ref:y},Object.assign({},s,{data:o&&I(i)&&i.form?a:s.data})),{onSubmit:ae,onReset:re,onSubmitInvalid:ie,onCollapse:se}),l))}c.push(n("div",{ref:T,key:"form",class:"vxe-grid--form-wrapper"},t))}return c})());break;case"Toolbar":o.push((()=>{const{toolbarConfig:e}=t,l=B.value,o=[];if(e&&I(l)||r.toolbar){let e=[];if(r.toolbar)e=r.toolbar({$grid:U});else{const t=l.slots;let o,a;const r={};t&&(o=ue(t,"buttons"),a=ue(t,"tools"),o&&(r.buttons=o),a&&(r.tools=a)),e.push(n(wo,Object.assign({ref:w},l),r))}o.push(n("div",{ref:R,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e))}return o})());break;case"Top":o.push(r.top?[n("div",{ref:k,key:"top",class:"vxe-grid--top-wrapper"},r.top({$grid:U}))]:[]);break;case"Table":o.push(fe());break;case"Bottom":o.push(ge());break;case"Pager":o.push(he())}})),o},me={};ao.forEach((t=>{const l=e.camelCase(`on-${t}`);me[l]=(...e)=>i(t,...e)}));const fe=()=>{const{proxyConfig:e}=t,l=G.value,o=A.value,a=Object.assign({},me),i=r.empty,s=r.loading;e&&I(o)&&(o.sort&&(a.onSortChange=oe),o.filter&&(a.onFilterChange=ne));const c={};return i&&(c.empty=()=>i({})),s&&(c.loading=()=>s({})),[n(mo,Object.assign(Object.assign({ref:C,key:"table"},l),a),c)]},ge=()=>r.bottom?[n("div",{ref:M,key:"bottom",class:"vxe-grid--bottom-wrapper"},r.bottom({$grid:U}))]:[],he=()=>{const{proxyConfig:e,pagerConfig:l}=t,o=A.value,a=V.value,i=[];if(l&&I(a)||r.pager){let t=[];if(r.pager)t=r.pager({$grid:U});else{const l=a.slots,r={};let i,s;l&&(i=ue(l,"left"),s=ue(l,"right"),i&&(r.left=i),s&&(r.right=s)),t.push(n(bo,Object.assign(Object.assign(Object.assign({ref:E},a),e&&I(o)?v.tablePage:{}),{onPageChange:le}),r))}i.push(n("div",{ref:D,key:"pager",class:"vxe-grid--pager-wrapper"},t))}return i},ve=()=>{const{proxyConfig:l,formConfig:o}=t,{proxyInited:n}=v,a=A.value,r=j.value;if(l&&I(a)){if(o&&I(r)&&a.form&&r.items){const t={};r.items.forEach((l=>{const{field:o,itemRender:n}=l;if(o){let a=null;if(n){const{defaultValue:t}=n;e.isFunction(t)?a=t({item:l}):e.isUndefined(t)||(a=t)}t[o]=a}})),v.formData=t}n||(v.proxyInited=!0,!1!==a.autoLoad&&h().then((()=>X.commitProxy("_init"))).then((e=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))})))}};X={dispatchEvent(e,t,l){i(e,Object.assign({$grid:U,$event:l},t))},commitProxy(l,...o){const{toolbarConfig:n,pagerConfig:a,editRules:r,validConfig:i}=t,{tablePage:s,formData:c}=v,u=P.value,d=A.value,p=V.value,m=B.value,{beforeQuery:f,afterQuery:g,beforeDelete:b,afterDelete:x,beforeSave:y,afterSave:w,ajax:E={}}=d,T=d.response||d.props||{},O=C.value;let R=null,k=null;if(e.isString(l)){const{buttons:t}=m,o=n&&I(m)&&t?e.findTree(t,(e=>e.code===l),{children:"dropdowns"}):null;R=o?o.item:null,k=l}else R=l,k=R.code;const M=R?R.params:null;switch(k){case"insert":return O.insert({});case"insert_edit":case"insert_actived":return O.insert({}).then((({row:e})=>O.setEditRow(e)));case"mark_cancel":(e=>{const t=P.value,l=C.value,o=l.getCheckboxRecords();o.length?(l.togglePendingRow(o),L.clearCheckboxRow()):t&&Lt.modal.message({id:e,content:S.i18n("vxe.grid.selectOneRecord"),status:"warning"})})(k);break;case"remove":return te(k,"vxe.grid.removeSelectRecord",(()=>O.removeCheckboxRow()));case"import":O.importData(M);break;case"open_import":O.openImport(M);break;case"export":O.exportData(M);break;case"open_export":O.openExport(M);break;case"reset_custom":return O.resetColumn(!0);case"_init":case"reload":case"query":{const t=E.query;if(t){const l="_init"===k,n="reload"===k;let r=[],i=[],u={};if(a&&((l||n)&&(s.currentPage=1),I(p)&&(u=Object.assign({},s))),l){const{computeSortOpts:t}=O.getComputeMaps();let l=t.value.defaultSort;l&&(e.isArray(l)||(l=[l]),r=l.map((e=>({field:e.field,property:e.field,order:e.order})))),i=O.getCheckedFilters()}else n?O.clearAll():(r=O.getSortColumns(),i=O.getCheckedFilters());const d={code:k,button:R,isInited:l,isReload:n,$grid:U,page:u,sort:r.length?r[0]:{},sorts:r,filters:i,form:c,options:t};v.sortData=r,v.filterData=i,v.tableLoading=!0;const m=[d].concat(o);return Promise.resolve((f||t)(...m)).then((t=>{if(v.tableLoading=!1,t)if(a&&I(p)){const l=T.total,o=(e.isFunction(l)?l({data:t,$grid:U}):e.get(t,l||"page.total"))||0;s.total=e.toNumber(o);const n=T.result;v.tableData=(e.isFunction(n)?n({data:t,$grid:U}):e.get(t,n||"result"))||[];const a=Math.max(Math.ceil(o/s.pageSize),1);s.currentPage>a&&(s.currentPage=a)}else{const l=T.list;v.tableData=(l?e.isFunction(l)?l({data:t,$grid:U}):e.get(t,l):t)||[]}else v.tableData=[];return g&&g(...m),{status:!0}})).catch((()=>(v.tableLoading=!1,{status:!1})))}break}case"delete":{const e=E.delete;if(e){const t=L.getCheckboxRecords(),l=t.filter((e=>!O.isInsertByRow(e))),n=[{$grid:U,code:k,button:R,body:{removeRecords:l},form:c,options:e}].concat(o);if(t.length)return te(k,"vxe.grid.deleteSelectRecord",(()=>l.length?(v.tableLoading=!0,Promise.resolve((b||e)(...n)).then((e=>(v.tableLoading=!1,O.setPendingRow(l,!1),u&&Lt.modal.message({content:ee(e,"vxe.grid.delSuccess"),status:"success"}),x?x(...n):X.commitProxy("query"),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Lt.modal.message({id:k,content:ee(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):O.remove(t)));u&&Lt.modal.message({id:k,content:S.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const e=E.save;if(e){const t=O.getRecordset(),{insertRecords:l,removeRecords:n,updateRecords:a,pendingRecords:s}=t,d=[{$grid:U,code:k,button:R,body:t,form:c,options:e}].concat(o);l.length&&(t.pendingRecords=s.filter((e=>-1===O.findRowIndexOf(l,e)))),s.length&&(t.insertRecords=l.filter((e=>-1===O.findRowIndexOf(s,e))));let p=Promise.resolve();return r&&(p=O[i&&"full"===i.msgMode?"fullValidate":"validate"](t.insertRecords.concat(a))),p.then((l=>{if(!l)return t.insertRecords.length||n.length||a.length||t.pendingRecords.length?(v.tableLoading=!0,Promise.resolve((y||e)(...d)).then((e=>(v.tableLoading=!1,O.clearPendingRow(),u&&Lt.modal.message({content:ee(e,"vxe.grid.saveSuccess"),status:"success"}),w?w(...d):X.commitProxy("query"),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Lt.modal.message({id:k,content:ee(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):void(u&&Lt.modal.message({id:k,content:S.i18n("vxe.grid.dataUnchanged"),status:"info"}))}))}break}default:{const e=Lt.commands.get(k);e&&e.commandMethod&&e.commandMethod({code:k,button:R,$grid:U,$table:O},...o)}}return h()},zoom:()=>v.isZMax?X.revert():X.maximize(),isMaximized:()=>v.isZMax,maximize:()=>ce(!0),revert:()=>ce(),getFormItems(l){const o=j.value,{formConfig:n}=t,{items:a}=o,r=[];return e.eachTree(n&&I(o)&&a?a:[],(e=>{r.push(e)}),{children:"children"}),e.isUndefined(l)?r:r[l]},getProxyInfo(){const e=C.value;if(t.proxyConfig){const{sortData:t}=v;return{data:v.tableData,filter:v.filterData,form:v.formData,sort:t.length?t[0]:{},sorts:t,pager:v.tablePage,pendingRecords:e?e.getPendingRecords():[]}}return null}};const be={extendTableMethods:F,callSlot:(t,l)=>t&&(e.isString(t)&&(t=r[t]||null),e.isFunction(t))?ke(t(l)):[],getExcludeHeight(){const{height:e}=t,{isZMax:l}=v,o=b.value,n=T.value,a=R.value,r=k.value,i=M.value,s=D.value;return(l||"auto"!==e?0:Z(o.parentNode))+Z(o)+K(n)+K(a)+K(r)+K(i)+K(s)},getParentHeight(){const t=b.value;return t?(v.isZMax?Y().visibleHeight:e.toNumber(getComputedStyle(t.parentNode).height))-be.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const{code:l}=e;return X.commitProxy(e,t).then((e=>{l&&e&&e.status&&["query","reload","delete","save"].includes(l)&&X.dispatchEvent("delete"===l||"save"===l?`proxy-${l}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===l}),t)}))},triggerToolbarBtnEvent(e,t){be.triggerToolbarCommitEvent(e,t),X.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){be.triggerToolbarCommitEvent(e,t),X.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent(e){X.zoom(),X.dispatchEvent("zoom",{type:v.isZMax?"max":"revert"},e)}};Object.assign(U,L,X,be);const xe=d(0);l((()=>t.columns?t.columns.length:-1),(()=>{xe.value++})),l((()=>t.columns),(()=>{xe.value++})),l(xe,(()=>{h((()=>U.loadColumn(t.columns||[])))})),l((()=>t.toolbarConfig),(()=>{J()})),l((()=>t.pagerConfig),(()=>{Q()})),l((()=>t.proxyConfig),(()=>{ve()}));const Ce=e=>{const t=H.value;al(e,zt)&&v.isZMax&&!1!==t.escRestore&&be.triggerZoomEvent(e)};Lt.hooks.forEach((t=>{const{setupGrid:l}=t;if(l){const t=l(U);t&&e.isObject(t)&&Object.assign(U,t)}})),Q(),f((()=>{h((()=>{const{data:e,columns:l,proxyConfig:o}=t,n=A.value,a=j.value;I(o)&&(e||n.form&&a.data)&&O("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),l&&l.length&&U.loadColumn(l),J()})),il.on(U,"keydown",Ce)})),g((()=>{il.off(U,"keydown")})),h((()=>{ve()}));return U.renderVN=()=>{const e=p.value,l=_.value;return n("div",{ref:b,class:["vxe-grid",{[`size--${e}`]:e,"is--animat":!!t.animat,"is--round":t.round,"is--maximize":v.isZMax,"is--loading":t.loading||v.tableLoading}],style:l},pe())},m("$xegrid",U),U},render(){return this.renderVN()}}),zo=Object.assign(_o,{install(e){e.component(_o.name,_o)}});jt.component(_o.name,_o),Object.assign(Cl,{install(e){e.component(Cl.name,Cl)}}),jt.component(Cl.name,Cl);const Wo=r({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>S.checkboxGroup.size||S.size}},emits:["update:modelValue","change"],setup(t,l){const{slots:o,emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),u=e.uniqueId(),d=s((()=>{const{modelValue:l,max:o}=t;return!!o&&(l?l.length:0)>=e.toNumber(o)})),p=s((()=>t.optionProps||{})),f=s((()=>p.value.label||"label")),g=s((()=>p.value.value||"value")),h=s((()=>p.value.disabled||"disabled")),v={computeIsMaximize:d},b={xID:u,props:t,context:l,getComputeMaps:()=>v};sl(t);const x={dispatchEvent(e,t,l){a(e,Object.assign({$checkboxGroup:b,$event:l},t))}},C={handleChecked(e,l){const{checked:o,label:n}=e,i=t.modelValue||[],s=i.indexOf(n);o?-1===s&&i.push(n):i.splice(s,1),a("update:modelValue",i),b.dispatchEvent("change",Object.assign({checklist:i},e),l),r&&c&&r.triggerItemEvent(l,c.itemConfig.field,i)}};Object.assign(b,x,C);const y=()=>{const{options:e}=t,l=o.default,a=g.value,r=f.value,i=h.value;return n("div",{class:"vxe-checkbox-group"},l?l({}):e?e.map((e=>n(Cl,{label:e[a],content:e[r],disabled:e[i]}))):[])};return b.renderVN=y,m("$xecheckboxgroup",b),y}});let qo;Object.assign(Wo,{install(e){e.component(Wo.name,Wo)}}),jt.component(Wo.name,Wo),Object.assign(El,{install:function(e){e.component(El.name,El)}}),jt.component(El.name,El),Object.assign(Ol,{install:function(e){e.component(Ol.name,Ol)}}),jt.component(Ol.name,Ol),Object.assign(Tl,{install:function(e){e.component(Tl.name,Tl)}}),jt.component(Tl.name,Tl),Object.assign(xl,{install(e){e.component(xl.name,xl)}}),jt.component(xl.name,xl);const Uo=r({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>e.eqNull(S.textarea.placeholder)?S.i18n("vxe.base.pleaseInput"):S.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>S.textarea.resize},size:{type:String,default:()=>S.textarea.size||S.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(t,a){const{emit:r}=a,c=i("$xeform",null),u=i("$xeformiteminfo",null),p=e.uniqueId(),m=sl(t),f=o({inputValue:t.modelValue}),g=d(),v=d(),b={refElem:g,refTextarea:v},x={xID:p,props:t,context:a,reactData:f,getRefMaps:()=>b};let C={};const y=s((()=>e.getSize(f.inputValue))),w=s((()=>{const l=y.value;return t.maxlength&&l>e.toNumber(t.maxlength)})),E=s((()=>Object.assign({minRows:1,maxRows:10},S.textarea.autosize,t.autosize))),T=()=>{const{size:e,autosize:l}=t,{inputValue:o}=f;if(l){qo||(qo=document.createElement("div")),qo.parentNode||document.body.appendChild(qo);const t=v.value,l=getComputedStyle(t);qo.className=["vxe-textarea--autosize",e?`size--${e}`:""].join(" "),qo.style.width=`${t.clientWidth}px`,qo.style.padding=l.padding,qo.innerText=(""+(o||"　")).replace(/\n$/,"\n　")}},O=()=>{t.autosize&&h((()=>{const t=E.value,{minRows:l,maxRows:o}=t,n=v.value,a=qo.clientHeight,r=getComputedStyle(n),i=e.toNumber(r.lineHeight),s=e.toNumber(r.paddingTop)+e.toNumber(r.paddingBottom)+e.toNumber(r.borderTopWidth)+e.toNumber(r.borderBottomWidth),c=(a-s)/i,u=c&&/[0-9]/.test(""+c)?c:Math.floor(c)+1;let d=u;u<l?d=l:u>o&&(d=o),n.style.height=`${d*i+s}px`}))},R=e=>{const t=f.inputValue;x.dispatchEvent(e.type,{value:t},e)},k=(l,o)=>{f.inputValue=l,r("update:modelValue",l),e.toValueString(t.modelValue)!==l&&(C.dispatchEvent("change",{value:l},o),c&&u&&c.triggerItemEvent(o,u.itemConfig.field,l))},M=e=>{const{immediate:l}=t,o=e.target.value;f.inputValue=o,l&&k(o,e),x.dispatchEvent("input",{value:o},e),O()},I=e=>{const{immediate:l}=t;l?R(e):k(f.inputValue,e)},D=e=>{const{immediate:l}=t,{inputValue:o}=f;l||k(o,e),x.dispatchEvent("blur",{value:o},e)};C={dispatchEvent(e,t,l){r(e,Object.assign({$textarea:x,$event:l},t))},focus:()=>(v.value.focus(),h()),blur:()=>(v.value.blur(),h())},Object.assign(x,C),l((()=>t.modelValue),(e=>{f.inputValue=e,T()})),h((()=>{const{autosize:e}=t;e&&(T(),O())}));return x.renderVN=()=>{const{className:l,resize:o,placeholder:a,disabled:r,maxlength:i,autosize:s,showWordCount:c,countMethod:u,rows:d,cols:p}=t,{inputValue:h}=f,b=m.value,x=w.value,C=y.value;return n("div",{ref:g,class:["vxe-textarea",l,{[`size--${b}`]:b,"is--autosize":s,"is--count":c,"is--disabled":r,"def--rows":!e.eqNull(d),"def--cols":!e.eqNull(p)}]},[n("textarea",{ref:v,class:"vxe-textarea--inner",value:h,name:t.name,placeholder:a?L(a):null,maxlength:i,readonly:t.readonly,disabled:r,rows:d,cols:p,style:o?{resize:o}:null,onInput:M,onChange:I,onKeydown:R,onKeyup:R,onClick:R,onFocus:R,onBlur:D}),c?n("span",{class:["vxe-textarea--count",{"is--error":x}]},u?`${u({value:h})}`:`${C}${i?`/${i}`:""}`):null])},x},render(){return this.renderVN()}});Object.assign(Uo,{install:function(e){e.component(Uo.name,Uo)}}),jt.component(Uo.name,Uo);const Xo=r({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>S.buttonGroup.size||S.size}},emits:["click"],setup(t,l){const{slots:o,emit:a}=l,r=e.uniqueId(),i={},s={xID:r,props:t,context:l,getComputeMaps:()=>i};sl(t);const c={dispatchEvent(e,t,l){a(e,Object.assign({$buttonGroup:s,$event:l},t))}},u={handleClick(e,l){const{options:o}=t,{name:n}=e,a=o?o.find((e=>e.name===n)):null;c.dispatchEvent("click",Object.assign(Object.assign({},e),{option:a}),l)}};Object.assign(s,c,u);const d=()=>{const{className:l,options:a}=t,r=o.default;return n("div",{class:["vxe-button-group",l?e.isFunction(l)?l({$buttonGroup:s}):l:""]},r?r({}):a?a.map(((e,t)=>n(cl,Object.assign({key:t},e)))):[])};return s.renderVN=d,m("$xebuttongroup",s),d}});function Go(t){return Bt(),new Promise((l=>{if(t&&t.id&&pl.some((e=>e.props.id===t.id)))l("exist");else{const o=t.onHide,n=Object.assign(t,{key:e.uniqueId(),modelValue:!0,onHide(e){const t=Vt.modals;o&&o(e),Vt.modals=t.filter((e=>e.key!==n.key)),l(e.type)}});Vt.modals.push(n)}}))}function Yo(t){return e.find(pl,(e=>e.props.id===t))}function Ko(t,l,o,n){let a;return a=e.isObject(l)?l:{content:e.toValueString(l),title:o},Go(Object.assign(Object.assign(Object.assign({},t),n),a))}Object.assign(Xo,{install(e){e.component(Xo.name,Xo)}}),jt.component(Xo.name,Xo);const Zo={get:Yo,close:function(e){const t=e?[Yo(e)]:pl,l=[];return t.forEach((e=>{e&&l.push(e.close())})),Promise.all(l)},open:Go,alert:function(e,t,l){return Ko({type:"alert",showFooter:!0},e,t,l)},confirm:function(e,t,l){return Ko({type:"confirm",status:"question",showFooter:!0},e,t,l)},message:function(e,t){return Ko({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}};Object.assign(fl,{install:function(e){e.component(fl.name,fl),Lt.modal=Zo}}),jt.component(fl.name,fl);const Jo=[],Qo=r({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:[String,Object],lockView:{type:Boolean,default:()=>S.drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>S.drawer.mask},maskClosable:{type:Boolean,default:()=>S.drawer.maskClosable},escClosable:{type:Boolean,default:()=>S.drawer.escClosable},showHeader:{type:Boolean,default:()=>S.drawer.showHeader},showFooter:{type:Boolean,default:()=>S.drawer.showFooter},showClose:{type:Boolean,default:()=>S.drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>S.drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>S.drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>S.drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>S.drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>S.drawer.showTitleOverflow},width:[Number,String],height:[Number,String],zIndex:Number,transfer:{type:Boolean,default:()=>S.drawer.transfer},size:{type:String,default:()=>S.drawer.size||S.size},beforeHideMethod:{type:Function,default:()=>S.drawer.beforeHideMethod},slots:Number},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel"],setup(t,a){const{slots:r,emit:i}=a,s=e.uniqueId(),c=sl(t),u=d(),m=d(),v=d(),b=d(),x=o({inited:!1,visible:!1,contentVisible:!1,drawerZIndex:0,firstOpen:!0}),C={refElem:u},y={},w={xID:s,props:t,context:a,reactData:x,getRefMaps:()=>C,getComputeMaps:()=>y},E=()=>m.value,T=()=>{const{width:e,height:l}=t,o=E();return o.style.width=`${e?isNaN(e)?e:`${e}px`:""}`,o.style.height=`${l?isNaN(l)?l:`${l}px`:""}`,h()},O=()=>{const{zIndex:e}=t,{drawerZIndex:l}=x;e?x.drawerZIndex=e:l<N()&&(x.drawerZIndex=$())},R=()=>h().then((()=>{})),k=l=>{const{beforeHideMethod:o}=t,{visible:n}=x,a={type:l};return n&&Promise.resolve(o?o(a):null).then((t=>{e.isError(t)||(x.contentVisible=!1,e.remove(Jo,(e=>e===w)),A.dispatchEvent("before-hide",a),setTimeout((()=>{x.visible=!1,i("update:modelValue",!1),A.dispatchEvent("hide",a)}),200))})).catch((e=>e)),h()},M=e=>{const t="close";A.dispatchEvent(t,{type:t},e),k(t)},I=e=>{const t="confirm";A.dispatchEvent(t,{type:t},e),k(t)},D=e=>{const t="cancel";A.dispatchEvent(t,{type:t},e),k(t)},F=()=>{const{showFooter:e}=t,{inited:l,visible:o}=x;return l||(x.inited=!0),o||(T(),x.visible=!0,x.contentVisible=!1,O(),Jo.push(w),setTimeout((()=>{x.contentVisible=!0,h((()=>{if(e){const e=v.value,t=b.value,l=e||t;l&&l.focus()}const t={type:""};i("update:modelValue",!0),A.dispatchEvent("show",t)}))}),10),h((()=>{const{firstOpen:e}=x;e&&R().then((()=>{setTimeout((()=>R()),20)})),e&&(x.firstOpen=!1)}))),h()},A={dispatchEvent(e,t,l){i(e,Object.assign({$drawer:w,$event:l},t))},open:F,close:()=>k("close"),getBox:E},P=e=>{const l=u.value;if(t.maskClosable&&e.target===l){k("mask")}},V=t=>{if(al(t,zt)){const t=e.max(Jo,(e=>e.reactData.drawerZIndex));t&&setTimeout((()=>{t===w&&t.props.escClosable&&k("exit")}),10)}},j=()=>{const{drawerZIndex:e}=x;Jo.some((t=>t.reactData.visible&&t.reactData.drawerZIndex>e))&&O()};Object.assign(w,A,{});const B=()=>{const{slots:e={},showTitleOverflow:l}=t,o=r.header||e.header,a=[];return t.showHeader&&a.push(n("div",{class:["vxe-drawer--header",{"is--ellipsis":l}]},o?!x.inited||t.destroyOnClose&&!x.visible?[]:ke(o({$drawer:w})):(()=>{const{slots:e={},showClose:l,title:o}=t,a=r.title||e.title,i=r.corner||e.corner,s=[n("div",{class:"vxe-drawer--header-title"},a?ke(a({$drawer:w})):o?L(o):S.i18n("vxe.alert.title"))],c=[];return i&&c.push(n("span",{class:"vxe-drawer--corner-wrapper"},ke(i({$drawer:w})))),l&&c.push(n("i",{class:["vxe-drawer--close-btn","trigger--btn",S.icon.MODAL_CLOSE],title:S.i18n("vxe.drawer.close"),onClick:M})),s.push(n("div",{class:"vxe-drawer--header-right"},c)),s})())),a},H=()=>{const{slots:e={},content:l}=t,o=r.default||e.default;return[n("div",{class:"vxe-drawer--body"},[n("div",{class:"vxe-drawer--content"},o?!x.inited||t.destroyOnClose&&!x.visible?[]:ke(o({$drawer:w})):L(l)),n(dl,{class:"vxe-drawer--loading",modelValue:t.loading})])]},_=()=>{const{slots:e={}}=t,l=r.footer||e.footer,o=[];return t.showFooter&&o.push(n("div",{class:"vxe-drawer--footer"},l?!x.inited||t.destroyOnClose&&!x.visible?[]:ke(l({$drawer:w})):(()=>{const{showCancelButton:e,showConfirmButton:l}=t,o=[];return e&&o.push(n(cl,{key:1,ref:b,content:t.cancelButtonText||S.i18n("vxe.button.cancel"),onClick:D})),l&&o.push(n(cl,{key:2,ref:v,status:"primary",content:t.confirmButtonText||S.i18n("vxe.button.confirm"),onClick:I})),o})())),o};return w.renderVN=()=>{const{className:e,position:l,loading:o,lockScroll:a,lockView:r,mask:i}=t,{inited:s,contentVisible:d,visible:f}=x,g=c.value;return n(p,{to:"body",disabled:!t.transfer||!s},[n("div",{ref:u,class:["vxe-drawer--wrapper",`pos--${l}`,e||"",{[`size--${g}`]:g,"lock--scroll":a,"lock--view":r,"is--mask":i,"is--visible":d,"is--active":f,"is--loading":o}],style:{zIndex:x.drawerZIndex},onClick:P},[n("div",{ref:m,class:"vxe-drawer--box",onMousedown:j},B().concat(H(),_()))])])},l((()=>t.width),T),l((()=>t.height),T),l((()=>t.modelValue),(e=>{e?F():k("model")})),f((()=>{h((()=>{t.modelValue&&F(),T()})),t.escClosable&&il.on(w,"keydown",V)})),g((()=>{il.off(w,"keydown")})),w},render(){return this.renderVN()}});function en(t){return e.find(Jo,(e=>e.props.id===t))}const tn={get:en,close:function(e){const t=e?[en(e)]:Jo,l=[];return t.forEach((e=>{e&&l.push(e.close())})),Promise.all(l)},open:function(t){return Bt(),new Promise((l=>{if(t&&t.id&&Jo.some((e=>e.props.id===t.id)))l("exist");else{const o=t.onHide,n=Object.assign(t,{key:e.uniqueId(),modelValue:!0,onHide(e){const t=Vt.drawers;o&&o(e),Vt.drawers=t.filter((e=>e.key!==n.key)),l(e.type)}});Vt.drawers.push(n)}}))}};Object.assign(Qo,{install:function(e){e.component(Qo.name,Qo),Lt.drawer=tn}}),jt.component(Qo.name,Qo);const ln={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},on=r({name:"VxeFormItem",props:ln,setup(t,{slots:l}){const a=d(),r=i("$xeform",{}),s=i("$xeformgather",null),c=o(Eo(r,t)),p={formItem:c},h={itemConfig:c};c.slots=l,m("$xeformiteminfo",h),m("$xeformitem",p),m("$xeformgather",null),Ro(t,c),f((()=>{ko(r,a.value,c,s)})),g((()=>{Mo(r,c)}));return{renderVN:()=>{const t=r?r.props:null;return t&&t.customLayout?((t,l)=>{const{props:o,reactData:r}=t,{data:i,rules:s,titleAlign:c,titleWidth:d,titleColon:p,titleAsterisk:m,titleOverflow:f,vertical:g}=o,{collapseAll:h}=r,{computeValidOpts:v}=t.getComputeMaps(),b=v.value,{slots:x,title:C,visible:y,folding:w,field:E,collapseNode:T,itemRender:O,showError:R,errRule:k,className:M,titleOverflow:D,vertical:$,showTitle:N,contentClassName:F,contentStyle:A,titleClassName:P,titleStyle:V}=l,j=I(O)?Lt.renderer.get(O.name):null,B=j?j.itemClassName:"",H=j?j.itemStyle:null,_=j?j.itemContentClassName:"",z=j?j.itemContentStyle:null,W=j?j.itemTitleClassName:"",q=j?j.itemTitleStyle:null,U=x?x.default:null,X=x?x.title:null,G=l.span||o.span,Y=l.align||o.align,K=e.eqNull(l.titleAlign)?c:l.titleAlign,Z=e.eqNull(l.titleWidth)?d:l.titleWidth,J=e.eqNull(l.titleColon)?p:l.titleColon,Q=e.eqNull(l.titleAsterisk)?m:l.titleAsterisk,ee=e.isUndefined(D)||e.isNull(D)?f:D,te=e.isUndefined($)||e.isNull($)?g:$,le="title"===ee,oe=!0===ee||"tooltip"===ee,ne=le||oe||"ellipsis"===ee,ae={data:i,field:E,property:E,item:l,$form:t,$grid:t.xegrid};let re=!1;if(!1===y)return u();if(s){const e=s[E];e&&(re=e.some((e=>e.required)))}let ie=[];U?ie=t.callSlot(U,ae):j&&j.renderItemContent?ie=ke(j.renderItemContent(O,ae)):E&&(ie=[`${e.get(i,E)}`]),T&&ie.push(n("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[n("span",{class:"vxe-form--item-trigger-text"},h?S.i18n("vxe.form.unfolding"):S.i18n("vxe.form.folding")),n("i",{class:["vxe-form--item-trigger-icon",h?S.icon.FORM_FOLDING:S.icon.FORM_UNFOLDING]})])),k&&b.showMessage&&ie.push(n("div",{class:"vxe-form--item-valid",style:k.maxWidth?{width:`${k.maxWidth}px`}:null},k.message));const se=oe?{onMouseenter(e){t.triggerTitleTipEvent(e,ae)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return n("div",{ref:a,class:["vxe-form--item",l.id,G?`vxe-form--item-col--${G} is--span`:"",M?e.isFunction(M)?M(ae):M:"",B?e.isFunction(B)?B(ae):B:"",{"is--title":C,"is--colon":J,"is--vertical":te,"is--asterisk":Q,"is--required":re,"is--hidden":w&&h,"is--active":Oo(t,l),"is--error":R}],style:e.isFunction(H)?H(ae):H},[n("div",{class:"vxe-form--item-inner"},[!1!==N&&(C||X)?n("div",Object.assign({class:["vxe-form--item-title",K?`align--${K}`:"",ne?"is--ellipsis":"",W?e.isFunction(W)?W(ae):W:"",P?e.isFunction(P)?P(ae):P:""],style:Object.assign({},e.isFunction(q)?q(ae):q,e.isFunction(V)?V(ae):V,Z?{width:isNaN(Z)?Z:`${Z}px`}:null),title:le?L(C):null},se),No(t,l)):null,n("div",{class:["vxe-form--item-content",Y?`align--${Y}`:"",_?e.isFunction(_)?_(ae):_:"",F?e.isFunction(F)?F(ae):F:""],style:Object.assign({},e.isFunction(z)?z(ae):z,e.isFunction(A)?A(ae):A)},ie)])])})(r,c):n("div",{ref:a})}}},render(){return this.renderVN()}});Object.assign(on,{install(e){e.component(on.name,on)}}),jt.component(on.name,on);const nn=r({name:"VxeFormGather",props:ln,setup(t,{slots:l}){const a=d(),r=i("$xeform",{}),s=i("$xeformgather",null),c=o(Eo(r,t)),u={formItem:c},p={itemConfig:c};c.children=[],m("$xeformiteminfo",p),m("$xeformgather",u),m("$xeformitem",null),Ro(t,c),f((()=>{ko(r,a.value,c,s)})),g((()=>{Mo(r,c)}));return{renderVN:()=>{const{className:o,field:i}=t,s=t.span||(r?r.props.span:null),u=l.default;return n("div",{ref:a,class:["vxe-form--gather vxe-form--item-row",c.id,s?`vxe-form--item-col_${s} is--span`:"",o?e.isFunction(o)?o({$form:r,data:r?r.props.data:{},item:c,field:i,property:i}):o:""]},u?u():[])}}},render(){return this.renderVN()}});Object.assign(nn,{install(e){e.component(nn.name,nn)}}),jt.component(nn.name,nn);class an{constructor(t,l){Object.assign(this,{id:e.uniqueId("option_"),value:l.value,label:l.label,visible:l.visible,className:l.className,disabled:l.disabled})}update(e,t){this[e]=t}}function rn(e,t){return t instanceof an?t:new an(e,t)}function sn(e,t){Object.keys(e).forEach((o=>{l((()=>e[o]),(e=>{t.update(o,e)}))}))}function cn(t,l,o,n){const{reactData:a}=t,{staticOptions:r}=a,i=l.parentNode,s=n?n.option:null,c=s?s.options:r;i&&c&&(c.splice(e.arrayIndexOf(i.children,l),0,o),a.staticOptions=r.slice(0))}function un(t,l){const{reactData:o}=t,{staticOptions:n}=o,a=e.findTree(n,(e=>e.id===l.id),{children:"options"});a&&a.items.splice(a.index,1),o.staticOptions=n.slice(0)}const dn=r({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=d(),o=i("$xeselect",{}),a=rn(o,e),r={option:a};return a.options=[],m("xeoptgroup",r),sn(e,a),f((()=>{cn(o,l.value,a)})),g((()=>{un(o,a)})),()=>n("div",{ref:l},t.default?t.default():[])}});Object.assign(dn,{install:function(e){e.component(dn.name,dn)}}),jt.component(dn.name,dn);const pn=r({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=d(),o=i("$xeselect",{}),a=i("xeoptgroup",null),r=rn(o,e);return r.slots=t,sn(e,r),f((()=>{cn(o,l.value,r,a)})),g((()=>{un(o,r)})),()=>n("div",{ref:l})}});Object.assign(pn,{install:function(e){e.component(pn.name,pn)}}),jt.component(pn.name,pn);const mn=r({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>S.switch.size||S.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(t,l){const{emit:a}=l,r=i("$xeform",null),c=i("$xeformiteminfo",null),p=e.uniqueId(),m=sl(t),f=o({isActivated:!1,hasAnimat:!1,offsetLeft:0}),g={xID:p,props:t,context:l,reactData:f},v=d();let b={};const x=s((()=>L(t.openLabel))),C=s((()=>L(t.closeLabel))),y=s((()=>t.modelValue===t.openValue));let w;const S=e=>{if(!t.disabled){const l=y.value;clearTimeout(w);const o=l?t.closeValue:t.openValue;f.hasAnimat=!0,a("update:modelValue",o),b.dispatchEvent("change",{value:o},e),r&&c&&r.triggerItemEvent(e,c.itemConfig.field,o),w=setTimeout((()=>{f.hasAnimat=!1}),400)}},E=e=>{f.isActivated=!0,b.dispatchEvent("focus",{value:t.modelValue},e)},T=e=>{f.isActivated=!1,b.dispatchEvent("blur",{value:t.modelValue},e)};b={dispatchEvent(e,t,l){a(e,Object.assign({$switch:g,$event:l},t))},focus(){const e=v.value;return f.isActivated=!0,e.focus(),h()},blur:()=>(v.value.blur(),f.isActivated=!1,h())},Object.assign(g,b);return g.renderVN=()=>{const{disabled:e,openIcon:l,closeIcon:o,openActiveIcon:a,closeActiveIcon:r}=t,i=y.value,s=m.value,c=x.value,d=C.value;return n("div",{class:["vxe-switch",i?"is--on":"is--off",{[`size--${s}`]:s,"is--disabled":e,"is--animat":f.hasAnimat}]},[n("button",{ref:v,class:"vxe-switch--button",type:"button",disabled:e,onClick:S,onFocus:E,onBlur:T},[n("span",{class:"vxe-switch--label vxe-switch--label-on"},[l?n("i",{class:["vxe-switch--label-icon",l]}):u(),c]),n("span",{class:"vxe-switch--label vxe-switch--label-off"},[o?n("i",{class:["vxe-switch--label-icon",o]}):u(),d]),n("span",{class:"vxe-switch--icon"},a||r?[n("i",{class:i?a:r})]:[])])])},g},render(){return this.renderVN()}});Object.assign(mn,{install:function(e){e.component(mn.name,mn)}}),jt.component(mn.name,mn);const fn=r({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>S.list.size||S.size},autoResize:{type:Boolean,default:()=>S.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(t,a){const{slots:r,emit:i}=a,c=e.uniqueId(),u=sl(t),p=o({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),m=d(),f=d(),v=d(),b={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},x={refElem:m},y={xID:c,props:t,context:a,reactData:p,internalData:b,getRefMaps:()=>x};let w={};const E=s((()=>Object.assign({},S.list.scrollY,t.scrollY))),T=s((()=>{const{height:e,maxHeight:l}=t,o={};return e?o.height=`${isNaN(e)?e:`${e}px`}`:l&&(o.height="auto",o.maxHeight=`${isNaN(l)?l:`${l}px`}`),o})),O=()=>{const{scrollYLoad:e}=p,{scrollYStore:t,fullData:l}=b;p.bodyHeight=e?l.length*t.rowHeight:0,p.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},R=()=>{const{scrollYLoad:e}=p,{fullData:t,scrollYStore:l}=b;return p.items=e?t.slice(l.startIndex,l.endIndex):t.slice(0),h()},k=()=>{R(),O()},M=()=>h().then((()=>{const{scrollYLoad:t}=p,{scrollYStore:l}=b,o=v.value,n=E.value;let a,r=0;if(o&&(n.sItem&&(a=o.querySelector(n.sItem)),a||(a=o.children[0])),a&&(r=a.offsetHeight),r=Math.max(20,r),l.rowHeight=r,t){const t=f.value,o=Math.max(8,Math.ceil(t.clientHeight/r)),a=n.oSize?e.toNumber(n.oSize):B.edge?10:0;l.offsetSize=a,l.visibleSize=o,l.endIndex=Math.max(l.startIndex,o+a,l.endIndex),k()}else O();p.rowHeight=r})),I=()=>{const e=f.value;return e&&(e.scrollTop=0),h()},D=(t,l)=>{const o=f.value;return e.isNumber(t)&&(o.scrollLeft=t),e.isNumber(l)&&(o.scrollTop=l),p.scrollYLoad?new Promise((e=>{setTimeout((()=>{h((()=>{e()}))}),50)})):h()},$=()=>{const{lastScrollLeft:e,lastScrollTop:t}=b;return I().then((()=>{if(e||t)return b.lastScrollLeft=0,b.lastScrollTop=0,D(e,t)}))},N=()=>{const e=m.value;return e.clientWidth&&e.clientHeight?M():Promise.resolve()},F=e=>{const t=e.target,l=t.scrollTop,o=t.scrollLeft,n=o!==b.lastScrollLeft,a=l!==b.lastScrollTop;b.lastScrollTop=l,b.lastScrollLeft=o,p.scrollYLoad&&(e=>{const{scrollYStore:t}=b,{startIndex:l,endIndex:o,visibleSize:n,offsetSize:a,rowHeight:r}=t,i=e.target.scrollTop,s=Math.floor(i/r),c=Math.max(0,s-1-a),u=s+n+a;(s<=l||s>=o-n-1)&&(l===c&&o===u||(t.startIndex=c,t.endIndex=u,k()))})(e),w.dispatchEvent("scroll",{scrollLeft:o,scrollTop:l,isX:n,isY:a},e)};w={dispatchEvent(e,t,l){i(e,Object.assign({$list:y,$event:l},t))},loadData(e){const{scrollYStore:t}=b,l=E.value,o=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),b.fullData=o,p.scrollYLoad=!!l.enabled&&l.gt>-1&&(0===l.gt||l.gt<=o.length),R(),M().then((()=>{$()}))},reloadData:e=>(I(),w.loadData(e)),recalculate:N,scrollTo:D,refreshScroll:$,clearScroll:I},Object.assign(y,w);const L=d(0);let A;l((()=>t.data?t.data.length:-1),(()=>{L.value++})),l((()=>t.data),(()=>{L.value++})),l(L,(()=>{w.loadData(t.data||[])})),l((()=>t.syncResize),(e=>{e&&(N(),h((()=>setTimeout((()=>N())))))})),C((()=>{N().then((()=>$()))})),h((()=>{if(il.on(y,"resize",(()=>{N()})),t.autoResize){const e=m.value;A=Kl((()=>N())),A.observe(e)}w.loadData(t.data||[])})),g((()=>{A&&A.disconnect(),il.off(y,"resize")}));return y.renderVN=()=>{const{className:l,loading:o}=t,{bodyHeight:a,topSpaceHeight:i,items:s}=p,c=u.value,d=T.value;return n("div",{ref:m,class:["vxe-list",l?e.isFunction(l)?l({$list:y}):l:"",{[`size--${c}`]:c,"is--loading":o}]},[n("div",{ref:f,class:"vxe-list--virtual-wrapper",style:d,onScroll:F},[n("div",{class:"vxe-list--y-space",style:{height:a?`${a}px`:""}}),n("div",{ref:v,class:"vxe-list--body",style:{marginTop:i?`${i}px`:""}},r.default?r.default({items:s,$list:y}):[])]),n(dl,{class:"vxe-list--loading",modelValue:o})])},y},render(){return this.renderVN()}});Object.assign(fn,{install(e){e.component(fn.name,fn)}}),jt.component(fn.name,fn);const gn=r({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>S.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(t,a){const{slots:r,emit:i}=a,s=e.uniqueId(),c=sl(t),m=o({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),f=d(),v=d(),b=d(),x={refElem:f},C={xID:s,props:t,context:a,reactData:m,getRefMaps:()=>x};let y={};const w=()=>h().then((()=>{const{transfer:e,placement:l}=t,{panelIndex:o,visiblePanel:n}=m;if(n){const t=v.value,n=b.value;if(n&&t){const a=t.offsetHeight,r=t.offsetWidth,i=n.offsetHeight,s=n.offsetWidth,c=5,u={zIndex:o},{boundingTop:d,boundingLeft:p,visibleHeight:f,visibleWidth:g}=oe(t);let h="bottom";if(e){let e=p,t=d+a;"top"===l?(h="top",t=d-i):l||(t+i+c>f&&(h="top",t=d-i),t<c&&(h="bottom",t=d+a)),e+s+c>g&&(e-=e+s+c-g),e<c&&(e=c),Object.assign(u,{left:`${e}px`,top:`${t}px`,minWidth:`${r}px`})}else"top"===l?(h="top",u.bottom=`${a}px`):l||d+a+i>f&&d-a-i>c&&(h="top",u.bottom=`${a}px`);m.panelStyle=u,m.panelPlacement=h}}return h()}));let S;const E=()=>(m.inited||(m.inited=!0),new Promise((e=>{t.disabled?h((()=>{e()})):(clearTimeout(S),m.isActivated=!0,m.animatVisible=!0,setTimeout((()=>{m.visiblePanel=!0,i("update:modelValue",!0),w(),setTimeout((()=>{e(w())}),40)}),10),m.panelIndex<N()&&(m.panelIndex=$()))}))),T=()=>(m.visiblePanel=!1,i("update:modelValue",!1),new Promise((e=>{m.animatVisible?S=window.setTimeout((()=>{m.animatVisible=!1,h((()=>{e()}))}),350):h((()=>{e()}))}))),O=e=>{const{disabled:l}=t,{visiblePanel:o}=m,n=b.value;l||o&&(te(e,n).flag?w():(T(),y.dispatchEvent("hide-panel",{},e)))},R=e=>{const{disabled:l}=t,{visiblePanel:o}=m,n=f.value,a=b.value;l||(m.isActivated=te(e,n).flag||te(e,a).flag,o&&!m.isActivated&&(T(),y.dispatchEvent("hide-panel",{},e)))},k=e=>{m.visiblePanel&&(m.isActivated=!1,T(),y.dispatchEvent("hide-panel",{},e))};y={dispatchEvent(e,t,l){i(e,Object.assign({$pulldown:C,$event:l},t))},isPanelVisible:()=>m.visiblePanel,togglePanel:()=>m.visiblePanel?T():E(),showPanel:E,hidePanel:T},Object.assign(C,y),l((()=>t.modelValue),(e=>{e?E():T()})),h((()=>{il.on(C,"mousewheel",O),il.on(C,"mousedown",R),il.on(C,"blur",k)})),g((()=>{il.off(C,"mousewheel"),il.off(C,"mousedown"),il.off(C,"blur")}));return C.renderVN=()=>{const{className:l,popupClassName:o,destroyOnClose:a,transfer:i,disabled:s}=t,{inited:d,isActivated:g,animatVisible:h,visiblePanel:x,panelStyle:y,panelPlacement:w}=m,S=c.value,E=r.default,T=r.header,O=r.footer,R=r.dropdown;return n("div",{ref:f,class:["vxe-pulldown",l?e.isFunction(l)?l({$pulldown:C}):l:"",{[`size--${S}`]:S,"is--visivle":x,"is--disabled":s,"is--active":g}]},[n("div",{ref:v,class:"vxe-pulldown--content"},E?E({$pulldown:C}):[]),n(p,{to:"body",disabled:!i||!d},[n("div",{ref:b,class:["vxe-table--ignore-clear vxe-pulldown--panel",o?e.isFunction(o)?o({$pulldown:C}):o:"",{[`size--${S}`]:S,"is--transfer":i,"animat--leave":h,"animat--enter":x}],placement:w,style:y},R?[n("div",{class:"vxe-pulldown--panel-wrapper"},!d||a&&!x&&!h?[]:[T?n("div",{class:"vxe-pulldown--panel-header"},T({$pulldown:C})):u(),n("div",{class:"vxe-pulldown--panel-body"},R({$pulldown:C})),O?n("div",{class:"vxe-pulldown--panel-footer"},O({$pulldown:C})):u()])]:[])])])},C},render(){return this.renderVN()}});Object.assign(gn,{install:function(e){e.component(gn.name,gn)}}),jt.component(gn.name,gn);const hn={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colVisible:"是否显示",colFixed:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},formDesign:{widget:{input:"输入框",textarea:"文本域",select:"下拉框"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};Dt({i18n:(t,l)=>e.toFormatString(e.get(hn,t),l)});export{$l as C,zo as G,Ll as I,xo as P,ho as S,fo as T,Lt as V,_l as a};
