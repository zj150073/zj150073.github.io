import{a as T,g as L}from"./system-BotgyY9p.js";import{d as q,l as u,G as x,ab as z,aN as R,Z as S,r as a,o as j,g as P,h as o,b as n,u as c,f as A}from"./index-Bgkx_9zZ.js";const G=q({name:"user",__name:"index",setup(B){let g=u({}),C=u([{label:"用户名称",prop:"username",type:"input"},{label:"状态",prop:"status",type:"select",placeholder:"请选择状态",options:[{value:0,label:"停用"},{value:1,label:"启用"}]}]),h=x({pagination:{pageSize:5,pageSizes:[5,100,150,200],paginationLayout:"total, sizes, prev, pager, next"},requestConfig:{pagingBackEnd:["page","size","list"],request:T,queryParam:g.value,checkRequestSuccess:e=>e.success,onPageLoadSuccess:()=>{}},tableOptions:{columns:[{label:"用户头像",prop:"avatar",width:"70"},{label:"用户名称",prop:"username",width:"150px"},{label:"用户昵称",prop:"nickname",width:""},{label:"性别",prop:"sex",width:""},{label:"部门",prop:"dept",width:""},{label:"手机号",prop:"phone",width:""},{label:"状态",prop:"status",width:""},{label:"创建时间",prop:"createTime",width:""}],rowkey:"id",height:"",size:"small",border:!0,stripe:!0,serialNumber:!0,highlightCurrentRow:!0,hidePagination:!0,hideSetting:!0,lazy:!1,treeProps:{children:"children",hasChildren:"hasChildren",checkStrictly:!1},showSummary:!1,sumText:"求和",tableLayout:"auto",headerDragend:(e,t,i,l)=>{},sortChange:e=>{},load:(e,t,i)=>{setTimeout(()=>{i([{date:"2016-05-11",name:"81",state:"California",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036"}])},1e3)},summaryMethod:e=>{const{columns:t,data:i}=e,l=[];return t.forEach((f,s)=>{if(s===0){l[s]=z("div",{},["求和"]);return}const d=i.map(r=>Number(r[f.property]));l[s]="N/A",d.every(r=>Number.isNaN(r))?l[s]="N/A":l[s]=`${d.reduce((r,m)=>{const _=Number(m);return Number.isNaN(_)?r:r+m},0)}`}),l}}}),b=u([]),v=u(null),p=u(null);const N=e=>{h.requestConfig.queryParam.dept=e.id,p.value.reloadTable()};L().then(e=>{b.value=R(e.data),h.requestConfig.queryParam.dept=e.data[0].id,S(()=>{v.value.setCurrentKey(e.data[0].id),p.value.reloadTable()})});let w=()=>{p.value.reloadTable()};return(e,t)=>{const i=a("el-tree"),l=a("el-button"),f=a("ajmerQuery"),s=a("el-header"),d=a("el-avatar"),r=a("ajmerTable"),m=a("el-main"),_=a("el-container"),k=a("ajmerLeftRight");return j(),P(k,{class:"bg-bg_color"},{left:o(()=>[n(i,{ref_key:"treeRefs",ref:v,"node-key":"id",class:"elTreeplatform",data:c(b),"default-expand-all":"","expand-on-click-node":!1,props:{children:"children",label:"name"},onNodeClick:N},null,8,["data"])]),right:o(()=>[n(_,null,{default:o(()=>[n(s,null,{default:o(()=>[n(f,{config:c(C),search:c(g)},{outBtns:o(()=>[n(l,{class:"theme-two",onClick:t[0]||(t[0]=y=>c(w)())},{default:o(()=>t[1]||(t[1]=[A(" 搜索 ")])),_:1})]),_:1},8,["config","search"])]),_:1}),n(m,null,{default:o(()=>[n(r,{ref_key:"tableRefs",ref:p,config:c(h)},{avatar:o(y=>[n(d,{size:30,src:y.row.avatar},null,8,["src"])]),_:1},8,["config"])]),_:1})]),_:1})]),_:1})}}});export{G as default};
