var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(l,t,a)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a,n=(e,l)=>{for(var t in l||(l={}))r.call(l,t)&&i(e,t,l[t]);if(a)for(var t of a(l))o.call(l,t)&&i(e,t,l[t]);return e},s=(e,a)=>l(e,t(a));import{f as d,k as c,g as h,d as u,a as v,Z as p,p as f,n as g,e as m,A as b,B as y,i as x,w,a2 as z,v as _,u as j,h as H,t as O,s as k,_ as C}from"./index-CgRj-jQH.js";import{u as M}from"./hooks-COqr6-qF.js";import{d as V}from"./git-branch-line-BhusJOme.js";import{d as I}from"./more-2-fill-iTOisMwj.js";const P={width:1024,height:1024,body:'<path fill="currentColor" d="M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"/><path fill="currentColor" d="M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"/>'},B={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},L={width:"32",height:"32",viewBox:"0 0 24 24"},A=[h("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1)];const D={render:function(e,l){return d(),c("svg",L,[...A])}},N={width:"32",height:"32",viewBox:"0 0 24 24"},R=[h("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1)];const q={render:function(e,l){return d(),c("svg",N,[...R])}},E={class:"h-full bg-bg_color overflow-auto",style:{minHeight:"calc(100vh - 141px)"}},$={class:"flex items-center h-[34px]"},S=C(u({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select"],setup(e,{expose:l,emit:t}){const a=t,r=v(),o=v(!0),i=v(""),u=v({}),{proxy:C}=p(),L={children:"children",label:"name"},A=f((()=>["!h-[20px]","!text-sm","reset-margin","!text-[var(--el-text-color-regular)]","dark:!text-white","dark:hover:!text-primary"])),N=(e,l)=>!e||l.name.includes(e);function R(e){var l,t;const r=e.$treeNodeId;u.value[r]=(null==(l=u.value[r])?void 0:l.highlight)?Object.assign({id:r},u.value[r],{highlight:!1}):Object.assign({id:r},u.value[r],{highlight:!0}),Object.values(u.value).forEach((e=>{e.id!==r&&(e.highlight=!1)})),a("tree-select",(null==(t=u.value[r])?void 0:t.highlight)?Object.assign(s(n({},e),{selected:!0})):Object.assign(s(n({},e),{selected:!1})))}function S(e){o.value=e;const l=C.$refs.treeRef.store._getAllNodes();for(let t=0;t<l.length;t++)l[t].expanded=e}return g(i,(e=>{r.value.filter(e)})),l({onTreeReset:function(){u.value={},i.value="",S(!0)}}),(l,t)=>{const a=m("IconifyIconOffline"),n=m("el-icon"),s=m("el-input"),v=m("el-button"),p=m("el-dropdown-item"),f=m("el-dropdown-menu"),g=m("el-dropdown"),C=m("el-divider"),T=m("el-tree"),U=b("loading");return y((d(),c("div",E,[h("div",$,[x(s,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"ml-2",size:"small",placeholder:"请输入部门名称",clearable:""},{suffix:w((()=>[x(n,{class:"el-input__icon"},{default:w((()=>[y(x(a,{icon:"ri:search-line"},null,512),[[z,0===i.value.length]])])),_:1})])),_:1},8,["modelValue"]),x(g,{"hide-on-click":!1},{dropdown:w((()=>[x(f,null,{default:w((()=>[x(p,null,{default:w((()=>[x(v,{class:_(A.value),link:"",type:"primary",icon:j(M)(o.value?j(D):j(q)),onClick:t[1]||(t[1]=e=>S(!o.value))},{default:w((()=>[H(O(o.value?"折叠全部":"展开全部"),1)])),_:1},8,["class","icon"])])),_:1})])),_:1})])),default:w((()=>[x(a,{class:"w-[28px] cursor-pointer",width:"18px",icon:j(I)},null,8,["icon"])])),_:1})]),x(C),x(T,{ref_key:"treeRef",ref:r,data:e.treeData,"node-key":"id",size:"small",props:L,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":N,onNodeClick:R},{default:w((({node:e,data:l})=>{var t,r,o;return[h("span",{class:_(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",i.value.trim().length>0&&e.label.includes(i.value)&&"text-red-500",(null==(t=u.value[e.id])?void 0:t.highlight)?"dark:text-primary":""]),style:k({color:(null==(r=u.value[e.id])?void 0:r.highlight)?"var(--el-color-primary)":"",background:(null==(o=u.value[e.id])?void 0:o.highlight)?"var(--el-color-primary-light-7)":"transparent"})},[x(a,{icon:1===l.type?j(P):2===l.type?j(B):j(V)},null,8,["icon"]),H(" "+O(e.label),1)],6)]})),_:1},8,["data"])])),[[U,e.treeLoading]])}}}),[["__scopeId","data-v-f63f1ecd"]]);export{S as default};
