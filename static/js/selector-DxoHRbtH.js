var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;import{a0 as u,a1 as c,a2 as i,M as a}from"./index-DK9WUj9J.js";const d="stay",m="hs-on",h="hs-off",f="hs-range",V="both-left-sides",p="both-right-sides";let y="right",b=[],g=[];const _={HsKey:{type:Number||String,default:0},disabled:{type:Boolean,default:!1},value:{type:Number,default:0},max:{type:Array,default:()=>[1,2,3,4,5,6,7,8,9,10]},echo:{type:Array,default:()=>[]}},x=Vue.defineComponent({name:"ReSelector",props:_,emits:["selectedVal"],setup(e,{emit:t}){const r=Vue.getCurrentInstance(),o=e.value,l=Vue.computed((()=>e.disabled)),s=Vue.computed((()=>{const t=[];let r=0,l=o;for(o!==Math.floor(o)&&l--;r<l;r++)t.push(m);for(;r<e.max.length;r++)t.push(h);return t}));return Vue.onBeforeMount((()=>{Vue.nextTick((()=>{(t=>{if(0!==t.length){if(t.length>2||1===t.length)throw"传入的数组长度必须是2";for(t.sort(((e,t)=>e-t)),c(r.refs["hsdiv"+e.HsKey+t[0]],m,d),c(r.refs["hstd"+e.HsKey+t[0]],V),c(r.refs["hsdiv"+e.HsKey+t[1]],m,d),c(r.refs["hstd"+e.HsKey+t[1]],p);t[1]>=t[0];)c(r.refs["hstd"+e.HsKey+t[0]],f),t[0]++}})(e.echo)}))})),()=>Vue.createVNode(Vue.Fragment,null,[Vue.createVNode("table",{cellspacing:"0",cellpadding:"0"},[Vue.createVNode("tbody",null,[Vue.createVNode("tr",null,[e.max.map(((r,o)=>Vue.createVNode("td",{"data-index":e.HsKey,ref:`hstd${e.HsKey}${o}`,class:`hs-select__item${o}`,onMousemove:()=>(t=>{if(!e.disabled){if(1===g.length){b.length<1&&b.push({index:t});let e=b[0].index;if(t>e)for(y="right",u(!1,p,document.querySelector(".hs-select__item"+g[0].index));t>=e;)c(document.querySelector(".hs-select__item"+e),f),e++;else for(y="left",u(!0,p,document.querySelector(".hs-select__item"+g[0].index));t<=e;)c(document.querySelector(".hs-select__item"+e),f),e--}c(document.querySelector("."+h+t),m)}})(o),onMouseleave:()=>(t=>{if(e.disabled)return;const r=document.querySelector("."+h+t);if(r.className.includes(d))return!1;if(i(r,m),1===g.length){const e=b[0].index;if(t>=e)for(let r=0;r<=t;r++)i(document.querySelector(".hs-select__item"+r),f);else for(;t<=e;)i(document.querySelector(".hs-select__item"+t),f),t++}})(o),onClick:()=>((r,o)=>{if(e.disabled)return;const l=g.length;l<2?(g.push({item:o,index:r}),c(document.querySelector("."+h+r),d),c(document.querySelector(".hs-select__item"+g[0].index),V),g[1]&&c(document.querySelector(".hs-select__item"+g[1].index),"right"===y?p:V),1===l&&t("selectedVal","right"===y?{left:g[0].item,right:g[1].item,whole:g}:{left:g[1].item,right:g[0].item,whole:g})):Vue.nextTick((()=>{g.forEach((e=>{i(document.querySelector("."+h+e.index),m,d),i(document.querySelector(".hs-select__item"+e.index),V,p)})),g=[],b=[];for(let t=0;t<=e.max.length;t++){const e=document.querySelector(".hs-select__item"+t);e&&i(e,f)}g.push({item:o,index:r}),c(document.querySelector("."+h+r),d),c(document.querySelector(".hs-select__item"+g[0].index),V)}))})(o,r),style:{cursor:Vue.unref(l)?"auto":"pointer",textAlign:"center"},key:o},[Vue.createVNode("div",{ref:`hsdiv${e.HsKey}${o}`,class:`hs-item ${[Vue.unref(s)[o]+o]}`},[Vue.createVNode("span",null,[r])])])))])])])])}}),v=a(x),S={class:"font-medium"},k={key:0,class:"mt-3"},q=Vue.defineComponent((N=((e,t)=>{for(var r in t||(t={}))l.call(t,r)&&n(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&n(e,r,t[r]);return e})({},{name:"Selector"}),t(N,r({__name:"selector",setup(e){const t=Vue.ref(""),r=Vue.ref([{title:"基础用法",echo:[],disabled:!1},{title:"回显模式",echo:[2,7],disabled:!0}]),o=({left:e,right:r})=>{t.value=`${e}-${r}`};return(e,l)=>{const s=Vue.resolveComponent("el-link"),n=Vue.resolveComponent("el-card");return Vue.openBlock(),Vue.createElementBlock("div",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.value,((e,r)=>(Vue.openBlock(),Vue.createBlock(n,{key:r,class:"mb-2",shadow:"never"},{header:Vue.withCtx((()=>[Vue.createElementVNode("p",S,Vue.toDisplayString(e.title),1),Vue.createVNode(s,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/selector.vue",target:"_blank"},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 代码位置 src/views/components/selector.vue ")])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(v),{HsKey:r,echo:e.echo,disabled:e.disabled,onSelectedVal:o},null,8,["HsKey","echo","disabled"]),e.disabled?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("h4",k,"选中范围："+Vue.toDisplayString(t.value),1))])),_:2},1024)))),128))])}}}))));var N;export{q as default};
